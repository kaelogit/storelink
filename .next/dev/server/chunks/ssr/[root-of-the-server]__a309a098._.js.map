{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/components/store/AddProductModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { X, Loader2, Trash2, Plus, Lock, Crown } from \"lucide-react\";\r\n\r\ninterface AddProductModalProps {\r\n  storeId: string;\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSuccess: () => void;\r\n}\r\n\r\nexport default function AddProductModal({ storeId, isOpen, onClose, onSuccess }: AddProductModalProps) {\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(false);\r\n  const [categories, setCategories] = useState<{ id: string; name: string }[]>([]);\r\n  \r\n  // --- LIMIT STATE ---\r\n  const [isLimitReached, setIsLimitReached] = useState(false);\r\n  const [isExpired, setIsExpired] = useState(false);\r\n  \r\n  // --- FORM STATE ---\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    price: \"\",\r\n    stock: \"1\",\r\n    description: \"\",\r\n    categoryId: \"\",\r\n  });\r\n  \r\n  const [imageFiles, setImageFiles] = useState<File[]>([]);\r\n  const [previews, setPreviews] = useState<string[]>([]);\r\n\r\n  // 1. Fetch Data & Check Limits when modal opens\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      const loadData = async () => {\r\n        // A. Get Categories\r\n        const { data: cats } = await supabase.from(\"categories\").select(\"*\").eq(\"store_id\", storeId);\r\n        setCategories(cats || []);\r\n\r\n        // B. Get Store Plan & Expiry\r\n        const { data: store } = await supabase\r\n          .from(\"stores\")\r\n          .select(\"subscription_plan, subscription_expiry\")\r\n          .eq(\"id\", storeId)\r\n          .single();\r\n        \r\n        const plan = store?.subscription_plan || 'free';\r\n        const expiry = store?.subscription_expiry;\r\n\r\n        // Check Expiry\r\n        if (plan !== 'free' && expiry && new Date(expiry) < new Date()) {\r\n           setIsExpired(true);\r\n           return; \r\n        } else {\r\n           setIsExpired(false);\r\n        }\r\n\r\n        // C. Get Product Count\r\n        const { count } = await supabase\r\n          .from(\"products\")\r\n          .select(\"*\", { count: 'exact', head: true }) \r\n          .eq(\"store_id\", storeId);\r\n        \r\n        const currentCount = count || 0;\r\n\r\n        // D. Check Free Limit (5 Products)\r\n        if (plan === 'free' && currentCount >= 5) {\r\n          setIsLimitReached(true);\r\n        } else {\r\n          setIsLimitReached(false);\r\n        }\r\n      };\r\n      \r\n      loadData();\r\n    }\r\n  }, [isOpen, storeId]);\r\n\r\n  // Handle closing properly\r\n  if (!isOpen) return null;\r\n\r\n  // --- IMAGE HANDLING ---\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files) {\r\n      const newFiles = Array.from(e.target.files);\r\n      const combinedFiles = [...imageFiles, ...newFiles].slice(0, 4); // Max 4\r\n      setImageFiles(combinedFiles);\r\n      setPreviews(combinedFiles.map(file => URL.createObjectURL(file)));\r\n    }\r\n  };\r\n\r\n  const removeImage = (index: number) => {\r\n    const newFiles = imageFiles.filter((_, i) => i !== index);\r\n    setImageFiles(newFiles);\r\n    setPreviews(newFiles.map(file => URL.createObjectURL(file)));\r\n  };\r\n\r\n  // --- SUBMISSION ---\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (isLimitReached || isExpired) return; \r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      // 1. Upload Images\r\n      const uploadedUrls: string[] = [];\r\n      for (const file of imageFiles) {\r\n        const fileName = `${storeId}/${Date.now()}-${Math.random().toString(36).substring(7)}`;\r\n        const { error } = await supabase.storage.from(\"products\").upload(fileName, file);\r\n        if (error) throw error;\r\n        \r\n        const { data } = supabase.storage.from(\"products\").getPublicUrl(fileName);\r\n        uploadedUrls.push(data.publicUrl);\r\n      }\r\n\r\n      // 2. Insert Product\r\n      const { error: dbError } = await supabase.from(\"products\").insert({\r\n        store_id: storeId,\r\n        name: formData.name,\r\n        price: parseFloat(formData.price),\r\n        stock_quantity: parseInt(formData.stock),\r\n        description: formData.description,\r\n        category_id: formData.categoryId || null,\r\n        image_urls: uploadedUrls, // Using the new Array column\r\n        is_active: true\r\n      });\r\n\r\n      if (dbError) throw dbError;\r\n\r\n      // 3. Success\r\n      onSuccess();\r\n      onClose();\r\n      \r\n      // Reset Form\r\n      setFormData({ name: \"\", price: \"\", stock: \"1\", description: \"\", categoryId: \"\" });\r\n      setImageFiles([]);\r\n      setPreviews([]);\r\n\r\n    } catch (error: any) {\r\n      alert(\"Error: \" + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // --- RENDER ---\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in\">\r\n      <div className=\"bg-white w-full max-w-md rounded-3xl overflow-hidden shadow-2xl animate-in slide-in-from-bottom-10 flex flex-col max-h-[90vh]\">\r\n        \r\n        {/* Header */}\r\n        <div className=\"p-5 border-b border-gray-100 flex justify-between items-center bg-gray-50\">\r\n          <h2 className=\"font-bold text-lg text-gray-900\">Add Product</h2>\r\n          <button onClick={onClose} className=\"p-2 bg-white rounded-full shadow-sm text-gray-500 hover:bg-gray-100 transition\"><X size={20} /></button>\r\n        </div>\r\n\r\n        {/* --- STATE 1: EXPIRED PLAN --- */}\r\n        {isExpired ? (\r\n           <div className=\"p-8 text-center flex flex-col items-center justify-center h-full\">\r\n              <div className=\"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mb-4\">\r\n                 <Lock size={32} className=\"text-red-400\" />\r\n              </div>\r\n              <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Subscription Expired</h3>\r\n              <p className=\"text-gray-500 text-sm mb-6 text-center max-w-xs\">\r\n                Your plan has expired. Please renew to add more products and unhide your store.\r\n              </p>\r\n              <button onClick={() => router.push(\"/dashboard/subscription\")} className=\"w-full bg-red-600 text-white py-4 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 hover:bg-red-700 transition\">\r\n                Renew Subscription\r\n              </button>\r\n           </div>\r\n\r\n        /* --- STATE 2: FREE LIMIT REACHED --- */\r\n        ) : isLimitReached ? (\r\n          <div className=\"p-8 text-center flex flex-col items-center justify-center h-full\">\r\n             <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4\">\r\n                <Crown size={32} className=\"text-yellow-500 fill-yellow-500\" />\r\n             </div>\r\n             <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Free Limit Reached</h3>\r\n             <p className=\"text-gray-500 text-sm mb-6 text-center max-w-xs\">\r\n               You have used your 5 free products. Upgrade to <b>Premium</b> to upload unlimited items and get verified.\r\n             </p>\r\n             <button onClick={() => router.push(\"/dashboard/subscription\")} className=\"w-full bg-gradient-to-r from-gray-900 to-gray-800 text-white py-4 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 hover:scale-[1.02] transition\">\r\n               <Crown size={20} className=\"text-yellow-400\" /> Upgrade to Premium\r\n             </button>\r\n          </div>\r\n\r\n        /* --- STATE 3: FORM (ALLOWED) --- */\r\n        ) : (\r\n          <div className=\"p-6 overflow-y-auto\">\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n              \r\n              {/* Image Grid */}\r\n              <div>\r\n                <label className=\"block text-sm font-bold text-gray-700 mb-2\">Images (Max 4)</label>\r\n                <div className=\"grid grid-cols-4 gap-2\">\r\n                  {previews.map((src, index) => (\r\n                    <div key={index} className=\"aspect-square relative rounded-xl overflow-hidden border border-gray-200\">\r\n                      <img src={src} alt=\"Preview\" className=\"w-full h-full object-cover\" />\r\n                      <button type=\"button\" onClick={() => removeImage(index)} className=\"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600\"><Trash2 size={12} /></button>\r\n                    </div>\r\n                  ))}\r\n                  {previews.length < 4 && (\r\n                    <label className=\"aspect-square rounded-xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center text-gray-400 bg-gray-50 cursor-pointer hover:border-gray-900 hover:text-gray-900 transition\">\r\n                      <Plus size={24} className=\"mb-1\"/>\r\n                      <input type=\"file\" accept=\"image/*\" multiple onChange={handleFileChange} className=\"hidden\" />\r\n                    </label>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Fields */}\r\n              <div>\r\n                <label className=\"block text-sm font-bold text-gray-700 mb-1\">Product Name</label>\r\n                <input required className=\"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-900\" placeholder=\"e.g. Nike Air Force\" value={formData.name} onChange={e => setFormData({...formData, name: e.target.value})} />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                 <div>\r\n                    <label className=\"block text-sm font-bold text-gray-700 mb-1\">Price (₦)</label>\r\n                    <input required type=\"number\" className=\"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-900\" placeholder=\"50000\" value={formData.price} onChange={e => setFormData({...formData, price: e.target.value})} />\r\n                 </div>\r\n                 <div>\r\n                    <label className=\"block text-sm font-bold text-gray-700 mb-1\">Stock Qty</label>\r\n                    <input required type=\"number\" className=\"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-900\" placeholder=\"10\" value={formData.stock} onChange={e => setFormData({...formData, stock: e.target.value})} />\r\n                 </div>\r\n              </div>\r\n\r\n              {/* Category Select */}\r\n              <div>\r\n                <label className=\"block text-sm font-bold text-gray-700 mb-1\">Category</label>\r\n                <select \r\n                  className=\"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-gray-900\"\r\n                  value={formData.categoryId}\r\n                  onChange={e => setFormData({...formData, categoryId: e.target.value})}\r\n                >\r\n                  <option value=\"\">No Category</option>\r\n                  {categories.map(cat => (\r\n                    <option key={cat.id} value={cat.id}>{cat.name}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <div className=\"flex justify-between items-center mb-1\">\r\n                   <label className=\"block text-sm font-bold text-gray-700\">Description</label>\r\n                   <span className={`text-xs ${formData.description.length > 450 ? 'text-red-500' : 'text-gray-400'}`}>{formData.description.length}/500</span>\r\n                </div>\r\n                <textarea maxLength={500} className=\"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl h-24 resize-none focus:outline-none focus:ring-2 focus:ring-gray-900\" placeholder=\"Describe the item...\" value={formData.description} onChange={e => setFormData({...formData, description: e.target.value})} />\r\n              </div>\r\n\r\n              <button type=\"submit\" disabled={loading} className=\"w-full bg-gray-900 text-white py-4 rounded-xl font-bold shadow-lg hover:bg-gray-800 active:scale-95 transition\">\r\n                {loading ? <Loader2 className=\"animate-spin\" /> : \"Save Product\"}\r\n              </button>\r\n            </form>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 648, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { \r\n  LayoutDashboard, Package, ShoppingBag, Settings, LogOut, \r\n  Plus, ExternalLink, Crown, AlertTriangle, Eye, TrendingUp, Copy, Check\r\n} from \"lucide-react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport AddProductModal from \"@/components/store/AddProductModal\";\r\n\r\ninterface DashboardClientProps {\r\n  store: any;\r\n  initialProducts: any[];\r\n  initialOrders: any[];\r\n  stats: { revenue: number; productCount: number; views: number };\r\n}\r\n\r\nexport default function DashboardClient({ store, initialProducts, initialOrders, stats }: DashboardClientProps) {\r\n  const router = useRouter();\r\n  const [activeTab, setActiveTab] = useState(\"products\");\r\n  const [isAddModalOpen, setIsAddModalOpen] = useState(false);\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  // --- SUBSCRIPTION LOGIC ---\r\n  const isPremium = store.subscription_plan === 'premium';\r\n  const isDiamond = store.subscription_plan === 'diamond';\r\n  const isFree = store.subscription_plan === 'free';\r\n  \r\n  // Check Expiry\r\n  const isExpired = store.subscription_expiry && new Date(store.subscription_expiry) < new Date();\r\n  \r\n  // Free Limit Check\r\n  const isFreeLimitReached = isFree && stats.productCount >= 5;\r\n\r\n  const handleCopyLink = () => {\r\n    navigator.clipboard.writeText(`${window.location.origin}/${store.slug}`);\r\n    setCopied(true);\r\n    setTimeout(() => setCopied(false), 2000);\r\n  };\r\n\r\n  const handleSignOut = async () => {\r\n    await supabase.auth.signOut();\r\n    router.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex flex-col md:flex-row font-sans\">\r\n      \r\n      {/* --- SIDEBAR --- */}\r\n      <aside className=\"w-full md:w-64 bg-white border-r border-gray-200 flex-shrink-0\">\r\n        <div className=\"p-6\">\r\n          <Link href=\"/\" className=\"font-extrabold text-xl tracking-tight text-gray-900 flex items-center gap-2\">\r\n            <LayoutDashboard className=\"text-emerald-600\"/> StoreLink\r\n          </Link>\r\n        </div>\r\n        \r\n        <nav className=\"px-4 space-y-1\">\r\n          <button onClick={() => setActiveTab(\"products\")} className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition ${activeTab === \"products\" ? \"bg-gray-100 text-gray-900\" : \"text-gray-500 hover:bg-gray-50\"}`}>\r\n            <Package size={18} /> Products\r\n          </button>\r\n          <button onClick={() => setActiveTab(\"orders\")} className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition ${activeTab === \"orders\" ? \"bg-gray-100 text-gray-900\" : \"text-gray-500 hover:bg-gray-50\"}`}>\r\n            <ShoppingBag size={18} /> Orders\r\n          </button>\r\n          <Link href=\"/dashboard/subscription\" className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition text-gray-500 hover:bg-gray-50`}>\r\n            <Crown size={18} className=\"text-yellow-500\" /> Subscription\r\n          </Link>\r\n          <button onClick={handleSignOut} className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold text-red-500 hover:bg-red-50 transition mt-8\">\r\n            <LogOut size={18} /> Sign Out\r\n          </button>\r\n        </nav>\r\n\r\n        {/* User Profile Snippet */}\r\n        <div className=\"absolute bottom-6 left-6 right-6\">\r\n           <div className=\"flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-gray-100\">\r\n              <div className=\"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-xs font-bold text-gray-500\">\r\n                {store.name.charAt(0)}\r\n              </div>\r\n              <div className=\"overflow-hidden\">\r\n                <p className=\"text-xs font-bold text-gray-900 truncate\">{store.name}</p>\r\n                <p className=\"text-[10px] text-gray-500 capitalize\">{store.subscription_plan} Plan</p>\r\n              </div>\r\n           </div>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* --- MAIN CONTENT --- */}\r\n      <main className=\"flex-1 p-4 md:p-8 overflow-y-auto\">\r\n        \r\n        {/* HEADER */}\r\n        <header className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8\">\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-gray-900 flex items-center gap-2\">\r\n              Dashboard\r\n              {isDiamond && <span className=\"bg-purple-100 text-purple-700 text-xs px-2 py-0.5 rounded-md border border-purple-200\">Diamond</span>}\r\n              {isPremium && <span className=\"bg-blue-100 text-blue-700 text-xs px-2 py-0.5 rounded-md border border-blue-200\">Premium</span>}\r\n              {isFree && <span className=\"bg-gray-100 text-gray-600 text-xs px-2 py-0.5 rounded-md border border-gray-200\">Free</span>}\r\n            </h1>\r\n            <p className=\"text-gray-500 text-sm\">Welcome back, {store.name}.</p>\r\n          </div>\r\n          \r\n          <div className=\"flex gap-2\">\r\n            <button onClick={handleCopyLink} className=\"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-xl text-sm font-bold hover:bg-gray-50 transition\">\r\n              {copied ? <Check size={16} className=\"text-green-500\"/> : <Copy size={16}/>} \r\n              {copied ? \"Copied!\" : \"Copy Shop Link\"}\r\n            </button>\r\n            <a href={`/${store.slug}`} target=\"_blank\" className=\"flex items-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-xl text-sm font-bold hover:bg-gray-800 transition\">\r\n              <ExternalLink size={16} /> View Store\r\n            </a>\r\n          </div>\r\n        </header>\r\n\r\n        {/* --- ALERTS --- */}\r\n        {isExpired && (\r\n          <div className=\"mb-6 bg-red-50 border border-red-100 p-4 rounded-xl flex items-center justify-between\">\r\n             <div className=\"flex items-center gap-3\">\r\n               <AlertTriangle className=\"text-red-500\" />\r\n               <div className=\"text-sm\">\r\n                 <span className=\"font-bold text-red-900\">Plan Expired.</span> Your store is currently hidden. Renew now to get back online.\r\n               </div>\r\n             </div>\r\n             <Link href=\"/dashboard/subscription\" className=\"px-4 py-2 bg-red-600 text-white text-xs font-bold rounded-lg hover:bg-red-700\">Renew</Link>\r\n          </div>\r\n        )}\r\n\r\n        {isFreeLimitReached && !isExpired && (\r\n          <div className=\"mb-6 bg-yellow-50 border border-yellow-100 p-4 rounded-xl flex items-center justify-between\">\r\n             <div className=\"flex items-center gap-3\">\r\n               <Crown className=\"text-yellow-600\" />\r\n               <div className=\"text-sm\">\r\n                 <span className=\"font-bold text-yellow-900\">Limit Reached.</span> You've hit the 5-product limit.\r\n               </div>\r\n             </div>\r\n             <Link href=\"/dashboard/subscription\" className=\"px-4 py-2 bg-yellow-500 text-white text-xs font-bold rounded-lg hover:bg-yellow-600\">Upgrade</Link>\r\n          </div>\r\n        )}\r\n\r\n        {/* --- STATS CARDS --- */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8\">\r\n          <div className=\"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm\">\r\n             <div className=\"flex items-center gap-3 mb-2\">\r\n               <div className=\"p-2 bg-emerald-50 text-emerald-600 rounded-lg\"><TrendingUp size={20}/></div>\r\n               <span className=\"text-sm font-bold text-gray-500\">Total Revenue</span>\r\n             </div>\r\n             <p className=\"text-2xl font-extrabold text-gray-900\">₦{stats.revenue.toLocaleString()}</p>\r\n          </div>\r\n\r\n          <div className=\"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm\">\r\n             <div className=\"flex items-center gap-3 mb-2\">\r\n               <div className=\"p-2 bg-blue-50 text-blue-600 rounded-lg\"><Package size={20}/></div>\r\n               <span className=\"text-sm font-bold text-gray-500\">Products</span>\r\n             </div>\r\n             <div className=\"flex items-baseline gap-2\">\r\n               <p className=\"text-2xl font-extrabold text-gray-900\">{stats.productCount}</p>\r\n               {isFree && <span className=\"text-xs font-bold text-gray-400\">/ 5 Free Limit</span>}\r\n             </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm\">\r\n             <div className=\"flex items-center gap-3 mb-2\">\r\n               <div className=\"p-2 bg-purple-50 text-purple-600 rounded-lg\"><Eye size={20}/></div>\r\n               <span className=\"text-sm font-bold text-gray-500\">Store Views</span>\r\n             </div>\r\n             <p className=\"text-2xl font-extrabold text-gray-900\">{stats.views.toLocaleString()}</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* --- PRODUCTS TAB --- */}\r\n        {activeTab === \"products\" && (\r\n          <div>\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n              <h3 className=\"font-bold text-lg text-gray-900\">Your Products</h3>\r\n              <button \r\n                onClick={() => setIsAddModalOpen(true)}\r\n                className=\"flex items-center gap-2 px-5 py-2.5 bg-gray-900 text-white rounded-xl text-sm font-bold shadow-lg hover:bg-gray-800 transition active:scale-95\"\r\n              >\r\n                <Plus size={18}/> Add Product\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm\">\r\n               {initialProducts.length === 0 ? (\r\n                 <div className=\"p-12 text-center text-gray-400\">\r\n                   <Package size={48} className=\"mx-auto mb-4 opacity-20\"/>\r\n                   <p>No products yet. Add your first one!</p>\r\n                 </div>\r\n               ) : (\r\n                 <table className=\"w-full text-left\">\r\n                   <thead className=\"bg-gray-50 border-b border-gray-100 text-xs uppercase text-gray-500\">\r\n                     <tr>\r\n                       <th className=\"px-6 py-4 font-bold\">Product</th>\r\n                       <th className=\"px-6 py-4 font-bold\">Category</th>\r\n                       <th className=\"px-6 py-4 font-bold\">Price</th>\r\n                       <th className=\"px-6 py-4 font-bold\">Stock</th>\r\n                       <th className=\"px-6 py-4 font-bold text-right\">Status</th>\r\n                     </tr>\r\n                   </thead>\r\n                   <tbody className=\"divide-y divide-gray-100\">\r\n                     {initialProducts.map((p) => (\r\n                       <tr key={p.id} className=\"hover:bg-gray-50/50 transition\">\r\n                         <td className=\"px-6 py-4 font-medium text-gray-900\">{p.name}</td>\r\n                         <td className=\"px-6 py-4 text-gray-500 text-sm\">{p.categories?.name || '-'}</td>\r\n                         <td className=\"px-6 py-4 text-gray-900 font-bold text-sm\">₦{p.price.toLocaleString()}</td>\r\n                         <td className=\"px-6 py-4 text-sm\">\r\n                           {p.stock_quantity === 0 ? <span className=\"text-red-500 font-bold\">Out</span> : p.stock_quantity}\r\n                         </td>\r\n                         <td className=\"px-6 py-4 text-right\">\r\n                           <span className={`inline-block px-2 py-1 rounded text-xs font-bold ${p.is_active ? 'bg-green-100 text-green-700' : 'bg-gray-100 text-gray-500'}`}>\r\n                             {p.is_active ? 'Active' : 'Draft'}\r\n                           </span>\r\n                         </td>\r\n                       </tr>\r\n                     ))}\r\n                   </tbody>\r\n                 </table>\r\n               )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* --- ORDERS TAB --- */}\r\n        {activeTab === \"orders\" && (\r\n          <div>\r\n            <h3 className=\"font-bold text-lg text-gray-900 mb-6\">Order History</h3>\r\n            <div className=\"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm\">\r\n              {initialOrders.length === 0 ? (\r\n                 <div className=\"p-12 text-center text-gray-400\">\r\n                   <ShoppingBag size={48} className=\"mx-auto mb-4 opacity-20\"/>\r\n                   <p>No orders yet. Share your link to start selling!</p>\r\n                 </div>\r\n              ) : (\r\n                 <table className=\"w-full text-left\">\r\n                   <thead className=\"bg-gray-50 border-b border-gray-100 text-xs uppercase text-gray-500\">\r\n                     <tr>\r\n                       <th className=\"px-6 py-4 font-bold\">Customer</th>\r\n                       <th className=\"px-6 py-4 font-bold\">Total</th>\r\n                       <th className=\"px-6 py-4 font-bold\">Date</th>\r\n                       <th className=\"px-6 py-4 font-bold text-right\">Status</th>\r\n                     </tr>\r\n                   </thead>\r\n                   <tbody className=\"divide-y divide-gray-100\">\r\n                     {initialOrders.map((order) => (\r\n                       <tr key={order.id} className=\"hover:bg-gray-50/50 transition\">\r\n                         <td className=\"px-6 py-4\">\r\n                           <div className=\"font-bold text-gray-900 text-sm\">{order.customer_name}</div>\r\n                           <div className=\"text-xs text-gray-500\">{order.customer_phone}</div>\r\n                         </td>\r\n                         <td className=\"px-6 py-4 text-emerald-600 font-bold text-sm\">₦{order.total_amount.toLocaleString()}</td>\r\n                         <td className=\"px-6 py-4 text-gray-500 text-xs\">{new Date(order.created_at).toLocaleDateString()}</td>\r\n                         <td className=\"px-6 py-4 text-right\">\r\n                           <span className={`inline-block px-2 py-1 rounded text-xs font-bold capitalize ${\r\n                             order.status === 'completed' ? 'bg-green-100 text-green-700' :\r\n                             order.status === 'cancelled' ? 'bg-red-100 text-red-700' :\r\n                             'bg-yellow-100 text-yellow-700'\r\n                           }`}>\r\n                             {order.status}\r\n                           </span>\r\n                         </td>\r\n                       </tr>\r\n                     ))}\r\n                   </tbody>\r\n                 </table>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n      </main>\r\n\r\n      {/* --- ADD PRODUCT MODAL --- */}\r\n      <AddProductModal \r\n        storeId={store.id} \r\n        isOpen={isAddModalOpen} \r\n        onClose={() => setIsAddModalOpen(false)} \r\n        onSuccess={() => router.refresh()} \r\n      />\r\n\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAVA;;;;;;;;AAmBe,SAAS,gBAAgB,EAAE,KAAK,EAAE,eAAe,EAAE,aAAa,EAAE,KAAK,EAAwB;IAC5G,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAC;IACrD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,6BAA6B;IAC7B,MAAM,YAAY,MAAM,iBAAiB,KAAK;IAC9C,MAAM,YAAY,MAAM,iBAAiB,KAAK;IAC9C,MAAM,SAAS,MAAM,iBAAiB,KAAK;IAE3C,eAAe;IACf,MAAM,YAAY,MAAM,mBAAmB,IAAI,IAAI,KAAK,MAAM,mBAAmB,IAAI,IAAI;IAEzF,mBAAmB;IACnB,MAAM,qBAAqB,UAAU,MAAM,YAAY,IAAI;IAE3D,MAAM,iBAAiB;QACrB,UAAU,SAAS,CAAC,SAAS,CAAC,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,IAAI,EAAE;QACvE,UAAU;QACV,WAAW,IAAM,UAAU,QAAQ;IACrC;IAEA,MAAM,gBAAgB;QACpB,MAAM,2HAAQ,CAAC,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAGb,8OAAC;gBAAM,WAAU;;kCACf,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,uKAAI;4BAAC,MAAK;4BAAI,WAAU;;8CACvB,8OAAC,+OAAe;oCAAC,WAAU;;;;;;gCAAoB;;;;;;;;;;;;kCAInD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAO,SAAS,IAAM,aAAa;gCAAa,WAAW,CAAC,iFAAiF,EAAE,cAAc,aAAa,8BAA8B,kCAAkC;;kDACzO,8OAAC,mNAAO;wCAAC,MAAM;;;;;;oCAAM;;;;;;;0CAEvB,8OAAC;gCAAO,SAAS,IAAM,aAAa;gCAAW,WAAW,CAAC,iFAAiF,EAAE,cAAc,WAAW,8BAA8B,kCAAkC;;kDACrO,8OAAC,mOAAW;wCAAC,MAAM;;;;;;oCAAM;;;;;;;0CAE3B,8OAAC,uKAAI;gCAAC,MAAK;gCAA0B,WAAW,CAAC,+GAA+G,CAAC;;kDAC/J,8OAAC,6MAAK;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAAoB;;;;;;;0CAEjD,8OAAC;gCAAO,SAAS;gCAAe,WAAU;;kDACxC,8OAAC,oNAAM;wCAAC,MAAM;;;;;;oCAAM;;;;;;;;;;;;;kCAKxB,8OAAC;wBAAI,WAAU;kCACZ,cAAA,8OAAC;4BAAI,WAAU;;8CACZ,8OAAC;oCAAI,WAAU;8CACZ,MAAM,IAAI,CAAC,MAAM,CAAC;;;;;;8CAErB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAA4C,MAAM,IAAI;;;;;;sDACnE,8OAAC;4CAAE,WAAU;;gDAAwC,MAAM,iBAAiB;gDAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAOvF,8OAAC;gBAAK,WAAU;;kCAGd,8OAAC;wBAAO,WAAU;;0CAChB,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;;4CAA2D;4CAEtE,2BAAa,8OAAC;gDAAK,WAAU;0DAAwF;;;;;;4CACrH,2BAAa,8OAAC;gDAAK,WAAU;0DAAkF;;;;;;4CAC/G,wBAAU,8OAAC;gDAAK,WAAU;0DAAkF;;;;;;;;;;;;kDAE/G,8OAAC;wCAAE,WAAU;;4CAAwB;4CAAe,MAAM,IAAI;4CAAC;;;;;;;;;;;;;0CAGjE,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAO,SAAS;wCAAgB,WAAU;;4CACxC,uBAAS,8OAAC,6MAAK;gDAAC,MAAM;gDAAI,WAAU;;;;;qEAAqB,8OAAC,0MAAI;gDAAC,MAAM;;;;;;4CACrE,SAAS,YAAY;;;;;;;kDAExB,8OAAC;wCAAE,MAAM,CAAC,CAAC,EAAE,MAAM,IAAI,EAAE;wCAAE,QAAO;wCAAS,WAAU;;0DACnD,8OAAC,sOAAY;gDAAC,MAAM;;;;;;4CAAM;;;;;;;;;;;;;;;;;;;oBAM/B,2BACC,8OAAC;wBAAI,WAAU;;0CACZ,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,yOAAa;wCAAC,WAAU;;;;;;kDACzB,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAyB;;;;;;4CAAoB;;;;;;;;;;;;;0CAGjE,8OAAC,uKAAI;gCAAC,MAAK;gCAA0B,WAAU;0CAAgF;;;;;;;;;;;;oBAInI,sBAAsB,CAAC,2BACtB,8OAAC;wBAAI,WAAU;;0CACZ,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,6MAAK;wCAAC,WAAU;;;;;;kDACjB,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAA4B;;;;;;4CAAqB;;;;;;;;;;;;;0CAGrE,8OAAC,uKAAI;gCAAC,MAAK;gCAA0B,WAAU;0CAAsF;;;;;;;;;;;;kCAK1I,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACZ,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;0DAAgD,cAAA,8OAAC,gOAAU;oDAAC,MAAM;;;;;;;;;;;0DACjF,8OAAC;gDAAK,WAAU;0DAAkC;;;;;;;;;;;;kDAEpD,8OAAC;wCAAE,WAAU;;4CAAwC;4CAAE,MAAM,OAAO,CAAC,cAAc;;;;;;;;;;;;;0CAGtF,8OAAC;gCAAI,WAAU;;kDACZ,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;0DAA0C,cAAA,8OAAC,mNAAO;oDAAC,MAAM;;;;;;;;;;;0DACxE,8OAAC;gDAAK,WAAU;0DAAkC;;;;;;;;;;;;kDAEpD,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAE,WAAU;0DAAyC,MAAM,YAAY;;;;;;4CACvE,wBAAU,8OAAC;gDAAK,WAAU;0DAAkC;;;;;;;;;;;;;;;;;;0CAIlE,8OAAC;gCAAI,WAAU;;kDACZ,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;0DAA8C,cAAA,8OAAC,uMAAG;oDAAC,MAAM;;;;;;;;;;;0DACxE,8OAAC;gDAAK,WAAU;0DAAkC;;;;;;;;;;;;kDAEpD,8OAAC;wCAAE,WAAU;kDAAyC,MAAM,KAAK,CAAC,cAAc;;;;;;;;;;;;;;;;;;oBAKpF,cAAc,4BACb,8OAAC;;0CACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAkC;;;;;;kDAChD,8OAAC;wCACC,SAAS,IAAM,kBAAkB;wCACjC,WAAU;;0DAEV,8OAAC,0MAAI;gDAAC,MAAM;;;;;;4CAAK;;;;;;;;;;;;;0CAIrB,8OAAC;gCAAI,WAAU;0CACX,gBAAgB,MAAM,KAAK,kBAC1B,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,mNAAO;4CAAC,MAAM;4CAAI,WAAU;;;;;;sDAC7B,8OAAC;sDAAE;;;;;;;;;;;yDAGL,8OAAC;oCAAM,WAAU;;sDACf,8OAAC;4CAAM,WAAU;sDACf,cAAA,8OAAC;;kEACC,8OAAC;wDAAG,WAAU;kEAAsB;;;;;;kEACpC,8OAAC;wDAAG,WAAU;kEAAsB;;;;;;kEACpC,8OAAC;wDAAG,WAAU;kEAAsB;;;;;;kEACpC,8OAAC;wDAAG,WAAU;kEAAsB;;;;;;kEACpC,8OAAC;wDAAG,WAAU;kEAAiC;;;;;;;;;;;;;;;;;sDAGnD,8OAAC;4CAAM,WAAU;sDACd,gBAAgB,GAAG,CAAC,CAAC,kBACpB,8OAAC;oDAAc,WAAU;;sEACvB,8OAAC;4DAAG,WAAU;sEAAuC,EAAE,IAAI;;;;;;sEAC3D,8OAAC;4DAAG,WAAU;sEAAmC,EAAE,UAAU,EAAE,QAAQ;;;;;;sEACvE,8OAAC;4DAAG,WAAU;;gEAA4C;gEAAE,EAAE,KAAK,CAAC,cAAc;;;;;;;sEAClF,8OAAC;4DAAG,WAAU;sEACX,EAAE,cAAc,KAAK,kBAAI,8OAAC;gEAAK,WAAU;0EAAyB;;;;;uEAAa,EAAE,cAAc;;;;;;sEAElG,8OAAC;4DAAG,WAAU;sEACZ,cAAA,8OAAC;gEAAK,WAAW,CAAC,iDAAiD,EAAE,EAAE,SAAS,GAAG,gCAAgC,6BAA6B;0EAC7I,EAAE,SAAS,GAAG,WAAW;;;;;;;;;;;;mDATvB,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAsB3B,cAAc,0BACb,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAuC;;;;;;0CACrD,8OAAC;gCAAI,WAAU;0CACZ,cAAc,MAAM,KAAK,kBACvB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,mOAAW;4CAAC,MAAM;4CAAI,WAAU;;;;;;sDACjC,8OAAC;sDAAE;;;;;;;;;;;yDAGL,8OAAC;oCAAM,WAAU;;sDACf,8OAAC;4CAAM,WAAU;sDACf,cAAA,8OAAC;;kEACC,8OAAC;wDAAG,WAAU;kEAAsB;;;;;;kEACpC,8OAAC;wDAAG,WAAU;kEAAsB;;;;;;kEACpC,8OAAC;wDAAG,WAAU;kEAAsB;;;;;;kEACpC,8OAAC;wDAAG,WAAU;kEAAiC;;;;;;;;;;;;;;;;;sDAGnD,8OAAC;4CAAM,WAAU;sDACd,cAAc,GAAG,CAAC,CAAC,sBAClB,8OAAC;oDAAkB,WAAU;;sEAC3B,8OAAC;4DAAG,WAAU;;8EACZ,8OAAC;oEAAI,WAAU;8EAAmC,MAAM,aAAa;;;;;;8EACrE,8OAAC;oEAAI,WAAU;8EAAyB,MAAM,cAAc;;;;;;;;;;;;sEAE9D,8OAAC;4DAAG,WAAU;;gEAA+C;gEAAE,MAAM,YAAY,CAAC,cAAc;;;;;;;sEAChG,8OAAC;4DAAG,WAAU;sEAAmC,IAAI,KAAK,MAAM,UAAU,EAAE,kBAAkB;;;;;;sEAC9F,8OAAC;4DAAG,WAAU;sEACZ,cAAA,8OAAC;gEAAK,WAAW,CAAC,4DAA4D,EAC5E,MAAM,MAAM,KAAK,cAAc,gCAC/B,MAAM,MAAM,KAAK,cAAc,4BAC/B,iCACA;0EACC,MAAM,MAAM;;;;;;;;;;;;mDAbV,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BA4BlC,8OAAC,kJAAe;gBACd,SAAS,MAAM,EAAE;gBACjB,QAAQ;gBACR,SAAS,IAAM,kBAAkB;gBACjC,WAAW,IAAM,OAAO,OAAO;;;;;;;;;;;;AAKvC"}}]
}