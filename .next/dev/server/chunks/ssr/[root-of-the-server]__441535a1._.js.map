{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\r\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseKey)"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,uLAAY,EAAC,aAAa"}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/components/shared/AddToCartButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/shared/AddToCartButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/shared/AddToCartButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAyS,GACtU,uEACA","ignoreList":[0]}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/components/shared/AddToCartButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/shared/AddToCartButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/shared/AddToCartButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqR,GAClT,mDACA","ignoreList":[0]}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/components/shared/ProductHeader.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/shared/ProductHeader.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/shared/ProductHeader.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAuS,GACpU,qEACA","ignoreList":[0]}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/components/shared/ProductHeader.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/shared/ProductHeader.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/shared/ProductHeader.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAmR,GAChT,iDACA","ignoreList":[0]}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/app/product/%5Bid%5D/page.tsx"],"sourcesContent":["import { supabase } from \"@/lib/supabase\";\r\nimport { notFound } from \"next/navigation\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { CheckCircle, Package, Store } from \"lucide-react\";\r\nimport AddToCartButton from \"@/components/shared/AddToCartButton\";\r\nimport ProductHeader from \"@/components/shared/ProductHeader\"; \r\n\r\n// Force dynamic so we always get fresh stock data\r\nexport const dynamic = \"force-dynamic\";\r\n\r\nexport default async function ProductPage({ params }: { params: Promise<{ id: string }> }) {\r\n  const { id } = await params;\r\n\r\n  // 1. Fetch Product + Store Details\r\n  const { data: product } = await supabase\r\n    .from(\"products\")\r\n    .select(\"*, stores(id, name, slug, whatsapp_number, location, logo_url, subscription_plan)\")\r\n    .eq(\"id\", id)\r\n    .single();\r\n\r\n  if (!product) return notFound();\r\n\r\n  // 2. Fetch More from this Store (Cross-sell)\r\n  const { data: moreFromStore } = await supabase\r\n    .from(\"products\")\r\n    .select(\"id, name, price, image_urls\")\r\n    .eq(\"store_id\", product.store_id)\r\n    .neq(\"id\", product.id)\r\n    .limit(4);\r\n\r\n  const store = product.stores;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white pb-32\">\r\n      \r\n      {/* --- HEADER (Pass Store Slug here) --- */}\r\n      <ProductHeader storeSlug={store.slug} />\r\n\r\n      <div className=\"max-w-5xl mx-auto md:pt-10 md:px-6\">\r\n        <div className=\"flex flex-col md:flex-row gap-0 md:gap-12\">\r\n          \r\n          {/* --- 1. PRODUCT IMAGES (Full Width Mobile) --- */}\r\n          <div className=\"w-full md:w-1/2 bg-gray-100 aspect-square md:rounded-3xl relative overflow-hidden\">\r\n             {product.image_urls?.[0] ? (\r\n               <Image \r\n                 src={product.image_urls[0]} \r\n                 alt={product.name} \r\n                 fill \r\n                 className=\"object-cover\"\r\n                 priority\r\n               />\r\n             ) : (\r\n               <div className=\"w-full h-full flex items-center justify-center text-gray-300\">\r\n                 <Package size={64} />\r\n               </div>\r\n             )}\r\n          </div>\r\n\r\n          {/* --- 2. PRODUCT DETAILS --- */}\r\n          <div className=\"flex-1 px-5 pt-6 md:pt-0\">\r\n             \r\n             {/* Vendor Tag */}\r\n             <Link href={`/${store.slug}`} className=\"inline-flex items-center gap-2 mb-3 bg-gray-50 px-3 py-1.5 rounded-lg hover:bg-gray-100 transition\">\r\n                {store.logo_url ? (\r\n                  <Image src={store.logo_url} width={20} height={20} alt=\"\" className=\"rounded-full\" />\r\n                ) : (\r\n                  <Store size={14} className=\"text-gray-500\" />\r\n                )}\r\n                <span className=\"text-sm font-bold text-gray-700\">{store.name}</span>\r\n                {store.subscription_plan === 'premium' && <CheckCircle size={14} className=\"text-blue-500\" />}\r\n             </Link>\r\n\r\n             <h1 className=\"text-2xl md:text-4xl font-extrabold text-gray-900 leading-tight mb-2\">\r\n               {product.name}\r\n             </h1>\r\n\r\n             <div className=\"flex items-baseline gap-3 mb-6\">\r\n                <span className=\"text-3xl font-extrabold text-emerald-600\">\r\n                  ₦{product.price.toLocaleString()}\r\n                </span>\r\n                {product.stock_quantity === 0 && (\r\n                   <span className=\"bg-red-100 text-red-600 text-xs font-bold px-2 py-1 rounded-md\">Sold Out</span>\r\n                )}\r\n             </div>\r\n\r\n             <div className=\"h-px bg-gray-100 w-full mb-6\"></div>\r\n\r\n             <h3 className=\"text-sm font-bold uppercase text-gray-400 tracking-wider mb-3\">Description</h3>\r\n             <div className=\"prose prose-sm text-gray-600 leading-relaxed whitespace-pre-line mb-10\">\r\n               {product.description || \"No description provided.\"}\r\n             </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* --- 3. MORE FROM VENDOR (Cross Sell) --- */}\r\n        {moreFromStore && moreFromStore.length > 0 && (\r\n           <div className=\"px-5 md:px-0 mt-12 mb-10\">\r\n              <h3 className=\"font-bold text-gray-900 mb-4\">More from {store.name}</h3>\r\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n                 {moreFromStore.map((p: any) => (\r\n                   <Link href={`/product/${p.id}`} key={p.id} className=\"block group\">\r\n                      <div className=\"aspect-square bg-gray-100 rounded-xl relative overflow-hidden mb-2\">\r\n                        {p.image_urls?.[0] && <Image src={p.image_urls[0]} alt=\"\" fill className=\"object-cover group-hover:scale-105 transition\" />}\r\n                      </div>\r\n                      <p className=\"font-bold text-sm truncate text-gray-900\">{p.name}</p>\r\n                      <p className=\"text-xs text-gray-500\">₦{p.price.toLocaleString()}</p>\r\n                   </Link>\r\n                 ))}\r\n              </div>\r\n           </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* --- STICKY FOOTER (Add to Cart) --- */}\r\n      <AddToCartButton product={product} store={store} />\r\n\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}