{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/components/store/StoreHeader.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport { MapPin, BadgeCheck, Info } from \"lucide-react\"; \r\nimport { Store } from \"@/types\";\r\n\r\ninterface StoreHeaderProps {\r\n  store: Store;\r\n  onOpenInfo: () => void;\r\n}\r\n\r\nexport default function StoreHeader({ store, onOpenInfo }: StoreHeaderProps) {\r\n  return (\r\n    <div className=\"relative bg-white pb-4\">\r\n      \r\n      {/* 1. CINEMATIC HERO COVER */}\r\n      <div className=\"h-40 md:h-64 w-full relative bg-gray-900 overflow-hidden\">\r\n        {store.cover_image_url ? (\r\n          <Image \r\n            src={store.cover_image_url} \r\n            alt=\"Cover\" \r\n            fill \r\n            className=\"object-cover opacity-90\"\r\n            priority \r\n            sizes=\"100vw\"\r\n          />\r\n        ) : (\r\n          <div className=\"w-full h-full bg-gradient-to-r from-gray-800 to-gray-900\" />\r\n        )}\r\n        <div className=\"absolute inset-0 bg-black/10\" />\r\n      </div>\r\n      \r\n      {/* 2. PROFILE SECTION (Left Aligned) */}\r\n      <div className=\"max-w-6xl mx-auto px-4\">\r\n        <div className=\"flex flex-col md:flex-row items-start md:items-end -mt-10 md:-mt-12 relative z-10 gap-4 md:gap-6\">\r\n          \r\n          {/* Logo (Left) */}\r\n          <div className=\"w-24 h-24 md:w-36 md:h-36 bg-white rounded-2xl p-1 shadow-xl flex-shrink-0\">\r\n            <div className=\"w-full h-full bg-gray-50 rounded-xl overflow-hidden relative border border-gray-100\">\r\n              {store.logo_url ? (\r\n                <Image src={store.logo_url} alt={store.name} fill className=\"object-cover\" />\r\n              ) : (\r\n                <div className=\"flex items-center justify-center h-full text-3xl font-bold text-gray-300\">\r\n                  {store.name.charAt(0)}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Info (Beside Logo) */}\r\n          <div className=\"flex-1 w-full pt-1 md:pb-4\">\r\n             <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-3\">\r\n               \r\n               <div>\r\n                  <h1 className=\"text-2xl md:text-3xl font-extrabold text-gray-900 flex items-center gap-2\">\r\n                    {store.name}\r\n                    {/* Diamond/Premium Logic can go here later */}\r\n                    {store.subscription_plan === 'premium' && (\r\n                      <BadgeCheck className=\"text-blue-600 fill-blue-50 w-6 h-6\" />\r\n                    )}\r\n                  </h1>\r\n                  \r\n                  <div className=\"flex items-center gap-3 text-sm text-gray-500 font-medium mt-1\">\r\n                    <span className=\"flex items-center gap-1\">\r\n                      <MapPin size={14}/> {store.location}\r\n                    </span>\r\n                  </div>\r\n               </div>\r\n\r\n               {/* \"More Info\" Button */}\r\n               <button \r\n                 onClick={onOpenInfo}\r\n                 className=\"flex items-center gap-2 bg-gray-100 hover:bg-gray-200 text-gray-900 px-5 py-2.5 rounded-xl text-sm font-bold transition w-fit\"\r\n               >\r\n                 <Info size={18} /> Store Info & Socials\r\n               </button>\r\n\r\n             </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAHA;;;;AAWe,SAAS,YAAY,EAAE,KAAK,EAAE,UAAU,EAAoB;IACzE,qBACE,8OAAC;QAAI,WAAU;;0BAGb,8OAAC;gBAAI,WAAU;;oBACZ,MAAM,eAAe,iBACpB,8OAAC,wIAAK;wBACJ,KAAK,MAAM,eAAe;wBAC1B,KAAI;wBACJ,IAAI;wBACJ,WAAU;wBACV,QAAQ;wBACR,OAAM;;;;;6CAGR,8OAAC;wBAAI,WAAU;;;;;;kCAEjB,8OAAC;wBAAI,WAAU;;;;;;;;;;;;0BAIjB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCAGb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;0CACZ,MAAM,QAAQ,iBACb,8OAAC,wIAAK;oCAAC,KAAK,MAAM,QAAQ;oCAAE,KAAK,MAAM,IAAI;oCAAE,IAAI;oCAAC,WAAU;;;;;yDAE5D,8OAAC;oCAAI,WAAU;8CACZ,MAAM,IAAI,CAAC,MAAM,CAAC;;;;;;;;;;;;;;;;sCAO3B,8OAAC;4BAAI,WAAU;sCACZ,cAAA,8OAAC;gCAAI,WAAU;;kDAEb,8OAAC;;0DACE,8OAAC;gDAAG,WAAU;;oDACX,MAAM,IAAI;oDAEV,MAAM,iBAAiB,KAAK,2BAC3B,8OAAC,gOAAU;wDAAC,WAAU;;;;;;;;;;;;0DAI1B,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC;oDAAK,WAAU;;sEACd,8OAAC,oNAAM;4DAAC,MAAM;;;;;;wDAAK;wDAAE,MAAM,QAAQ;;;;;;;;;;;;;;;;;;kDAM1C,8OAAC;wCACC,SAAS;wCACT,WAAU;;0DAEV,8OAAC,0MAAI;gDAAC,MAAM;;;;;;4CAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUnC"}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/components/store/StoreInfoModal.tsx"],"sourcesContent":["\"use client\";\r\nimport { X, MapPin, Globe, MessageCircle, Clock, CheckCircle } from \"lucide-react\";\r\nimport { Store } from \"@/types\";\r\nimport Image from \"next/image\";\r\n\r\ninterface StoreInfoModalProps {\r\n  store: Store;\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  productCount: number;\r\n}\r\n\r\nexport default function StoreInfoModal({ store, isOpen, onClose, productCount }: StoreInfoModalProps) {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in\">\r\n      <div className=\"bg-white w-full max-w-sm rounded-3xl overflow-hidden shadow-2xl animate-in slide-in-from-bottom-10 flex flex-col max-h-[90vh]\">\r\n        \r\n        {/* Header */}\r\n        <div className=\"bg-gray-50 p-4 flex justify-between items-center border-b border-gray-100\">\r\n           <span className=\"font-bold text-gray-900\">Store Profile</span>\r\n           <button onClick={onClose} className=\"bg-white p-2 rounded-full shadow-sm text-gray-500 hover:bg-gray-100\"><X size={20}/></button>\r\n        </div>\r\n\r\n        <div className=\"p-6 overflow-y-auto\">\r\n           {/* Logo Centered */}\r\n           <div className=\"flex flex-col items-center text-center mb-6\">\r\n              <div className=\"w-24 h-24 rounded-full border-4 border-gray-50 bg-white shadow-sm relative overflow-hidden mb-3\">\r\n                 {store.logo_url ? <Image src={store.logo_url} alt=\"\" fill className=\"object-cover\" /> : <div className=\"w-full h-full bg-gray-200\" />}\r\n              </div>\r\n              <h2 className=\"text-2xl font-bold text-gray-900\">{store.name}</h2>\r\n              <p className=\"text-gray-500 text-sm mt-1 flex items-center gap-1\">\r\n                <MapPin size={14} /> {store.location}\r\n              </p>\r\n           </div>\r\n\r\n           {/* Stats */}\r\n           <div className=\"grid grid-cols-2 gap-4 mb-8\">\r\n              <div className=\"bg-gray-50 p-4 rounded-2xl text-center\">\r\n                 <p className=\"text-2xl font-bold text-gray-900\">{productCount}</p>\r\n                 <p className=\"text-xs text-gray-400 font-bold uppercase\">Products</p>\r\n              </div>\r\n              <div className=\"bg-green-50 p-4 rounded-2xl text-center\">\r\n                 <CheckCircle className=\"w-6 h-6 text-green-600 mx-auto mb-1\" />\r\n                 <p className=\"text-xs text-green-700 font-bold uppercase\">Verified</p>\r\n              </div>\r\n           </div>\r\n\r\n           {/* About */}\r\n           <div className=\"mb-8\">\r\n             <h3 className=\"text-sm font-bold text-gray-900 uppercase mb-2\">About Us</h3>\r\n             <p className=\"text-gray-600 text-sm leading-relaxed whitespace-pre-line\">\r\n               {store.description || \"No description provided.\"}\r\n             </p>\r\n           </div>\r\n\r\n           {/* Contact Buttons (THE IMPORTANT PART) */}\r\n           <div className=\"space-y-3\">\r\n              <h3 className=\"text-sm font-bold text-gray-900 uppercase mb-1\">Contact & Socials</h3>\r\n              \r\n              {/* WhatsApp (Primary) */}\r\n              <a href={`https://wa.me/${store.whatsapp_number}`} target=\"_blank\" className=\"flex items-center justify-center gap-3 w-full p-4 bg-green-600 text-white rounded-xl text-sm font-bold shadow-lg hover:bg-green-700 active:scale-95 transition\">\r\n                 <MessageCircle size={20} /> Chat on WhatsApp\r\n               </a>\r\n\r\n             {store.instagram_url && (\r\n               <a href={store.instagram_url} target=\"_blank\" className=\"flex items-center justify-center gap-3 w-full p-4 bg-pink-50 text-pink-700 rounded-xl text-sm font-bold hover:bg-pink-100 transition\">\r\n                 <Globe size={20} /> Instagram Page\r\n               </a>\r\n             )}\r\n             \r\n             {store.tiktok_url && (\r\n               <a href={store.tiktok_url} target=\"_blank\" className=\"flex items-center justify-center gap-3 w-full p-4 bg-gray-100 text-gray-900 rounded-xl text-sm font-bold hover:bg-gray-200 transition\">\r\n                 <Globe size={20} /> TikTok Page\r\n               </a>\r\n             )}\r\n           </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAHA;;;;AAYe,SAAS,eAAe,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,YAAY,EAAuB;IAClG,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAGb,8OAAC;oBAAI,WAAU;;sCACZ,8OAAC;4BAAK,WAAU;sCAA0B;;;;;;sCAC1C,8OAAC;4BAAO,SAAS;4BAAS,WAAU;sCAAsE,cAAA,8OAAC,iMAAC;gCAAC,MAAM;;;;;;;;;;;;;;;;;8BAGtH,8OAAC;oBAAI,WAAU;;sCAEZ,8OAAC;4BAAI,WAAU;;8CACZ,8OAAC;oCAAI,WAAU;8CACX,MAAM,QAAQ,iBAAG,8OAAC,wIAAK;wCAAC,KAAK,MAAM,QAAQ;wCAAE,KAAI;wCAAG,IAAI;wCAAC,WAAU;;;;;6DAAoB,8OAAC;wCAAI,WAAU;;;;;;;;;;;8CAE1G,8OAAC;oCAAG,WAAU;8CAAoC,MAAM,IAAI;;;;;;8CAC5D,8OAAC;oCAAE,WAAU;;sDACX,8OAAC,oNAAM;4CAAC,MAAM;;;;;;wCAAM;wCAAE,MAAM,QAAQ;;;;;;;;;;;;;sCAKzC,8OAAC;4BAAI,WAAU;;8CACZ,8OAAC;oCAAI,WAAU;;sDACZ,8OAAC;4CAAE,WAAU;sDAAoC;;;;;;sDACjD,8OAAC;4CAAE,WAAU;sDAA4C;;;;;;;;;;;;8CAE5D,8OAAC;oCAAI,WAAU;;sDACZ,8OAAC,0OAAW;4CAAC,WAAU;;;;;;sDACvB,8OAAC;4CAAE,WAAU;sDAA6C;;;;;;;;;;;;;;;;;;sCAKhE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAiD;;;;;;8CAC/D,8OAAC;oCAAE,WAAU;8CACV,MAAM,WAAW,IAAI;;;;;;;;;;;;sCAK1B,8OAAC;4BAAI,WAAU;;8CACZ,8OAAC;oCAAG,WAAU;8CAAiD;;;;;;8CAG/D,8OAAC;oCAAE,MAAM,CAAC,cAAc,EAAE,MAAM,eAAe,EAAE;oCAAE,QAAO;oCAAS,WAAU;;sDAC1E,8OAAC,yOAAa;4CAAC,MAAM;;;;;;wCAAM;;;;;;;gCAG9B,MAAM,aAAa,kBAClB,8OAAC;oCAAE,MAAM,MAAM,aAAa;oCAAE,QAAO;oCAAS,WAAU;;sDACtD,8OAAC,6MAAK;4CAAC,MAAM;;;;;;wCAAM;;;;;;;gCAItB,MAAM,UAAU,kBACf,8OAAC;oCAAE,MAAM,MAAM,UAAU;oCAAE,QAAO;oCAAS,WAAU;;sDACnD,8OAAC,6MAAK;4CAAC,MAAM;;;;;;wCAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQpC"}},
    {"offset": {"line": 491, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/components/StoreFront.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { Search, Package, ShoppingBag, Plus, Loader2 } from \"lucide-react\";\r\nimport { Store, Product, Category } from \"@/types\";\r\nimport { useCart } from \"@/context/CartContext\";\r\nimport StoreHeader from \"./store/StoreHeader\"; \r\nimport StoreInfoModal from \"./store/StoreInfoModal\";\r\n\r\n// Helper to paginate locally since we passed all products initially\r\n// OR we can slice the passed products if we are doing client-side pagination\r\nconst PAGE_SIZE = 20;\r\n\r\ninterface StoreFrontProps {\r\n  store: Store;\r\n  products: Product[]; // Currently receives ALL products from server\r\n  categories: Category[];\r\n}\r\n\r\nexport default function StoreFront({ store, products: allProducts, categories }: StoreFrontProps) {\r\n  const { addToCart } = useCart();\r\n  \r\n  // State\r\n  const [activeCategory, setActiveCategory] = useState(\"all\");\r\n  const [search, setSearch] = useState(\"\");\r\n  const [visibleCount, setVisibleCount] = useState(PAGE_SIZE);\r\n  const [isInfoOpen, setIsInfoOpen] = useState(false);\r\n\r\n  // --- FILTERING LOGIC ---\r\n  const filteredProducts = allProducts.filter((product) => {\r\n    const matchesCategory = activeCategory === \"all\" || product.category_id === activeCategory;\r\n    const matchesSearch = product.name.toLowerCase().includes(search.toLowerCase());\r\n    return matchesCategory && matchesSearch;\r\n  });\r\n\r\n  // --- PAGINATION (Client Side Slice) ---\r\n  const visibleProducts = filteredProducts.slice(0, visibleCount);\r\n  const hasMore = visibleCount < filteredProducts.length;\r\n\r\n  const handleLoadMore = () => {\r\n    setVisibleCount((prev) => prev + PAGE_SIZE);\r\n  };\r\n\r\n  // Reset pagination when filter changes\r\n  useEffect(() => {\r\n    setVisibleCount(PAGE_SIZE);\r\n  }, [activeCategory, search]);\r\n\r\n  const handleQuickAdd = (product: Product) => {\r\n    addToCart(product, store);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 font-sans pb-32\">\r\n      \r\n      {/* 1. UPDATED HEADER */}\r\n      <StoreHeader store={store} onOpenInfo={() => setIsInfoOpen(true)} />\r\n\r\n      {/* 2. STICKY CONTROLS */}\r\n      <div className=\"sticky top-0 z-30 bg-gray-50/95 backdrop-blur-md pt-2 pb-2 px-4 shadow-sm border-b border-gray-200/50\">\r\n         <div className=\"max-w-6xl mx-auto space-y-3\">\r\n           \r\n           {/* Search */}\r\n           <div className=\"relative\">\r\n             <Search className=\"absolute left-4 top-3.5 text-gray-400 w-5 h-5\" />\r\n             <input \r\n               placeholder={`Search ${store.name}...`} \r\n               className=\"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900 bg-white text-base\"\r\n               value={search}\r\n               onChange={e => setSearch(e.target.value)}\r\n             />\r\n           </div>\r\n\r\n           {/* Categories */}\r\n           {categories.length > 0 && (\r\n             <div className=\"flex gap-2 overflow-x-auto pb-2 scrollbar-hide -mx-4 px-4 md:mx-0 md:px-0\">\r\n               <button \r\n                 onClick={() => setActiveCategory(\"all\")}\r\n                 className={`px-5 py-2 rounded-full text-sm font-bold whitespace-nowrap transition-all ${activeCategory === \"all\" ? 'bg-gray-900 text-white shadow-md' : 'bg-white text-gray-600 border border-gray-200'}`}\r\n               >\r\n                 All Items\r\n               </button>\r\n               {categories.map(cat => (\r\n                 <button \r\n                   key={cat.id} \r\n                   onClick={() => setActiveCategory(cat.id)}\r\n                   className={`px-5 py-2 rounded-full text-sm font-bold whitespace-nowrap transition-all ${activeCategory === cat.id ? 'bg-gray-900 text-white shadow-md' : 'bg-white text-gray-600 border border-gray-200'}`}\r\n                 >\r\n                   {cat.name}\r\n                 </button>\r\n               ))}\r\n             </div>\r\n           )}\r\n         </div>\r\n      </div>\r\n\r\n      {/* 3. PRODUCT GRID */}\r\n      <div className=\"max-w-6xl mx-auto px-4 py-6\">\r\n        {visibleProducts.length > 0 ? (\r\n          <>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-6\">\r\n              {visibleProducts.map(product => (\r\n                <Link \r\n                  href={`/product/${product.id}`} \r\n                  key={product.id} \r\n                  className=\"bg-white p-2.5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group flex flex-col relative h-full\"\r\n                >\r\n                  <div className=\"aspect-square bg-gray-100 rounded-xl mb-3 relative overflow-hidden\">\r\n                    {product.image_urls?.[0] ? (\r\n                      <Image src={product.image_urls[0]} alt=\"\" fill className=\"object-cover group-hover:scale-105 transition duration-500\" />\r\n                    ) : (\r\n                      <div className=\"w-full h-full flex items-center justify-center text-gray-300\"><Package /></div>\r\n                    )}\r\n                    \r\n                    <button \r\n                      onClick={(e) => { e.preventDefault(); e.stopPropagation(); handleQuickAdd(product); }} \r\n                      className=\"absolute bottom-2 right-2 bg-white text-gray-900 p-2.5 rounded-full shadow-lg hover:bg-gray-900 hover:text-white transition z-10 active:scale-90\"\r\n                    >\r\n                      <Plus size={18} strokeWidth={3} />\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"px-1 flex flex-col flex-1\">\r\n                    <h3 className=\"font-bold text-gray-900 text-sm truncate leading-tight\">{product.name}</h3>\r\n                    <div className=\"mt-auto flex items-center justify-between pt-2\">\r\n                      <p className=\"text-emerald-700 font-extrabold text-sm md:text-base\">â‚¦{product.price.toLocaleString()}</p>\r\n                      {product.stock_quantity === 0 && (\r\n                         <span className=\"text-[10px] bg-red-100 text-red-600 px-1.5 py-0.5 rounded font-bold\">Sold Out</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n\r\n            {/* LOAD MORE BUTTON */}\r\n            {hasMore && (\r\n              <div className=\"mt-10 text-center\">\r\n                 <button \r\n                   onClick={handleLoadMore}\r\n                   className=\"px-8 py-3 bg-white border border-gray-200 text-gray-900 font-bold rounded-xl hover:bg-gray-50 transition shadow-sm flex items-center gap-2 mx-auto\"\r\n                 >\r\n                   Load More Products\r\n                 </button>\r\n              </div>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <div className=\"text-center py-20\">\r\n            <div className=\"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n               <ShoppingBag size={32} className=\"text-gray-300\" />\r\n            </div>\r\n            <p className=\"text-gray-500 font-medium\">No products found.</p>\r\n            <button onClick={() => { setActiveCategory(\"all\"); setSearch(\"\"); }} className=\"mt-4 text-emerald-600 font-bold text-sm hover:underline\">\r\n              Reset Filters\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* 4. MODAL */}\r\n      <StoreInfoModal \r\n        store={store} \r\n        isOpen={isInfoOpen} \r\n        onClose={() => setIsInfoOpen(false)} \r\n        productCount={allProducts.length}\r\n      />\r\n\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 830, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/components/ViewTracker.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useRef } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\n\r\nexport default function ViewTracker({ storeId }: { storeId: string }) {\r\n  const hasCounted = useRef(false);\r\n\r\n  useEffect(() => {\r\n    // Prevent double counting in React Strict Mode or re-renders\r\n    if (hasCounted.current) return;\r\n    \r\n    const countView = async () => {\r\n      hasCounted.current = true;\r\n      await supabase.rpc('increment_store_views', { row_id: storeId });\r\n    };\r\n\r\n    countView();\r\n  }, [storeId]);\r\n\r\n  return null; // It renders nothing visibly\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;AAKe,SAAS,YAAY,EAAE,OAAO,EAAuB;IAClE,MAAM,aAAa,IAAA,+MAAM,EAAC;IAE1B,IAAA,kNAAS,EAAC;QACR,6DAA6D;QAC7D,IAAI,WAAW,OAAO,EAAE;QAExB,MAAM,YAAY;YAChB,WAAW,OAAO,GAAG;YACrB,MAAM,2HAAQ,CAAC,GAAG,CAAC,yBAAyB;gBAAE,QAAQ;YAAQ;QAChE;QAEA;IACF,GAAG;QAAC;KAAQ;IAEZ,OAAO,MAAM,6BAA6B;AAC5C"}}]
}