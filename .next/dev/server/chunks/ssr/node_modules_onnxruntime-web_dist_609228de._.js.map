{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/node_modules/common/lib/backend-impl.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/backend.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/version.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/env-impl.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/env.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/tensor-conversion-impl.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/tensor-factory-impl.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/tensor-impl-type-mapping.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/tensor-utils-impl.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/tensor-impl.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/tensor.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/trace.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/inference-session-impl.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/inference-session.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/tensor-conversion.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/tensor-factory.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/onnx-model.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/onnx-value.ts","file:///C:/Users/Kaelo/store-link/node_modules/common/lib/index.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/wasm/wasm-utils-env.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/wasm/proxy-worker/main.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/dist/ort-wasm-simd-threaded.asyncify.mjs","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/wasm/wasm-utils-import.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/wasm/wasm-factory.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/wasm/wasm-utils.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/wasm/run-options.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/wasm/session-options.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/wasm/wasm-common.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/wasm/wasm-utils-load-file.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/wasm/jsep/tensor-view.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/wasm/jsep/log.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/wasm/jsep/webnn/tensor-manager.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/wasm/jsep/backend-webnn.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/wasm/wasm-core-impl.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/wasm/proxy-wrapper.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/wasm/session-handler-inference.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/backend-wasm.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/index.ts","file:///C:/Users/Kaelo/store-link/node_modules/onnxruntime-web/lib/version.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { Backend } from './backend.js';\nimport { InferenceSession } from './inference-session.js';\n\ninterface BackendInfo {\n  backend: Backend;\n  priority: number;\n\n  initPromise?: Promise<void>;\n  initialized?: boolean;\n  aborted?: boolean;\n  error?: string;\n}\n\nconst backends: Map<string, BackendInfo> = new Map();\nconst backendsSortedByPriority: string[] = [];\n\n/**\n * Register a backend.\n *\n * @param name - the name as a key to lookup as an execution provider.\n * @param backend - the backend object.\n * @param priority - an integer indicating the priority of the backend. Higher number means higher priority. if priority\n * < 0, it will be considered as a 'beta' version and will not be used as a fallback backend by default.\n *\n * @ignore\n */\nexport const registerBackend = (name: string, backend: Backend, priority: number): void => {\n  if (backend && typeof backend.init === 'function' && typeof backend.createInferenceSessionHandler === 'function') {\n    const currentBackend = backends.get(name);\n    if (currentBackend === undefined) {\n      backends.set(name, { backend, priority });\n    } else if (currentBackend.priority > priority) {\n      // same name is already registered with a higher priority. skip registeration.\n      return;\n    } else if (currentBackend.priority === priority) {\n      if (currentBackend.backend !== backend) {\n        throw new Error(`cannot register backend \"${name}\" using priority ${priority}`);\n      }\n    }\n\n    if (priority >= 0) {\n      const i = backendsSortedByPriority.indexOf(name);\n      if (i !== -1) {\n        backendsSortedByPriority.splice(i, 1);\n      }\n\n      for (let i = 0; i < backendsSortedByPriority.length; i++) {\n        if (backends.get(backendsSortedByPriority[i])!.priority <= priority) {\n          backendsSortedByPriority.splice(i, 0, name);\n          return;\n        }\n      }\n      backendsSortedByPriority.push(name);\n    }\n    return;\n  }\n\n  throw new TypeError('not a valid backend');\n};\n\n/**\n * Try to resolve and initialize a backend.\n *\n * @param backendName - the name of the backend.\n * @returns the backend instance if resolved and initialized successfully, or an error message if failed.\n */\nconst tryResolveAndInitializeBackend = async (backendName: string): Promise<Backend | string> => {\n  const backendInfo = backends.get(backendName);\n  if (!backendInfo) {\n    return 'backend not found.';\n  }\n\n  if (backendInfo.initialized) {\n    return backendInfo.backend;\n  } else if (backendInfo.aborted) {\n    return backendInfo.error!;\n  } else {\n    const isInitializing = !!backendInfo.initPromise;\n    try {\n      if (!isInitializing) {\n        backendInfo.initPromise = backendInfo.backend.init(backendName);\n      }\n      await backendInfo.initPromise;\n      backendInfo.initialized = true;\n      return backendInfo.backend;\n    } catch (e) {\n      if (!isInitializing) {\n        backendInfo.error = `${e}`;\n        backendInfo.aborted = true;\n      }\n      return backendInfo.error!;\n    } finally {\n      delete backendInfo.initPromise;\n    }\n  }\n};\n\n/**\n * Resolve execution providers from the specific session options.\n *\n * @param options - the session options object.\n * @returns a promise that resolves to a tuple of an initialized backend instance and a session options object with\n * filtered EP list.\n *\n * @ignore\n */\nexport const resolveBackendAndExecutionProviders = async (\n  options: InferenceSession.SessionOptions,\n): Promise<[backend: Backend, options: InferenceSession.SessionOptions]> => {\n  // extract backend hints from session options\n  const eps = options.executionProviders || [];\n  const backendHints = eps.map((i) => (typeof i === 'string' ? i : i.name));\n  const backendNames = backendHints.length === 0 ? backendsSortedByPriority : backendHints;\n\n  // try to resolve and initialize all requested backends\n  let backend: Backend | undefined;\n  const errors = [];\n  const availableBackendNames = new Set<string>();\n  for (const backendName of backendNames) {\n    const resolveResult = await tryResolveAndInitializeBackend(backendName);\n    if (typeof resolveResult === 'string') {\n      errors.push({ name: backendName, err: resolveResult });\n    } else {\n      if (!backend) {\n        backend = resolveResult;\n      }\n      if (backend === resolveResult) {\n        availableBackendNames.add(backendName);\n      }\n    }\n  }\n\n  // if no backend is available, throw error.\n  if (!backend) {\n    throw new Error(`no available backend found. ERR: ${errors.map((e) => `[${e.name}] ${e.err}`).join(', ')}`);\n  }\n\n  // for each explicitly requested backend, if it's not available, output warning message.\n  for (const { name, err } of errors) {\n    if (backendHints.includes(name)) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        `removing requested execution provider \"${name}\" from session options because it is not available: ${err}`,\n      );\n    }\n  }\n\n  const filteredEps = eps.filter((i) => availableBackendNames.has(typeof i === 'string' ? i : i.name));\n\n  return [\n    backend,\n    new Proxy(options, {\n      get: (target, prop) => {\n        if (prop === 'executionProviders') {\n          return filteredEps;\n        }\n        return Reflect.get(target, prop);\n      },\n    }),\n  ];\n};\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { InferenceSession } from './inference-session.js';\nimport { OnnxValue } from './onnx-value.js';\n\n/**\n * @ignore\n */\nexport declare namespace SessionHandler {\n  type FeedsType = { [name: string]: OnnxValue };\n  type FetchesType = { [name: string]: OnnxValue | null };\n  type ReturnType = { [name: string]: OnnxValue };\n}\n\n/**\n * Represents shared SessionHandler functionality\n *\n * @ignore\n */\ninterface SessionHandler {\n  dispose(): Promise<void>;\n\n  readonly inputNames: readonly string[];\n  readonly outputNames: readonly string[];\n\n  readonly inputMetadata: readonly InferenceSession.ValueMetadata[];\n  readonly outputMetadata: readonly InferenceSession.ValueMetadata[];\n}\n\n/**\n * Represent a handler instance of an inference session.\n *\n * @ignore\n */\nexport interface InferenceSessionHandler extends SessionHandler {\n  startProfiling(): void;\n  endProfiling(): void;\n\n  run(\n    feeds: SessionHandler.FeedsType,\n    fetches: SessionHandler.FetchesType,\n    options: InferenceSession.RunOptions,\n  ): Promise<SessionHandler.ReturnType>;\n}\n\n/**\n * Represent a backend that provides implementation of model inferencing.\n *\n * @ignore\n */\nexport interface Backend {\n  /**\n   * Initialize the backend asynchronously. Should throw when failed.\n   */\n  init(backendName: string): Promise<void>;\n\n  createInferenceSessionHandler(\n    uriOrBuffer: string | Uint8Array,\n    options?: InferenceSession.SessionOptions,\n  ): Promise<InferenceSessionHandler>;\n}\n\nexport { registerBackend } from './backend-impl.js';\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n// This file is generated by /js/scripts/update-version.ts\n// Do not modify file content manually.\n\nexport const version = '1.23.2';\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { Env } from './env.js';\nimport { version } from './version.js';\n\ntype LogLevelType = Env['logLevel'];\n\nlet logLevelValue: Required<LogLevelType> = 'warning';\n\nexport const env: Env = {\n  wasm: {} as Env.WebAssemblyFlags,\n  webgl: {} as Env.WebGLFlags,\n  webgpu: {} as Env.WebGpuFlags,\n  versions: { common: version },\n\n  set logLevel(value: LogLevelType) {\n    if (value === undefined) {\n      return;\n    }\n    if (typeof value !== 'string' || ['verbose', 'info', 'warning', 'error', 'fatal'].indexOf(value) === -1) {\n      throw new Error(`Unsupported logging level: ${value}`);\n    }\n    logLevelValue = value;\n  },\n  get logLevel(): Required<LogLevelType> {\n    return logLevelValue;\n  },\n};\n\n// set property 'logLevel' so that they can be correctly transferred to worker by `postMessage()`.\nObject.defineProperty(env, 'logLevel', { enumerable: true });\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { env as envImpl } from './env-impl.js';\nimport { TryGetGlobalType } from './type-helper.js';\n\nexport declare namespace Env {\n  export type WasmPathPrefix = string;\n  export interface WasmFilePaths {\n    /**\n     * Specify the override path for the main .wasm file.\n     *\n     * This path should be an absolute path.\n     *\n     * If not modified, the filename of the .wasm file is:\n     * - `ort-wasm-simd-threaded.wasm` for default build\n     * - `ort-wasm-simd-threaded.jsep.wasm` for JSEP build (with WebGPU and WebNN)\n     * - `ort-wasm-simd-threaded.asyncify.wasm` for WebGPU build with Asyncify (with WebNN)\n     */\n    wasm?: URL | string;\n    /**\n     * Specify the override path for the main .mjs file.\n     *\n     * This path should be an absolute path.\n     *\n     * If not modified, the filename of the .mjs file is:\n     * - `ort-wasm-simd-threaded.mjs` for default build\n     * - `ort-wasm-simd-threaded.jsep.mjs` for JSEP build (with WebGPU and WebNN)\n     * - `ort-wasm-simd-threaded.asyncify.mjs` for WebGPU build with Asyncify (with WebNN)\n     */\n    mjs?: URL | string;\n  }\n  export type WasmPrefixOrFilePaths = WasmPathPrefix | WasmFilePaths;\n  export interface WebAssemblyFlags {\n    /**\n     * set or get number of thread(s). If omitted or set to 0, number of thread(s) will be determined by system. If set\n     * to 1, no worker thread will be spawned.\n     *\n     * This setting is available only when WebAssembly multithread feature is available in current context.\n     *\n     * @defaultValue `0`\n     */\n    numThreads?: number;\n\n    /**\n     * set a value indicating whether to enable SIMD.\n     *\n     * ONNX Runtime will perform feature detection based on the value of this property. Specifically, when the value is\n     * set to:\n     * - `undefined`, `true` or `\"fixed\"`: will check availability of Fixed-width SIMD.\n     * - `\"relaxed\"`: will check availability of Relaxed SIMD.\n     * - `false`: will not perform SIMD feature checking.\n     *\n     * Setting this property does not make ONNX Runtime to switch to the corresponding runtime automatically. User need\n     * to set `wasmPaths` or `wasmBinary` property to load the corresponding runtime.\n     *\n     * This setting is available only when WebAssembly SIMD feature is available in current context.\n     *\n     * @defaultValue `true`\n     */\n    simd?: boolean | 'fixed' | 'relaxed';\n\n    /**\n     * set or get a boolean value indicating whether to enable trace.\n     *\n     * @defaultValue `false`\n     *\n     * @deprecated Use `env.trace` instead. If `env.trace` is set, this property will be ignored.\n     */\n    trace?: boolean;\n\n    /**\n     * Set or get a number specifying the timeout for initialization of WebAssembly backend, in milliseconds. A zero\n     * value indicates no timeout is set.\n     *\n     * @defaultValue `0`\n     */\n    initTimeout?: number;\n\n    /**\n     * Set a custom URL prefix to the .wasm/.mjs files, or an object of overrides for both .wasm/.mjs file. The override\n     * path should be an absolute path.\n     */\n    wasmPaths?: WasmPrefixOrFilePaths;\n\n    /**\n     * Set a custom buffer which contains the WebAssembly binary. If this property is set, the `wasmPaths` property will\n     * be ignored.\n     */\n    wasmBinary?: ArrayBufferLike | Uint8Array;\n\n    /**\n     * Set or get a boolean value indicating whether to proxy the execution of main thread to a worker thread.\n     *\n     * @defaultValue `false`\n     */\n    proxy?: boolean;\n  }\n\n  export interface WebGLFlags {\n    /**\n     * Set or get the WebGL Context ID (webgl or webgl2).\n     *\n     * @defaultValue `'webgl2'`\n     */\n    contextId?: 'webgl' | 'webgl2';\n    /**\n     * Get the WebGL rendering context.\n     */\n    readonly context: WebGLRenderingContext;\n    /**\n     * Set or get the maximum batch size for matmul. 0 means to disable batching.\n     *\n     * @deprecated\n     */\n    matmulMaxBatchSize?: number;\n    /**\n     * Set or get the texture cache mode.\n     *\n     * @defaultValue `'full'`\n     */\n    textureCacheMode?: 'initializerOnly' | 'full';\n    /**\n     * Set or get the packed texture mode\n     *\n     * @defaultValue `false`\n     */\n    pack?: boolean;\n    /**\n     * Set or get whether enable async download.\n     *\n     * @defaultValue `false`\n     */\n    async?: boolean;\n  }\n\n  export interface WebGpuProfilingDataV1TensorMetadata {\n    dims: readonly number[];\n    dataType: string;\n  }\n  export interface WebGpuProfilingDataV1 {\n    version: 1;\n    inputsMetadata: readonly WebGpuProfilingDataV1TensorMetadata[];\n    outputsMetadata: readonly WebGpuProfilingDataV1TensorMetadata[];\n    kernelId: number;\n    kernelType: string;\n    kernelName: string;\n    programName: string;\n    startTime: number;\n    endTime: number;\n  }\n\n  export type WebGpuProfilingData = WebGpuProfilingDataV1;\n\n  export interface WebGpuFlags {\n    /**\n     * Set or get the profiling mode.\n     *\n     * @deprecated Use `env.webgpu.profiling.mode` instead. If `env.webgpu.profiling.mode` is set, this property will be\n     * ignored.\n     */\n    profilingMode?: 'off' | 'default';\n    /**\n     * Set or get the profiling configuration.\n     */\n    profiling: {\n      /**\n       * Set or get the profiling mode.\n       *\n       * @defaultValue `'off'`\n       */\n      mode?: 'off' | 'default';\n\n      /**\n       * Set or get a callback function when a profiling data is received. If not set, the profiling data will be\n       * printed to console.\n       */\n      ondata?: (data: WebGpuProfilingData) => void;\n    };\n    /**\n     * Set or get the power preference.\n     *\n     * Setting this property only has effect before the first WebGPU inference session is created. The value will be\n     * used as options for `navigator.gpu.requestAdapter()`.\n     *\n     * See {@link https://gpuweb.github.io/gpuweb/#dictdef-gpurequestadapteroptions} for more details.\n     *\n     * @defaultValue `undefined`\n     *\n     * @deprecated Create your own GPUAdapter, use it to create a GPUDevice instance and set {@link device} property if\n     * you want to use a specific power preference.\n     */\n    powerPreference?: 'low-power' | 'high-performance';\n    /**\n     * Set or get the force fallback adapter flag.\n     *\n     * Setting this property only has effect before the first WebGPU inference session is created. The value will be\n     * used as options for `navigator.gpu.requestAdapter()`.\n     *\n     * See {@link https://gpuweb.github.io/gpuweb/#dictdef-gpurequestadapteroptions} for more details.\n     *\n     * @defaultValue `undefined`\n     *\n     * @deprecated Create your own GPUAdapter, use it to create a GPUDevice instance and set {@link device} property if\n     * you want to use a specific fallback option.\n     */\n    forceFallbackAdapter?: boolean;\n    /**\n     * Set or get the adapter for WebGPU.\n     *\n     * Setting this property only has effect before the first WebGPU inference session is created. The value will be\n     * used as the GPU adapter for the underlying WebGPU backend to create GPU device.\n     *\n     * If this property is not set, it will be available to get after the first WebGPU inference session is created. The\n     * value will be the GPU adapter that created by the underlying WebGPU backend.\n     *\n     * When use with TypeScript, the type of this property is `GPUAdapter` defined in \"@webgpu/types\".\n     *\n     * @deprecated It is no longer recommended to use this property. The latest WebGPU spec adds `GPUDevice.adapterInfo`\n     * (https://www.w3.org/TR/webgpu/#dom-gpudevice-adapterinfo), which allows to get the adapter information from the\n     * device. When it's available, there is no need to set/get the {@link adapter} property.\n     */\n    adapter: TryGetGlobalType<'GPUAdapter'>;\n    /**\n     * Set or get the GPU device for WebGPU.\n     *\n     * There are 3 valid scenarios of accessing this property:\n     * - Set a value before the first WebGPU inference session is created. The value will be used by the WebGPU backend\n     * to perform calculations. If the value is not a `GPUDevice` object, an error will be thrown.\n     * - Get the value before the first WebGPU inference session is created. This will try to create a new GPUDevice\n     * instance. Returns a `Promise` that resolves to a `GPUDevice` object.\n     * - Get the value after the first WebGPU inference session is created. Returns a resolved `Promise` to the\n     * `GPUDevice` object used by the WebGPU backend.\n     */\n    get device(): Promise<TryGetGlobalType<'GPUDevice'>>;\n    set device(value: TryGetGlobalType<'GPUDevice'>);\n    /**\n     * Set or get whether validate input content.\n     *\n     * @defaultValue `false`\n     */\n    validateInputContent?: boolean;\n  }\n}\n\nexport interface Env {\n  /**\n   * set the severity level for logging.\n   *\n   * @defaultValue `'warning'`\n   */\n  logLevel?: 'verbose' | 'info' | 'warning' | 'error' | 'fatal';\n\n  /**\n   * Indicate whether run in debug mode.\n   *\n   * @defaultValue `false`\n   */\n  debug?: boolean;\n\n  /**\n   * set or get a boolean value indicating whether to enable trace.\n   *\n   * @defaultValue `false`\n   */\n  trace?: boolean;\n\n  /**\n   * Get version of the current package.\n   */\n  readonly versions: {\n    readonly common: string;\n    readonly web?: string;\n    readonly node?: string;\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    readonly 'react-native'?: string;\n  };\n\n  /**\n   * Represent a set of flags for WebAssembly\n   */\n  readonly wasm: Env.WebAssemblyFlags;\n\n  /**\n   * Represent a set of flags for WebGL\n   */\n  readonly webgl: Env.WebGLFlags;\n\n  /**\n   * Represent a set of flags for WebGPU\n   */\n  readonly webgpu: Env.WebGpuFlags;\n\n  [name: string]: unknown;\n}\n\n/**\n * Represent a set of flags as a global singleton.\n */\nexport const env: Env = envImpl;\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { TensorToDataUrlOptions, TensorToImageDataOptions } from './tensor-conversion.js';\nimport { Tensor } from './tensor.js';\n\n/**\n * implementation of Tensor.toDataURL()\n */\nexport const tensorToDataURL = (tensor: Tensor, options?: TensorToDataUrlOptions): string => {\n  const canvas = typeof document !== 'undefined' ? document.createElement('canvas') : new OffscreenCanvas(1, 1);\n  canvas.width = tensor.dims[3];\n  canvas.height = tensor.dims[2];\n  const pixels2DContext = canvas.getContext('2d') as\n    | CanvasRenderingContext2D\n    | OffscreenCanvasRenderingContext2D\n    | null;\n\n  if (pixels2DContext != null) {\n    // Default values for height and width & format\n    let width: number;\n    let height: number;\n    if (options?.tensorLayout !== undefined && options.tensorLayout === 'NHWC') {\n      width = tensor.dims[2];\n      height = tensor.dims[3];\n    } else {\n      // Default layout is NCWH\n      width = tensor.dims[3];\n      height = tensor.dims[2];\n    }\n\n    const inputformat = options?.format !== undefined ? options.format : 'RGB';\n\n    const norm = options?.norm;\n    let normMean: [number, number, number, number];\n    let normBias: [number, number, number, number];\n    if (norm === undefined || norm.mean === undefined) {\n      normMean = [255, 255, 255, 255];\n    } else {\n      if (typeof norm.mean === 'number') {\n        normMean = [norm.mean, norm.mean, norm.mean, norm.mean];\n      } else {\n        normMean = [norm.mean[0], norm.mean[1], norm.mean[2], 0];\n        if (norm.mean[3] !== undefined) {\n          normMean[3] = norm.mean[3];\n        }\n      }\n    }\n    if (norm === undefined || norm.bias === undefined) {\n      normBias = [0, 0, 0, 0];\n    } else {\n      if (typeof norm.bias === 'number') {\n        normBias = [norm.bias, norm.bias, norm.bias, norm.bias];\n      } else {\n        normBias = [norm.bias[0], norm.bias[1], norm.bias[2], 0];\n        if (norm.bias[3] !== undefined) {\n          normBias[3] = norm.bias[3];\n        }\n      }\n    }\n\n    const stride = height * width;\n    // Default pointer assignments\n    let rTensorPointer = 0,\n      gTensorPointer = stride,\n      bTensorPointer = stride * 2,\n      aTensorPointer = -1;\n\n    // Updating the pointer assignments based on the input image format\n    if (inputformat === 'RGBA') {\n      rTensorPointer = 0;\n      gTensorPointer = stride;\n      bTensorPointer = stride * 2;\n      aTensorPointer = stride * 3;\n    } else if (inputformat === 'RGB') {\n      rTensorPointer = 0;\n      gTensorPointer = stride;\n      bTensorPointer = stride * 2;\n    } else if (inputformat === 'RBG') {\n      rTensorPointer = 0;\n      bTensorPointer = stride;\n      gTensorPointer = stride * 2;\n    }\n\n    for (let i = 0; i < height; i++) {\n      for (let j = 0; j < width; j++) {\n        const R = ((tensor.data[rTensorPointer++] as number) - normBias[0]) * normMean[0]; // R value\n        const G = ((tensor.data[gTensorPointer++] as number) - normBias[1]) * normMean[1]; // G value\n        const B = ((tensor.data[bTensorPointer++] as number) - normBias[2]) * normMean[2]; // B value\n        const A = aTensorPointer === -1 ? 255 : ((tensor.data[aTensorPointer++] as number) - normBias[3]) * normMean[3]; // A value\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n        pixels2DContext.fillStyle = 'rgba(' + R + ',' + G + ',' + B + ',' + A + ')';\n        pixels2DContext.fillRect(j, i, 1, 1);\n      }\n    }\n    if ('toDataURL' in canvas) {\n      return canvas.toDataURL();\n    } else {\n      throw new Error('toDataURL is not supported');\n    }\n  } else {\n    throw new Error('Can not access image data');\n  }\n};\n\n/**\n * implementation of Tensor.toImageData()\n */\nexport const tensorToImageData = (tensor: Tensor, options?: TensorToImageDataOptions): ImageData => {\n  const pixels2DContext =\n    typeof document !== 'undefined'\n      ? document.createElement('canvas').getContext('2d')\n      : (new OffscreenCanvas(1, 1).getContext('2d') as OffscreenCanvasRenderingContext2D);\n  let image: ImageData;\n  if (pixels2DContext != null) {\n    // Default values for height and width & format\n    let width: number;\n    let height: number;\n    let channels: number;\n    if (options?.tensorLayout !== undefined && options.tensorLayout === 'NHWC') {\n      width = tensor.dims[2];\n      height = tensor.dims[1];\n      channels = tensor.dims[3];\n    } else {\n      // Default layout is NCWH\n      width = tensor.dims[3];\n      height = tensor.dims[2];\n      channels = tensor.dims[1];\n    }\n    const inputformat = options !== undefined ? (options.format !== undefined ? options.format : 'RGB') : 'RGB';\n\n    const norm = options?.norm;\n    let normMean: [number, number, number, number];\n    let normBias: [number, number, number, number];\n    if (norm === undefined || norm.mean === undefined) {\n      normMean = [255, 255, 255, 255];\n    } else {\n      if (typeof norm.mean === 'number') {\n        normMean = [norm.mean, norm.mean, norm.mean, norm.mean];\n      } else {\n        normMean = [norm.mean[0], norm.mean[1], norm.mean[2], 255];\n        if (norm.mean[3] !== undefined) {\n          normMean[3] = norm.mean[3];\n        }\n      }\n    }\n    if (norm === undefined || norm.bias === undefined) {\n      normBias = [0, 0, 0, 0];\n    } else {\n      if (typeof norm.bias === 'number') {\n        normBias = [norm.bias, norm.bias, norm.bias, norm.bias];\n      } else {\n        normBias = [norm.bias[0], norm.bias[1], norm.bias[2], 0];\n        if (norm.bias[3] !== undefined) {\n          normBias[3] = norm.bias[3];\n        }\n      }\n    }\n\n    const stride = height * width;\n    if (options !== undefined) {\n      if (\n        (options.format !== undefined && channels === 4 && options.format !== 'RGBA') ||\n        (channels === 3 && options.format !== 'RGB' && options.format !== 'BGR')\n      ) {\n        throw new Error(\"Tensor format doesn't match input tensor dims\");\n      }\n    }\n\n    // Default pointer assignments\n    const step = 4;\n    let rImagePointer = 0,\n      gImagePointer = 1,\n      bImagePointer = 2,\n      aImagePointer = 3;\n    let rTensorPointer = 0,\n      gTensorPointer = stride,\n      bTensorPointer = stride * 2,\n      aTensorPointer = -1;\n\n    // Updating the pointer assignments based on the input image format\n    if (inputformat === 'RGBA') {\n      rTensorPointer = 0;\n      gTensorPointer = stride;\n      bTensorPointer = stride * 2;\n      aTensorPointer = stride * 3;\n    } else if (inputformat === 'RGB') {\n      rTensorPointer = 0;\n      gTensorPointer = stride;\n      bTensorPointer = stride * 2;\n    } else if (inputformat === 'RBG') {\n      rTensorPointer = 0;\n      bTensorPointer = stride;\n      gTensorPointer = stride * 2;\n    }\n\n    image = pixels2DContext.createImageData(width, height);\n\n    for (\n      let i = 0;\n      i < height * width;\n      rImagePointer += step, gImagePointer += step, bImagePointer += step, aImagePointer += step, i++\n    ) {\n      image.data[rImagePointer] = ((tensor.data[rTensorPointer++] as number) - normBias[0]) * normMean[0]; // R value\n      image.data[gImagePointer] = ((tensor.data[gTensorPointer++] as number) - normBias[1]) * normMean[1]; // G value\n      image.data[bImagePointer] = ((tensor.data[bTensorPointer++] as number) - normBias[2]) * normMean[2]; // B value\n      image.data[aImagePointer] =\n        aTensorPointer === -1 ? 255 : ((tensor.data[aTensorPointer++] as number) - normBias[3]) * normMean[3]; // A value\n    }\n  } else {\n    throw new Error('Can not access image data');\n  }\n  return image;\n};\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {\n  OptionsDimensions,\n  OptionsFormat,\n  OptionsNormalizationParameters,\n  OptionsTensorFormat,\n  OptionsTensorLayout,\n  TensorFromGpuBufferOptions,\n  TensorFromImageBitmapOptions,\n  TensorFromImageDataOptions,\n  TensorFromImageElementOptions,\n  TensorFromMLTensorOptions,\n  TensorFromTextureOptions,\n  TensorFromUrlOptions,\n} from './tensor-factory.js';\nimport { Tensor } from './tensor-impl.js';\nimport { Tensor as TensorInterface } from './tensor.js';\n\ninterface BufferToTensorOptions\n  extends OptionsDimensions,\n    OptionsTensorLayout,\n    OptionsNormalizationParameters,\n    OptionsFormat,\n    OptionsTensorFormat {}\n\n/**\n * Create a new tensor object from image object\n *\n * @param buffer - Extracted image buffer data - assuming RGBA format\n * @param imageFormat - input image configuration - required configurations height, width, format\n * @param tensorFormat - output tensor configuration - Default is RGB format\n */\nexport const bufferToTensor = (buffer: Uint8ClampedArray | undefined, options: BufferToTensorOptions): Tensor => {\n  if (buffer === undefined) {\n    throw new Error('Image buffer must be defined');\n  }\n  if (options.height === undefined || options.width === undefined) {\n    throw new Error('Image height and width must be defined');\n  }\n  if (options.tensorLayout === 'NHWC') {\n    throw new Error('NHWC Tensor layout is not supported yet');\n  }\n\n  const { height, width } = options;\n\n  const norm = options.norm ?? { mean: 255, bias: 0 };\n  let normMean: [number, number, number, number];\n  let normBias: [number, number, number, number];\n\n  if (typeof norm.mean === 'number') {\n    normMean = [norm.mean, norm.mean, norm.mean, norm.mean];\n  } else {\n    normMean = [norm.mean![0], norm.mean![1], norm.mean![2], norm.mean![3] ?? 255];\n  }\n\n  if (typeof norm.bias === 'number') {\n    normBias = [norm.bias, norm.bias, norm.bias, norm.bias];\n  } else {\n    normBias = [norm.bias![0], norm.bias![1], norm.bias![2], norm.bias![3] ?? 0];\n  }\n\n  const inputformat = options.format !== undefined ? options.format : 'RGBA';\n  // default value is RGBA since imagedata and HTMLImageElement uses it\n\n  const outputformat =\n    options.tensorFormat !== undefined ? (options.tensorFormat !== undefined ? options.tensorFormat : 'RGB') : 'RGB';\n  const stride = height * width;\n  const float32Data = outputformat === 'RGBA' ? new Float32Array(stride * 4) : new Float32Array(stride * 3);\n\n  // Default pointer assignments\n  let step = 4,\n    rImagePointer = 0,\n    gImagePointer = 1,\n    bImagePointer = 2,\n    aImagePointer = 3;\n  let rTensorPointer = 0,\n    gTensorPointer = stride,\n    bTensorPointer = stride * 2,\n    aTensorPointer = -1;\n\n  // Updating the pointer assignments based on the input image format\n  if (inputformat === 'RGB') {\n    step = 3;\n    rImagePointer = 0;\n    gImagePointer = 1;\n    bImagePointer = 2;\n    aImagePointer = -1;\n  }\n\n  // Updating the pointer assignments based on the output tensor format\n  if (outputformat === 'RGBA') {\n    aTensorPointer = stride * 3;\n  } else if (outputformat === 'RBG') {\n    rTensorPointer = 0;\n    bTensorPointer = stride;\n    gTensorPointer = stride * 2;\n  } else if (outputformat === 'BGR') {\n    bTensorPointer = 0;\n    gTensorPointer = stride;\n    rTensorPointer = stride * 2;\n  }\n\n  for (\n    let i = 0;\n    i < stride;\n    i++, rImagePointer += step, bImagePointer += step, gImagePointer += step, aImagePointer += step\n  ) {\n    float32Data[rTensorPointer++] = (buffer[rImagePointer] + normBias[0]) / normMean[0];\n    float32Data[gTensorPointer++] = (buffer[gImagePointer] + normBias[1]) / normMean[1];\n    float32Data[bTensorPointer++] = (buffer[bImagePointer] + normBias[2]) / normMean[2];\n    if (aTensorPointer !== -1 && aImagePointer !== -1) {\n      float32Data[aTensorPointer++] = (buffer[aImagePointer] + normBias[3]) / normMean[3];\n    }\n  }\n\n  // Float32Array -> ort.Tensor\n  const outputTensor =\n    outputformat === 'RGBA'\n      ? new Tensor('float32', float32Data, [1, 4, height, width])\n      : new Tensor('float32', float32Data, [1, 3, height, width]);\n  return outputTensor;\n};\n\n/**\n * implementation of Tensor.fromImage().\n */\nexport const tensorFromImage = async (\n  image: ImageData | HTMLImageElement | ImageBitmap | string,\n  options?:\n    | TensorFromImageDataOptions\n    | TensorFromImageElementOptions\n    | TensorFromImageBitmapOptions\n    | TensorFromUrlOptions,\n): Promise<Tensor> => {\n  // checking the type of image object\n  const isHTMLImageEle = typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement;\n  const isImageDataEle = typeof ImageData !== 'undefined' && image instanceof ImageData;\n  const isImageBitmap = typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap;\n  const isString = typeof image === 'string';\n\n  let data: Uint8ClampedArray | undefined;\n  let bufferToTensorOptions: BufferToTensorOptions = options ?? {};\n\n  const createCanvas = () => {\n    if (typeof document !== 'undefined') {\n      return document.createElement('canvas');\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      return new OffscreenCanvas(1, 1);\n    } else {\n      throw new Error('Canvas is not supported');\n    }\n  };\n  const createCanvasContext = (canvas: HTMLCanvasElement | OffscreenCanvas) => {\n    if (typeof HTMLCanvasElement !== 'undefined' && canvas instanceof HTMLCanvasElement) {\n      return canvas.getContext('2d');\n    } else if (canvas instanceof OffscreenCanvas) {\n      return canvas.getContext('2d') as OffscreenCanvasRenderingContext2D;\n    } else {\n      return null;\n    }\n  };\n  // filling and checking image configuration options\n  if (isHTMLImageEle) {\n    // HTMLImageElement - image object - format is RGBA by default\n    const canvas = createCanvas();\n    canvas.width = image.width;\n    canvas.height = image.height;\n    const pixels2DContext = createCanvasContext(canvas);\n\n    if (pixels2DContext != null) {\n      let height = image.height;\n      let width = image.width;\n      if (options !== undefined && options.resizedHeight !== undefined && options.resizedWidth !== undefined) {\n        height = options.resizedHeight;\n        width = options.resizedWidth;\n      }\n\n      if (options !== undefined) {\n        bufferToTensorOptions = options;\n        if (options.tensorFormat !== undefined) {\n          throw new Error('Image input config format must be RGBA for HTMLImageElement');\n        } else {\n          bufferToTensorOptions.tensorFormat = 'RGBA';\n        }\n        bufferToTensorOptions.height = height;\n        bufferToTensorOptions.width = width;\n      } else {\n        bufferToTensorOptions.tensorFormat = 'RGBA';\n        bufferToTensorOptions.height = height;\n        bufferToTensorOptions.width = width;\n      }\n\n      pixels2DContext.drawImage(image, 0, 0);\n      data = pixels2DContext.getImageData(0, 0, width, height).data;\n    } else {\n      throw new Error('Can not access image data');\n    }\n  } else if (isImageDataEle) {\n    let height: number;\n    let width: number;\n\n    if (options !== undefined && options.resizedWidth !== undefined && options.resizedHeight !== undefined) {\n      height = options.resizedHeight;\n      width = options.resizedWidth;\n    } else {\n      height = image.height;\n      width = image.width;\n    }\n\n    if (options !== undefined) {\n      bufferToTensorOptions = options;\n    }\n    bufferToTensorOptions.format = 'RGBA';\n    bufferToTensorOptions.height = height;\n    bufferToTensorOptions.width = width;\n\n    if (options !== undefined) {\n      const tempCanvas = createCanvas();\n\n      tempCanvas.width = width;\n      tempCanvas.height = height;\n\n      const pixels2DContext = createCanvasContext(tempCanvas);\n\n      if (pixels2DContext != null) {\n        pixels2DContext.putImageData(image, 0, 0);\n        data = pixels2DContext.getImageData(0, 0, width, height).data;\n      } else {\n        throw new Error('Can not access image data');\n      }\n    } else {\n      data = image.data;\n    }\n  } else if (isImageBitmap) {\n    // ImageBitmap - image object - format must be provided by user\n    if (options === undefined) {\n      throw new Error('Please provide image config with format for Imagebitmap');\n    }\n\n    const canvas = createCanvas();\n    canvas.width = image.width;\n    canvas.height = image.height;\n    const pixels2DContext = createCanvasContext(canvas);\n\n    if (pixels2DContext != null) {\n      const height = image.height;\n      const width = image.width;\n      pixels2DContext.drawImage(image, 0, 0, width, height);\n      data = pixels2DContext.getImageData(0, 0, width, height).data;\n      bufferToTensorOptions.height = height;\n      bufferToTensorOptions.width = width;\n      return bufferToTensor(data, bufferToTensorOptions);\n    } else {\n      throw new Error('Can not access image data');\n    }\n  } else if (isString) {\n    return new Promise((resolve, reject) => {\n      const canvas = createCanvas();\n      const context = createCanvasContext(canvas);\n      if (!image || !context) {\n        return reject();\n      }\n      const newImage = new Image();\n      newImage.crossOrigin = 'Anonymous';\n      newImage.src = image;\n      newImage.onload = () => {\n        canvas.width = newImage.width;\n        canvas.height = newImage.height;\n        context.drawImage(newImage, 0, 0, canvas.width, canvas.height);\n        const img = context.getImageData(0, 0, canvas.width, canvas.height);\n\n        bufferToTensorOptions.height = canvas.height;\n        bufferToTensorOptions.width = canvas.width;\n        resolve(bufferToTensor(img.data, bufferToTensorOptions));\n      };\n    });\n  } else {\n    throw new Error('Input data provided is not supported - aborted tensor creation');\n  }\n\n  if (data !== undefined) {\n    return bufferToTensor(data, bufferToTensorOptions);\n  } else {\n    throw new Error('Input data provided is not supported - aborted tensor creation');\n  }\n};\n\n/**\n * implementation of Tensor.fromTexture().\n */\nexport const tensorFromTexture = <T extends TensorInterface.TextureDataTypes>(\n  texture: TensorInterface.TextureType,\n  options: TensorFromTextureOptions<T>,\n): Tensor => {\n  const { width, height, download, dispose } = options;\n  // Always assume RGBAF32. TODO: support different texture format\n  const dims = [1, height, width, 4];\n  return new Tensor({ location: 'texture', type: 'float32', texture, dims, download, dispose });\n};\n\n/**\n * implementation of Tensor.fromGpuBuffer().\n */\nexport const tensorFromGpuBuffer = <T extends TensorInterface.GpuBufferDataTypes>(\n  gpuBuffer: TensorInterface.GpuBufferType,\n  options: TensorFromGpuBufferOptions<T>,\n): Tensor => {\n  const { dataType, dims, download, dispose } = options;\n  return new Tensor({ location: 'gpu-buffer', type: dataType ?? 'float32', gpuBuffer, dims, download, dispose });\n};\n\n/**\n * implementation of Tensor.fromMLTensor().\n */\nexport const tensorFromMLTensor = <T extends TensorInterface.MLTensorDataTypes>(\n  mlTensor: TensorInterface.MLTensorType,\n  options: TensorFromMLTensorOptions<T>,\n): Tensor => {\n  const { dataType, dims, download, dispose } = options;\n  return new Tensor({ location: 'ml-tensor', type: dataType ?? 'float32', mlTensor, dims, download, dispose });\n};\n\n/**\n * implementation of Tensor.fromPinnedBuffer().\n */\nexport const tensorFromPinnedBuffer = <T extends TensorInterface.CpuPinnedDataTypes>(\n  type: T,\n  buffer: TensorInterface.DataTypeMap[T],\n  dims?: readonly number[],\n): Tensor => new Tensor({ location: 'cpu-pinned', type, data: buffer, dims: dims ?? [buffer.length] });\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { Tensor } from './tensor.js';\n\nexport type SupportedTypedArrayConstructors =\n  | Float32ArrayConstructor\n  | Uint8ArrayConstructor\n  | Int8ArrayConstructor\n  | Uint16ArrayConstructor\n  | Int16ArrayConstructor\n  | Int32ArrayConstructor\n  | BigInt64ArrayConstructor\n  | Uint8ArrayConstructor\n  | Float64ArrayConstructor\n  | Uint32ArrayConstructor\n  | BigUint64ArrayConstructor;\nexport type SupportedTypedArray = InstanceType<SupportedTypedArrayConstructors>;\n\n// a runtime map that maps type string to TypedArray constructor. Should match Tensor.DataTypeMap.\nexport const NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP = new Map<string, SupportedTypedArrayConstructors>([\n  ['float32', Float32Array],\n  ['uint8', Uint8Array],\n  ['int8', Int8Array],\n  ['uint16', Uint16Array],\n  ['int16', Int16Array],\n  ['int32', Int32Array],\n  ['bool', Uint8Array],\n  ['float64', Float64Array],\n  ['uint32', Uint32Array],\n  ['int4', Uint8Array],\n  ['uint4', Uint8Array],\n]);\n\n// a runtime map that maps type string to TypedArray constructor. Should match Tensor.DataTypeMap.\nexport const NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP = new Map<SupportedTypedArrayConstructors, Tensor.Type>([\n  [Float32Array, 'float32'],\n  [Uint8Array, 'uint8'],\n  [Int8Array, 'int8'],\n  [Uint16Array, 'uint16'],\n  [Int16Array, 'int16'],\n  [Int32Array, 'int32'],\n  [Float64Array, 'float64'],\n  [Uint32Array, 'uint32'],\n]);\n\n// the following code allows delaying execution of BigInt/Float16Array checking. This allows lazy initialization for\n// NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP and NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP, which allows BigInt/Float16Array\n// polyfill if available.\nlet isTypedArrayChecked = false;\nexport const checkTypedArray = () => {\n  if (!isTypedArrayChecked) {\n    isTypedArrayChecked = true;\n    const isBigInt64ArrayAvailable = typeof BigInt64Array !== 'undefined' && BigInt64Array.from;\n    const isBigUint64ArrayAvailable = typeof BigUint64Array !== 'undefined' && BigUint64Array.from;\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention, @typescript-eslint/no-explicit-any\n    const Float16Array = (globalThis as any).Float16Array;\n    const isFloat16ArrayAvailable = typeof Float16Array !== 'undefined' && Float16Array.from;\n\n    if (isBigInt64ArrayAvailable) {\n      NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set('int64', BigInt64Array);\n      NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigInt64Array, 'int64');\n    }\n    if (isBigUint64ArrayAvailable) {\n      NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set('uint64', BigUint64Array);\n      NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigUint64Array, 'uint64');\n    }\n    if (isFloat16ArrayAvailable) {\n      NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set('float16', Float16Array);\n      NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(Float16Array, 'float16');\n    } else {\n      // if Float16Array is not available, use 'Uint16Array' to store the data.\n      NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set('float16', Uint16Array);\n    }\n  }\n};\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {\n  CpuPinnedConstructorParameters,\n  GpuBufferConstructorParameters,\n  MLTensorConstructorParameters,\n  TextureConstructorParameters,\n} from './tensor-factory.js';\nimport { Tensor } from './tensor-impl.js';\n\n/**\n * calculate size from dims.\n *\n * @param dims the dims array. May be an illegal input.\n */\nexport const calculateSize = (dims: readonly unknown[]): number => {\n  let size = 1;\n  for (let i = 0; i < dims.length; i++) {\n    const dim = dims[i];\n    if (typeof dim !== 'number' || !Number.isSafeInteger(dim)) {\n      throw new TypeError(`dims[${i}] must be an integer, got: ${dim}`);\n    }\n    if (dim < 0) {\n      throw new RangeError(`dims[${i}] must be a non-negative integer, got: ${dim}`);\n    }\n    size *= dim;\n  }\n  return size;\n};\n\n/**\n * implementation of Tensor.reshape()\n */\nexport const tensorReshape = (tensor: Tensor, dims: readonly number[]): Tensor => {\n  switch (tensor.location) {\n    case 'cpu':\n      return new Tensor(tensor.type, tensor.data, dims);\n    case 'cpu-pinned':\n      return new Tensor({\n        location: 'cpu-pinned',\n        data: tensor.data as CpuPinnedConstructorParameters['data'],\n        type: tensor.type as CpuPinnedConstructorParameters['type'],\n        dims,\n      });\n    case 'texture':\n      return new Tensor({\n        location: 'texture',\n        texture: tensor.texture,\n        type: tensor.type as TextureConstructorParameters['type'],\n        dims,\n      });\n    case 'gpu-buffer':\n      return new Tensor({\n        location: 'gpu-buffer',\n        gpuBuffer: tensor.gpuBuffer,\n        type: tensor.type as GpuBufferConstructorParameters['type'],\n        dims,\n      });\n    case 'ml-tensor':\n      return new Tensor({\n        location: 'ml-tensor',\n        mlTensor: tensor.mlTensor,\n        type: tensor.type as MLTensorConstructorParameters['type'],\n        dims,\n      });\n    default:\n      throw new Error(`tensorReshape: tensor location ${tensor.location} is not supported`);\n  }\n};\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { tensorToDataURL, tensorToImageData } from './tensor-conversion-impl.js';\nimport { TensorToDataUrlOptions, TensorToImageDataOptions } from './tensor-conversion.js';\nimport {\n  tensorFromGpuBuffer,\n  tensorFromImage,\n  tensorFromMLTensor,\n  tensorFromPinnedBuffer,\n  tensorFromTexture,\n} from './tensor-factory-impl.js';\nimport {\n  CpuPinnedConstructorParameters,\n  GpuBufferConstructorParameters,\n  MLTensorConstructorParameters,\n  TensorFromGpuBufferOptions,\n  TensorFromImageBitmapOptions,\n  TensorFromImageDataOptions,\n  TensorFromImageElementOptions,\n  TensorFromMLTensorOptions,\n  TensorFromTextureOptions,\n  TensorFromUrlOptions,\n  TextureConstructorParameters,\n} from './tensor-factory.js';\nimport {\n  checkTypedArray,\n  NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP,\n  NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP,\n  SupportedTypedArray,\n  SupportedTypedArrayConstructors,\n} from './tensor-impl-type-mapping.js';\nimport { calculateSize, tensorReshape } from './tensor-utils-impl.js';\nimport { Tensor as TensorInterface } from './tensor.js';\n\n// type aliases for those exported from Tensor interface\n\ntype TensorType = TensorInterface.Type;\ntype TensorDataType = TensorInterface.DataType;\ntype TensorDataLocation = TensorInterface.DataLocation;\ntype TensorTextureType = TensorInterface.TextureType;\ntype TensorGpuBufferType = TensorInterface.GpuBufferType;\ntype TensorMLTensorType = TensorInterface.MLTensorType;\n\n/**\n * the implementation of Tensor interface.\n *\n * @ignore\n */\nexport class Tensor implements TensorInterface {\n  // #region constructors\n\n  /**\n   * Construct a new CPU tensor object from the given type, data and dims.\n   */\n  constructor(\n    type: TensorType,\n    data: TensorDataType | Uint8ClampedArray | readonly string[] | readonly number[] | readonly boolean[],\n    dims?: readonly number[],\n  );\n  /**\n   * Construct a new CPU tensor object from the given data and dims. Type is inferred from data.\n   */\n  constructor(\n    data: TensorDataType | Uint8ClampedArray | readonly string[] | readonly boolean[],\n    dims?: readonly number[],\n  );\n  /**\n   * Construct a new tensor object from the pinned CPU data with the given type and dims.\n   *\n   * Tensor's location will be set to 'cpu-pinned'.\n   *\n   * @param params - Specify the parameters to construct the tensor.\n   */\n  constructor(params: CpuPinnedConstructorParameters);\n  /**\n   * Construct a new tensor object from the WebGL texture with the given type and dims.\n   *\n   * Tensor's location will be set to 'texture'.\n   *\n   * @param params - Specify the parameters to construct the tensor.\n   */\n  constructor(params: TextureConstructorParameters);\n  /**\n   * Construct a new tensor object from the WebGPU buffer with the given type and dims.\n   *\n   * Tensor's location will be set to 'gpu-buffer'.\n   *\n   * @param params - Specify the parameters to construct the tensor.\n   */\n  constructor(params: GpuBufferConstructorParameters);\n\n  /**\n   * Construct a new tensor object from the WebNN MLTensor with the given type and dims.\n   *\n   * Tensor's location will be set to 'ml-tensor'.\n   *\n   * @param params - Specify the parameters to construct the tensor.\n   */\n  constructor(params: MLTensorConstructorParameters);\n\n  /**\n   * implementation.\n   */\n  constructor(\n    arg0:\n      | TensorType\n      | TensorDataType\n      | Uint8ClampedArray\n      | readonly string[]\n      | readonly boolean[]\n      | CpuPinnedConstructorParameters\n      | TextureConstructorParameters\n      | GpuBufferConstructorParameters\n      | MLTensorConstructorParameters,\n    arg1?: TensorDataType | Uint8ClampedArray | readonly number[] | readonly string[] | readonly boolean[],\n    arg2?: readonly number[],\n  ) {\n    // perform one-time check for BigInt/Float16Array support\n    checkTypedArray();\n\n    let type: TensorType;\n    let dims: readonly number[];\n\n    if (typeof arg0 === 'object' && 'location' in arg0) {\n      //\n      // constructing tensor from specific location\n      //\n      this.dataLocation = arg0.location;\n      type = arg0.type;\n      dims = arg0.dims;\n      switch (arg0.location) {\n        case 'cpu-pinned': {\n          const expectedTypedArrayConstructor = NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(type);\n          if (!expectedTypedArrayConstructor) {\n            throw new TypeError(`unsupported type \"${type}\" to create tensor from pinned buffer`);\n          }\n          if (!(arg0.data instanceof expectedTypedArrayConstructor)) {\n            throw new TypeError(`buffer should be of type ${expectedTypedArrayConstructor.name}`);\n          }\n          this.cpuData = arg0.data;\n          break;\n        }\n        case 'texture': {\n          if (type !== 'float32') {\n            throw new TypeError(`unsupported type \"${type}\" to create tensor from texture`);\n          }\n          this.gpuTextureData = arg0.texture;\n          this.downloader = arg0.download;\n          this.disposer = arg0.dispose;\n          break;\n        }\n        case 'gpu-buffer': {\n          if (\n            type !== 'float32' &&\n            type !== 'float16' &&\n            type !== 'int32' &&\n            type !== 'int64' &&\n            type !== 'uint32' &&\n            type !== 'uint8' &&\n            type !== 'bool' &&\n            type !== 'uint4' &&\n            type !== 'int4'\n          ) {\n            throw new TypeError(`unsupported type \"${type}\" to create tensor from gpu buffer`);\n          }\n          this.gpuBufferData = arg0.gpuBuffer;\n          this.downloader = arg0.download;\n          this.disposer = arg0.dispose;\n          break;\n        }\n        case 'ml-tensor': {\n          if (\n            type !== 'float32' &&\n            type !== 'float16' &&\n            type !== 'int32' &&\n            type !== 'int64' &&\n            type !== 'uint32' &&\n            type !== 'uint64' &&\n            type !== 'int8' &&\n            type !== 'uint8' &&\n            type !== 'bool' &&\n            type !== 'uint4' &&\n            type !== 'int4'\n          ) {\n            throw new TypeError(`unsupported type \"${type}\" to create tensor from MLTensor`);\n          }\n          this.mlTensorData = arg0.mlTensor;\n          this.downloader = arg0.download;\n          this.disposer = arg0.dispose;\n          break;\n        }\n        default:\n          throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`);\n      }\n    } else {\n      //\n      // constructing tensor of location 'cpu'\n      //\n      let data: TensorDataType;\n      let maybeDims: typeof arg1 | typeof arg2;\n      // check whether arg0 is type or data\n      if (typeof arg0 === 'string') {\n        //\n        // Override: constructor(type, data, ...)\n        //\n        type = arg0;\n        maybeDims = arg2;\n        if (arg0 === 'string') {\n          // string tensor\n          if (!Array.isArray(arg1)) {\n            throw new TypeError(\"A string tensor's data must be a string array.\");\n          }\n          // we don't check whether every element in the array is string; this is too slow. we assume it's correct and\n          // error will be populated at inference\n          data = arg1;\n        } else {\n          // numeric tensor\n          const typedArrayConstructor = NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(arg0);\n          if (typedArrayConstructor === undefined) {\n            throw new TypeError(`Unsupported tensor type: ${arg0}.`);\n          }\n          if (Array.isArray(arg1)) {\n            if ((arg0 === 'float16' && typedArrayConstructor === Uint16Array) || arg0 === 'uint4' || arg0 === 'int4') {\n              // - 'float16':\n              //   When no Float16Array polyfill is used, we cannot create 'float16' tensor from number array.\n              //\n              //   Throw error here because when user try to use number array as data,\n              //   e.g. new Tensor('float16', [1, 2, 3, 4], dims)), it will actually call\n              //   Uint16Array.from(arg1) which generates wrong data.\n              //\n              // - 'uint4' and 'int4':\n              //   Uint8Array.from(arg1) will generate wrong data for 'uint4' and 'int4' tensor.\n              //\n              throw new TypeError(\n                `Creating a ${arg0} tensor from number array is not supported. Please use ${typedArrayConstructor.name} as data.`,\n              );\n            } else if (arg0 === 'uint64' || arg0 === 'int64') {\n              // use 'as any' here because:\n              // 1. TypeScript's check on type of 'Array.isArray()' does not work with readonly arrays.\n              // see https://github.com/microsoft/TypeScript/issues/17002\n              // 2. TypeScript's check on union type of '(BigInt64ArrayConstructor|BigUint64ArrayConstructor).from()'\n              // does not accept parameter mapFn.\n              // 3. parameters of 'SupportedTypedArrayConstructors.from()' does not match the requirement of the union\n              // type.\n\n              // assume 'arg1' is of type \"readonly number[]|readonly bigint[]\" here.\n\n              // eslint-disable-next-line @typescript-eslint/no-explicit-any\n              data = (typedArrayConstructor as any).from(arg1, BigInt);\n            } else {\n              // assume 'arg1' is of type \"readonly number[]\" here.\n              // eslint-disable-next-line @typescript-eslint/no-explicit-any\n              data = (typedArrayConstructor as any).from(arg1);\n            }\n          } else if (arg1 instanceof typedArrayConstructor) {\n            data = arg1;\n          } else if (arg1 instanceof Uint8ClampedArray) {\n            if (arg0 === 'uint8') {\n              data = Uint8Array.from(arg1);\n            } else {\n              throw new TypeError(`A Uint8ClampedArray tensor's data must be type of uint8`);\n            }\n          } else if (arg0 === 'float16' && arg1 instanceof Uint16Array && typedArrayConstructor !== Uint16Array) {\n            // when Float16Array is available and data is of type Uint16Array.\n            // We allow Uint16Array to be passed in as data for 'float16' tensor until Float16Array is generally\n            // supported in JavaScript environment.\n\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            data = new (globalThis as any).Float16Array(arg1.buffer, arg1.byteOffset, arg1.length);\n          } else {\n            throw new TypeError(`A ${type} tensor's data must be type of ${typedArrayConstructor}`);\n          }\n        }\n      } else {\n        //\n        // Override: constructor(data, ...)\n        //\n        maybeDims = arg1;\n        if (Array.isArray(arg0)) {\n          // only boolean[] and string[] is supported\n          if (arg0.length === 0) {\n            throw new TypeError('Tensor type cannot be inferred from an empty array.');\n          }\n          const firstElementType = typeof arg0[0];\n          if (firstElementType === 'string') {\n            type = 'string';\n            data = arg0;\n          } else if (firstElementType === 'boolean') {\n            type = 'bool';\n            // 'arg0' is of type 'boolean[]'. Uint8Array.from(boolean[]) actually works, but typescript thinks this is\n            // wrong type. We use 'as any' to make it happy.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            data = Uint8Array.from(arg0 as any[]);\n          } else {\n            throw new TypeError(`Invalid element type of data array: ${firstElementType}.`);\n          }\n        } else if (arg0 instanceof Uint8ClampedArray) {\n          type = 'uint8';\n          data = Uint8Array.from(arg0);\n        } else {\n          // get tensor type from TypedArray\n          const mappedType = NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.get(\n            arg0.constructor as SupportedTypedArrayConstructors,\n          );\n          if (mappedType === undefined) {\n            throw new TypeError(`Unsupported type for tensor data: ${arg0.constructor}.`);\n          }\n          type = mappedType;\n          data = arg0 as SupportedTypedArray;\n        }\n      }\n\n      // type and data is processed, now processing dims\n      if (maybeDims === undefined) {\n        // assume 1-D tensor if dims omitted\n        maybeDims = [data.length];\n      } else if (!Array.isArray(maybeDims)) {\n        throw new TypeError(\"A tensor's dims must be a number array\");\n      }\n      dims = maybeDims as readonly number[];\n\n      this.cpuData = data;\n      this.dataLocation = 'cpu';\n    }\n\n    // perform check on dims\n    const size = calculateSize(dims);\n    // if data is on CPU, check whether data length matches tensor size\n    if (this.cpuData && size !== this.cpuData.length) {\n      if ((type === 'uint4' || type === 'int4') && Math.ceil(size / 2) === this.cpuData.length) {\n        // for (u)int4, the data length is half of the tensor size. So we check this special case when size is odd.\n      } else {\n        throw new Error(`Tensor's size(${size}) does not match data length(${this.cpuData.length}).`);\n      }\n    }\n\n    this.type = type;\n    this.dims = dims;\n    this.size = size;\n  }\n  // #endregion\n\n  // #region factory\n  static async fromImage(\n    image: ImageData | HTMLImageElement | ImageBitmap | string,\n    options?:\n      | TensorFromImageDataOptions\n      | TensorFromImageElementOptions\n      | TensorFromImageBitmapOptions\n      | TensorFromUrlOptions,\n  ): Promise<TensorInterface> {\n    return tensorFromImage(image, options);\n  }\n\n  static fromTexture<T extends TensorInterface.TextureDataTypes>(\n    texture: TensorTextureType,\n    options: TensorFromTextureOptions<T>,\n  ): TensorInterface {\n    return tensorFromTexture(texture, options);\n  }\n\n  static fromGpuBuffer<T extends TensorInterface.GpuBufferDataTypes>(\n    gpuBuffer: TensorGpuBufferType,\n    options: TensorFromGpuBufferOptions<T>,\n  ): TensorInterface {\n    return tensorFromGpuBuffer(gpuBuffer, options);\n  }\n\n  static fromMLTensor<T extends TensorInterface.MLTensorDataTypes>(\n    mlTensor: TensorMLTensorType,\n    options: TensorFromMLTensorOptions<T>,\n  ): TensorInterface {\n    return tensorFromMLTensor(mlTensor, options);\n  }\n\n  static fromPinnedBuffer<T extends TensorInterface.CpuPinnedDataTypes>(\n    type: T,\n    buffer: TensorInterface.DataTypeMap[T],\n    dims?: readonly number[],\n  ): Tensor {\n    return tensorFromPinnedBuffer(type, buffer, dims);\n  }\n\n  // #endregion\n\n  // #region conversions\n  toDataURL(options?: TensorToDataUrlOptions): string {\n    return tensorToDataURL(this, options);\n  }\n\n  toImageData(options?: TensorToImageDataOptions): ImageData {\n    return tensorToImageData(this, options);\n  }\n  // #endregion\n\n  // #region public fields\n  readonly dims: readonly number[];\n  readonly type: TensorType;\n  readonly size: number;\n  // #endregion\n\n  // #region private fields\n\n  /**\n   * stores the location of the data.\n   */\n  private dataLocation: TensorDataLocation;\n\n  /**\n   * stores the data on CPU, if location is 'cpu' or 'cpu-pinned'. otherwise empty.\n   */\n  private cpuData?: TensorDataType;\n\n  /**\n   * stores the underlying texture when location is 'texture'. otherwise empty.\n   */\n  private gpuTextureData?: TensorTextureType;\n\n  /**\n   * stores the underlying GPU buffer when location is 'gpu-buffer'. otherwise empty.\n   */\n  private gpuBufferData?: TensorGpuBufferType;\n\n  /**\n   * stores the underlying WebNN MLTensor when location is 'ml-tensor'. otherwise empty.\n   */\n  private mlTensorData?: TensorMLTensorType;\n\n  /**\n   * stores an optional downloader function to download data from GPU to CPU.\n   */\n  private downloader?(): Promise<TensorDataType>;\n\n  /**\n   * a flag indicating whether the data is being downloaded from GPU to CPU.\n   */\n  private isDownloading?: boolean;\n\n  /**\n   * stores an optional disposer function to dispose the underlying data.\n   */\n  private disposer?(): void;\n  // #endregion\n\n  // #region properties\n  get data(): TensorDataType {\n    this.ensureValid();\n    if (!this.cpuData) {\n      throw new Error(\n        'The data is not on CPU. Use `getData()` to download GPU data to CPU, ' +\n          'or use `texture` or `gpuBuffer` property to access the GPU data directly.',\n      );\n    }\n    return this.cpuData;\n  }\n\n  get location(): TensorDataLocation {\n    return this.dataLocation;\n  }\n\n  get texture(): TensorTextureType {\n    this.ensureValid();\n    if (!this.gpuTextureData) {\n      throw new Error('The data is not stored as a WebGL texture.');\n    }\n    return this.gpuTextureData;\n  }\n\n  get gpuBuffer(): TensorGpuBufferType {\n    this.ensureValid();\n    if (!this.gpuBufferData) {\n      throw new Error('The data is not stored as a WebGPU buffer.');\n    }\n    return this.gpuBufferData;\n  }\n\n  get mlTensor(): TensorMLTensorType {\n    this.ensureValid();\n    if (!this.mlTensorData) {\n      throw new Error('The data is not stored as a WebNN MLTensor.');\n    }\n    return this.mlTensorData;\n  }\n  // #endregion\n\n  // #region methods\n\n  async getData(releaseData?: boolean): Promise<TensorDataType> {\n    this.ensureValid();\n    switch (this.dataLocation) {\n      case 'cpu':\n      case 'cpu-pinned':\n        return this.data;\n      case 'texture':\n      case 'gpu-buffer':\n      case 'ml-tensor': {\n        if (!this.downloader) {\n          throw new Error('The current tensor is not created with a specified data downloader.');\n        }\n        if (this.isDownloading) {\n          throw new Error('The current tensor is being downloaded.');\n        }\n        try {\n          this.isDownloading = true;\n          const data = await this.downloader();\n          this.downloader = undefined;\n          this.dataLocation = 'cpu';\n          this.cpuData = data;\n\n          if (releaseData && this.disposer) {\n            this.disposer();\n            this.disposer = undefined;\n          }\n\n          return data;\n        } finally {\n          this.isDownloading = false;\n        }\n      }\n      default:\n        throw new Error(`cannot get data from location: ${this.dataLocation}`);\n    }\n  }\n\n  dispose(): void {\n    if (this.isDownloading) {\n      throw new Error('The current tensor is being downloaded.');\n    }\n\n    if (this.disposer) {\n      this.disposer();\n      this.disposer = undefined;\n    }\n    this.cpuData = undefined;\n    this.gpuTextureData = undefined;\n    this.gpuBufferData = undefined;\n    this.mlTensorData = undefined;\n    this.downloader = undefined;\n    this.isDownloading = undefined;\n\n    this.dataLocation = 'none';\n  }\n\n  // #endregion\n\n  // #region tensor utilities\n  private ensureValid(): void {\n    if (this.dataLocation === 'none') {\n      throw new Error('The tensor is disposed.');\n    }\n  }\n\n  reshape(dims: readonly number[]): TensorInterface {\n    this.ensureValid();\n    if (this.downloader || this.disposer) {\n      throw new Error('Cannot reshape a tensor that owns GPU resource.');\n    }\n    return tensorReshape(this, dims);\n  }\n  // #endregion\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { TensorFactory } from './tensor-factory.js';\nimport { Tensor as TensorImpl } from './tensor-impl.js';\nimport { TypedTensorUtils } from './tensor-utils.js';\nimport { TryGetGlobalType } from './type-helper.js';\n\n/* eslint-disable @typescript-eslint/no-redeclare */\n\n/**\n * represent a basic tensor with specified dimensions and data type.\n */\ninterface TypedTensorBase<T extends Tensor.Type> {\n  /**\n   * Get the dimensions of the tensor.\n   */\n  readonly dims: readonly number[];\n  /**\n   * Get the data type of the tensor.\n   */\n  readonly type: T;\n  /**\n   * Get the buffer data of the tensor.\n   *\n   * If the data is not on CPU (eg. it's in the form of WebGL texture or WebGPU buffer), throw error.\n   */\n  readonly data: Tensor.DataTypeMap[T];\n  /**\n   * Get the location of the data.\n   */\n  readonly location: Tensor.DataLocation;\n  /**\n   * Get the WebGL texture that holds the tensor data.\n   *\n   * If the data is not on GPU as WebGL texture, throw error.\n   */\n  readonly texture: Tensor.TextureType;\n  /**\n   * Get the WebGPU buffer that holds the tensor data.\n   *\n   * If the data is not on GPU as WebGPU buffer, throw error.\n   */\n  readonly gpuBuffer: Tensor.GpuBufferType;\n\n  /**\n   * Get the WebNN MLTensor that holds the tensor data.\n   *\n   * If the data is not in a WebNN MLTensor, throw error.\n   */\n  readonly mlTensor: Tensor.MLTensorType;\n\n  /**\n   * Get the buffer data of the tensor.\n   *\n   * If the data is on CPU, returns the data immediately.\n   * If the data is on GPU, downloads the data and returns the promise.\n   *\n   * @param releaseData - whether release the data on GPU. Ignore if data is already on CPU.\n   */\n  getData(releaseData?: boolean): Promise<Tensor.DataTypeMap[T]>;\n\n  /**\n   * Dispose the tensor data.\n   *\n   * If the data is on CPU, remove its internal reference to the underlying data.\n   * If the data is on GPU, release the data on GPU.\n   *\n   * After calling this function, the tensor is considered no longer valid. Its location will be set to 'none'.\n   */\n  dispose(): void;\n}\n\nexport declare namespace Tensor {\n  interface DataTypeMap {\n    float32: Float32Array;\n    uint8: Uint8Array;\n    int8: Int8Array;\n    uint16: Uint16Array;\n    int16: Int16Array;\n    int32: Int32Array;\n    int64: BigInt64Array;\n    string: string[];\n    bool: Uint8Array;\n    float16: Uint16Array; // Keep using Uint16Array until we have a concrete solution for float 16.\n    float64: Float64Array;\n    uint32: Uint32Array;\n    uint64: BigUint64Array;\n    // complex64: never;\n    // complex128: never;\n    // bfloat16: never;\n    uint4: Uint8Array;\n    int4: Int8Array;\n  }\n\n  interface ElementTypeMap {\n    float32: number;\n    uint8: number;\n    int8: number;\n    uint16: number;\n    int16: number;\n    int32: number;\n    int64: bigint;\n    string: string;\n    bool: boolean;\n    float16: number; // Keep using Uint16Array until we have a concrete solution for float 16.\n    float64: number;\n    uint32: number;\n    uint64: bigint;\n    // complex64: never;\n    // complex128: never;\n    // bfloat16: never;\n    uint4: number;\n    int4: number;\n  }\n\n  type DataType = DataTypeMap[Type];\n  type ElementType = ElementTypeMap[Type];\n\n  /**\n   * supported data types for constructing a tensor from a pinned CPU buffer\n   */\n  export type CpuPinnedDataTypes = Exclude<Tensor.Type, 'string'>;\n\n  /**\n   * type alias for WebGL texture\n   */\n  export type TextureType = WebGLTexture;\n\n  /**\n   * supported data types for constructing a tensor from a WebGL texture\n   */\n  export type TextureDataTypes = 'float32';\n\n  type GpuBufferTypeFallback = { size: number; mapState: 'unmapped' | 'pending' | 'mapped' };\n  /**\n   * type alias for WebGPU buffer\n   */\n  export type GpuBufferType = TryGetGlobalType<'GPUBuffer', GpuBufferTypeFallback>;\n\n  type MLTensorTypeFallback = { destroy(): void };\n  /**\n   * type alias for WebNN MLTensor\n   *\n   * The specification for WebNN's MLTensor is currently in flux.\n   */\n  export type MLTensorType = TryGetGlobalType<'MLTensor', MLTensorTypeFallback>;\n\n  /**\n   * supported data types for constructing a tensor from a WebGPU buffer\n   */\n  export type GpuBufferDataTypes = 'float32' | 'float16' | 'int32' | 'int64' | 'uint32' | 'uint8' | 'bool';\n\n  /**\n   * supported data types for constructing a tensor from a WebNN MLTensor\n   */\n  export type MLTensorDataTypes =\n    | 'float32'\n    | 'float16'\n    | 'int8'\n    | 'uint8'\n    | 'int32'\n    | 'uint32'\n    | 'int64'\n    | 'uint64'\n    | 'bool'\n    | 'uint4'\n    | 'int4';\n\n  /**\n   * represent where the tensor data is stored\n   */\n  export type DataLocation = 'none' | 'cpu' | 'cpu-pinned' | 'texture' | 'gpu-buffer' | 'ml-tensor';\n\n  /**\n   * represent the data type of a tensor\n   */\n  export type Type = keyof DataTypeMap;\n}\n\n/**\n * Represent multi-dimensional arrays to feed to or fetch from model inferencing.\n */\nexport interface TypedTensor<T extends Tensor.Type> extends TypedTensorBase<T>, TypedTensorUtils<T> {}\n/**\n * Represent multi-dimensional arrays to feed to or fetch from model inferencing.\n */\nexport interface Tensor extends TypedTensorBase<Tensor.Type>, TypedTensorUtils<Tensor.Type> {}\n\n/**\n * type TensorConstructor defines the constructors of 'Tensor' to create CPU tensor instances.\n */\nexport interface TensorConstructor extends TensorFactory {\n  // #region CPU tensor - specify element type\n  /**\n   * Construct a new string tensor object from the given type, data and dims.\n   *\n   * @param type - Specify the element type.\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (\n    type: 'string',\n    data: Tensor.DataTypeMap['string'] | readonly string[],\n    dims?: readonly number[],\n  ): TypedTensor<'string'>;\n\n  /**\n   * Construct a new bool tensor object from the given type, data and dims.\n   *\n   * @param type - Specify the element type.\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (\n    type: 'bool',\n    data: Tensor.DataTypeMap['bool'] | readonly boolean[],\n    dims?: readonly number[],\n  ): TypedTensor<'bool'>;\n\n  /**\n   * Construct a new uint8 tensor object from a Uint8ClampedArray, data and dims.\n   *\n   * @param type - Specify the element type.\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (type: 'uint8', data: Uint8ClampedArray, dims?: readonly number[]): TypedTensor<'uint8'>;\n\n  /**\n   * Construct a new 64-bit integer typed tensor object from the given type, data and dims.\n   *\n   * @param type - Specify the element type.\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new <T extends 'uint64' | 'int64'>(\n    type: T,\n    data: Tensor.DataTypeMap[T] | readonly bigint[] | readonly number[],\n    dims?: readonly number[],\n  ): TypedTensor<T>;\n\n  /**\n   * Construct a new numeric tensor object from the given type, data and dims.\n   *\n   * @param type - Specify the element type.\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new <T extends Exclude<Tensor.Type, 'string' | 'bool' | 'uint64' | 'int64'>>(\n    type: T,\n    data: Tensor.DataTypeMap[T] | readonly number[],\n    dims?: readonly number[],\n  ): TypedTensor<T>;\n  // #endregion\n\n  // #region CPU tensor - infer element types\n\n  /**\n   * Construct a new float32 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (data: Float32Array, dims?: readonly number[]): TypedTensor<'float32'>;\n\n  /**\n   * Construct a new int8 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (data: Int8Array, dims?: readonly number[]): TypedTensor<'int8'>;\n\n  /**\n   * Construct a new uint8 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (data: Uint8Array, dims?: readonly number[]): TypedTensor<'uint8'>;\n\n  /**\n   * Construct a new uint8 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (data: Uint8ClampedArray, dims?: readonly number[]): TypedTensor<'uint8'>;\n\n  /**\n   * Construct a new uint16 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (data: Uint16Array, dims?: readonly number[]): TypedTensor<'uint16'>;\n\n  /**\n   * Construct a new int16 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (data: Int16Array, dims?: readonly number[]): TypedTensor<'int16'>;\n\n  /**\n   * Construct a new int32 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (data: Int32Array, dims?: readonly number[]): TypedTensor<'int32'>;\n\n  /**\n   * Construct a new int64 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (data: BigInt64Array, dims?: readonly number[]): TypedTensor<'int64'>;\n\n  /**\n   * Construct a new string tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (data: readonly string[], dims?: readonly number[]): TypedTensor<'string'>;\n\n  /**\n   * Construct a new bool tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (data: readonly boolean[], dims?: readonly number[]): TypedTensor<'bool'>;\n\n  /**\n   * Construct a new float64 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (data: Float64Array, dims?: readonly number[]): TypedTensor<'float64'>;\n\n  /**\n   * Construct a new uint32 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (data: Uint32Array, dims?: readonly number[]): TypedTensor<'uint32'>;\n\n  /**\n   * Construct a new uint64 tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (data: BigUint64Array, dims?: readonly number[]): TypedTensor<'uint64'>;\n\n  // #endregion\n\n  // #region CPU tensor - fall back to non-generic tensor type declaration\n\n  /**\n   * Construct a new tensor object from the given type, data and dims.\n   *\n   * @param type - Specify the element type.\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (\n    type: Tensor.Type,\n    data: Tensor.DataType | readonly number[] | readonly string[] | readonly bigint[] | readonly boolean[],\n    dims?: readonly number[],\n  ): Tensor;\n\n  /**\n   * Construct a new tensor object from the given data and dims.\n   *\n   * @param data - Specify the CPU tensor data.\n   * @param dims - Specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   */\n  new (data: Tensor.DataType, dims?: readonly number[]): Tensor;\n  // #endregion\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const Tensor = TensorImpl as TensorConstructor;\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { env } from './env-impl.js';\n\n/**\n * @ignore\n */\nexport const TRACE = (deviceType: string, label: string) => {\n  if (typeof env.trace === 'undefined' ? !env.wasm.trace : !env.trace) {\n    return;\n  }\n  // eslint-disable-next-line no-console\n  console.timeStamp(`${deviceType}::ORT::${label}`);\n};\n\nconst TRACE_FUNC = (msg: string, extraMsg?: string) => {\n  const stack = new Error().stack?.split(/\\r\\n|\\r|\\n/g) || [];\n  let hasTraceFunc = false;\n  for (let i = 0; i < stack.length; i++) {\n    if (hasTraceFunc && !stack[i].includes('TRACE_FUNC')) {\n      let label = `FUNC_${msg}::${stack[i].trim().split(' ')[1]}`;\n      if (extraMsg) {\n        label += `::${extraMsg}`;\n      }\n      TRACE('CPU', label);\n      return;\n    }\n    if (stack[i].includes('TRACE_FUNC')) {\n      hasTraceFunc = true;\n    }\n  }\n};\n\n/**\n * @ignore\n */\nexport const TRACE_FUNC_BEGIN = (extraMsg?: string) => {\n  if (typeof env.trace === 'undefined' ? !env.wasm.trace : !env.trace) {\n    return;\n  }\n  TRACE_FUNC('BEGIN', extraMsg);\n};\n\n/**\n * @ignore\n */\nexport const TRACE_FUNC_END = (extraMsg?: string) => {\n  if (typeof env.trace === 'undefined' ? !env.wasm.trace : !env.trace) {\n    return;\n  }\n  TRACE_FUNC('END', extraMsg);\n};\n\n/**\n * @ignore\n */\nexport const TRACE_EVENT_BEGIN = (extraMsg?: string) => {\n  if (typeof env.trace === 'undefined' ? !env.wasm.trace : !env.trace) {\n    return;\n  }\n  // eslint-disable-next-line no-console\n  console.time(`ORT::${extraMsg}`);\n};\n\n/**\n * @ignore\n */\nexport const TRACE_EVENT_END = (extraMsg?: string) => {\n  if (typeof env.trace === 'undefined' ? !env.wasm.trace : !env.trace) {\n    return;\n  }\n  // eslint-disable-next-line no-console\n  console.timeEnd(`ORT::${extraMsg}`);\n};\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { resolveBackendAndExecutionProviders } from './backend-impl.js';\nimport { InferenceSessionHandler } from './backend.js';\nimport { InferenceSession as InferenceSessionInterface } from './inference-session.js';\nimport { OnnxValue } from './onnx-value.js';\nimport { Tensor } from './tensor.js';\nimport { TRACE_FUNC_BEGIN, TRACE_FUNC_END, TRACE_EVENT_BEGIN, TRACE_EVENT_END } from './trace.js';\n\ntype SessionOptions = InferenceSessionInterface.SessionOptions;\ntype RunOptions = InferenceSessionInterface.RunOptions;\ntype FeedsType = InferenceSessionInterface.FeedsType;\ntype FetchesType = InferenceSessionInterface.FetchesType;\ntype ReturnType = InferenceSessionInterface.ReturnType;\n\nexport class InferenceSession implements InferenceSessionInterface {\n  private constructor(handler: InferenceSessionHandler) {\n    this.handler = handler;\n  }\n  run(feeds: FeedsType, options?: RunOptions): Promise<ReturnType>;\n  run(feeds: FeedsType, fetches: FetchesType, options?: RunOptions): Promise<ReturnType>;\n  async run(feeds: FeedsType, arg1?: FetchesType | RunOptions, arg2?: RunOptions): Promise<ReturnType> {\n    TRACE_FUNC_BEGIN();\n    TRACE_EVENT_BEGIN('InferenceSession.run');\n    const fetches: { [name: string]: OnnxValue | null } = {};\n    let options: RunOptions = {};\n    // check inputs\n    if (typeof feeds !== 'object' || feeds === null || feeds instanceof Tensor || Array.isArray(feeds)) {\n      throw new TypeError(\n        \"'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.\",\n      );\n    }\n\n    let isFetchesEmpty = true;\n    // determine which override is being used\n    if (typeof arg1 === 'object') {\n      if (arg1 === null) {\n        throw new TypeError('Unexpected argument[1]: cannot be null.');\n      }\n      if (arg1 instanceof Tensor) {\n        throw new TypeError(\"'fetches' cannot be a Tensor\");\n      }\n\n      if (Array.isArray(arg1)) {\n        if (arg1.length === 0) {\n          throw new TypeError(\"'fetches' cannot be an empty array.\");\n        }\n        isFetchesEmpty = false;\n        // output names\n        for (const name of arg1) {\n          if (typeof name !== 'string') {\n            throw new TypeError(\"'fetches' must be a string array or an object.\");\n          }\n          if (this.outputNames.indexOf(name) === -1) {\n            throw new RangeError(`'fetches' contains invalid output name: ${name}.`);\n          }\n          fetches[name] = null;\n        }\n\n        if (typeof arg2 === 'object' && arg2 !== null) {\n          options = arg2;\n        } else if (typeof arg2 !== 'undefined') {\n          throw new TypeError(\"'options' must be an object.\");\n        }\n      } else {\n        // decide whether arg1 is fetches or options\n        // if any output name is present and its value is valid OnnxValue, we consider it fetches\n        let isFetches = false;\n        const arg1Keys = Object.getOwnPropertyNames(arg1);\n        for (const name of this.outputNames) {\n          if (arg1Keys.indexOf(name) !== -1) {\n            const v = (arg1 as InferenceSessionInterface.NullableOnnxValueMapType)[name];\n            if (v === null || v instanceof Tensor) {\n              isFetches = true;\n              isFetchesEmpty = false;\n              fetches[name] = v;\n            }\n          }\n        }\n\n        if (isFetches) {\n          if (typeof arg2 === 'object' && arg2 !== null) {\n            options = arg2;\n          } else if (typeof arg2 !== 'undefined') {\n            throw new TypeError(\"'options' must be an object.\");\n          }\n        } else {\n          options = arg1 as RunOptions;\n        }\n      }\n    } else if (typeof arg1 !== 'undefined') {\n      throw new TypeError(\"Unexpected argument[1]: must be 'fetches' or 'options'.\");\n    }\n\n    // check if all inputs are in feed\n    for (const name of this.inputNames) {\n      if (typeof feeds[name] === 'undefined') {\n        throw new Error(`input '${name}' is missing in 'feeds'.`);\n      }\n    }\n\n    // if no fetches is specified, we use the full output names list\n    if (isFetchesEmpty) {\n      for (const name of this.outputNames) {\n        fetches[name] = null;\n      }\n    }\n\n    // feeds, fetches and options are prepared\n\n    const results = await this.handler.run(feeds, fetches, options);\n    const returnValue: { [name: string]: OnnxValue } = {};\n    for (const key in results) {\n      if (Object.hasOwnProperty.call(results, key)) {\n        const result = results[key];\n        if (result instanceof Tensor) {\n          returnValue[key] = result;\n        } else {\n          returnValue[key] = new Tensor(result.type, result.data, result.dims);\n        }\n      }\n    }\n    TRACE_EVENT_END('InferenceSession.run');\n    TRACE_FUNC_END();\n    return returnValue;\n  }\n\n  async release(): Promise<void> {\n    return this.handler.dispose();\n  }\n\n  static create(path: string, options?: SessionOptions): Promise<InferenceSessionInterface>;\n  static create(buffer: ArrayBufferLike, options?: SessionOptions): Promise<InferenceSessionInterface>;\n  static create(\n    buffer: ArrayBufferLike,\n    byteOffset: number,\n    byteLength?: number,\n    options?: SessionOptions,\n  ): Promise<InferenceSessionInterface>;\n  static create(buffer: Uint8Array, options?: SessionOptions): Promise<InferenceSessionInterface>;\n  static async create(\n    arg0: string | ArrayBufferLike | Uint8Array,\n    arg1?: SessionOptions | number,\n    arg2?: number,\n    arg3?: SessionOptions,\n  ): Promise<InferenceSessionInterface> {\n    TRACE_FUNC_BEGIN();\n    TRACE_EVENT_BEGIN('InferenceSession.create');\n    // either load from a file or buffer\n    let filePathOrUint8Array: string | Uint8Array;\n    let options: SessionOptions = {};\n\n    if (typeof arg0 === 'string') {\n      filePathOrUint8Array = arg0;\n      if (typeof arg1 === 'object' && arg1 !== null) {\n        options = arg1;\n      } else if (typeof arg1 !== 'undefined') {\n        throw new TypeError(\"'options' must be an object.\");\n      }\n    } else if (arg0 instanceof Uint8Array) {\n      filePathOrUint8Array = arg0;\n      if (typeof arg1 === 'object' && arg1 !== null) {\n        options = arg1;\n      } else if (typeof arg1 !== 'undefined') {\n        throw new TypeError(\"'options' must be an object.\");\n      }\n    } else if (\n      arg0 instanceof ArrayBuffer ||\n      (typeof SharedArrayBuffer !== 'undefined' && arg0 instanceof SharedArrayBuffer)\n    ) {\n      const buffer = arg0;\n      let byteOffset = 0;\n      let byteLength = arg0.byteLength;\n      if (typeof arg1 === 'object' && arg1 !== null) {\n        options = arg1;\n      } else if (typeof arg1 === 'number') {\n        byteOffset = arg1;\n        if (!Number.isSafeInteger(byteOffset)) {\n          throw new RangeError(\"'byteOffset' must be an integer.\");\n        }\n        if (byteOffset < 0 || byteOffset >= buffer.byteLength) {\n          throw new RangeError(`'byteOffset' is out of range [0, ${buffer.byteLength}).`);\n        }\n        byteLength = arg0.byteLength - byteOffset;\n        if (typeof arg2 === 'number') {\n          byteLength = arg2;\n          if (!Number.isSafeInteger(byteLength)) {\n            throw new RangeError(\"'byteLength' must be an integer.\");\n          }\n          if (byteLength <= 0 || byteOffset + byteLength > buffer.byteLength) {\n            throw new RangeError(`'byteLength' is out of range (0, ${buffer.byteLength - byteOffset}].`);\n          }\n          if (typeof arg3 === 'object' && arg3 !== null) {\n            options = arg3;\n          } else if (typeof arg3 !== 'undefined') {\n            throw new TypeError(\"'options' must be an object.\");\n          }\n        } else if (typeof arg2 !== 'undefined') {\n          throw new TypeError(\"'byteLength' must be a number.\");\n        }\n      } else if (typeof arg1 !== 'undefined') {\n        throw new TypeError(\"'options' must be an object.\");\n      }\n      filePathOrUint8Array = new Uint8Array(buffer, byteOffset, byteLength);\n    } else {\n      throw new TypeError(\"Unexpected argument[0]: must be 'path' or 'buffer'.\");\n    }\n\n    // resolve backend, update session options with validated EPs, and create session handler\n    const [backend, optionsWithValidatedEPs] = await resolveBackendAndExecutionProviders(options);\n    const handler = await backend.createInferenceSessionHandler(filePathOrUint8Array, optionsWithValidatedEPs);\n    TRACE_EVENT_END('InferenceSession.create');\n    TRACE_FUNC_END();\n    return new InferenceSession(handler);\n  }\n\n  startProfiling(): void {\n    this.handler.startProfiling();\n  }\n  endProfiling(): void {\n    this.handler.endProfiling();\n  }\n\n  get inputNames(): readonly string[] {\n    return this.handler.inputNames;\n  }\n  get outputNames(): readonly string[] {\n    return this.handler.outputNames;\n  }\n\n  get inputMetadata(): readonly InferenceSessionInterface.ValueMetadata[] {\n    return this.handler.inputMetadata;\n  }\n\n  get outputMetadata(): readonly InferenceSessionInterface.ValueMetadata[] {\n    return this.handler.outputMetadata;\n  }\n\n  private handler: InferenceSessionHandler;\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { InferenceSession as InferenceSessionImpl } from './inference-session-impl.js';\nimport { OnnxModelOptions } from './onnx-model.js';\nimport { OnnxValue, OnnxValueDataLocation } from './onnx-value.js';\nimport type { Tensor } from './tensor.js';\nimport { TryGetGlobalType } from './type-helper.js';\n\n/* eslint-disable @typescript-eslint/no-redeclare */\n\nexport declare namespace InferenceSession {\n  // #region input/output types\n\n  type OnnxValueMapType = { readonly [name: string]: OnnxValue };\n  type NullableOnnxValueMapType = { readonly [name: string]: OnnxValue | null };\n\n  /**\n   * A feeds (model inputs) is an object that uses input names as keys and OnnxValue as corresponding values.\n   */\n  type FeedsType = OnnxValueMapType;\n\n  /**\n   * A fetches (model outputs) could be one of the following:\n   *\n   * - Omitted. Use model's output names definition.\n   * - An array of string indicating the output names.\n   * - An object that use output names as keys and OnnxValue or null as corresponding values.\n   *\n   * @remark\n   * different from input argument, in output, OnnxValue is optional. If an OnnxValue is present it will be\n   * used as a pre-allocated value by the inference engine; if omitted, inference engine will allocate buffer\n   * internally.\n   */\n  type FetchesType = readonly string[] | NullableOnnxValueMapType;\n\n  /**\n   * A inferencing return type is an object that uses output names as keys and OnnxValue as corresponding values.\n   */\n  type ReturnType = OnnxValueMapType;\n\n  // #endregion\n\n  // #region session options\n\n  /**\n   * A set of configurations for session behavior.\n   */\n  export interface SessionOptions extends OnnxModelOptions {\n    /**\n     * An array of execution provider options.\n     *\n     * An execution provider option can be a string indicating the name of the execution provider,\n     * or an object of corresponding type.\n     */\n    executionProviders?: readonly ExecutionProviderConfig[];\n\n    /**\n     * The intra OP threads number.\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native).\n     */\n    intraOpNumThreads?: number;\n\n    /**\n     * The inter OP threads number.\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native).\n     */\n    interOpNumThreads?: number;\n\n    /**\n     * The free dimension override.\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    freeDimensionOverrides?: { readonly [dimensionName: string]: number };\n\n    /**\n     * The optimization level.\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    graphOptimizationLevel?: 'disabled' | 'basic' | 'extended' | 'layout' | 'all';\n\n    /**\n     * Whether enable CPU memory arena.\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    enableCpuMemArena?: boolean;\n\n    /**\n     * Whether enable memory pattern.\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    enableMemPattern?: boolean;\n\n    /**\n     * Execution mode.\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    executionMode?: 'sequential' | 'parallel';\n\n    /**\n     * Optimized model file path.\n     *\n     * If this setting is specified, the optimized model will be dumped. In browser, a blob will be created\n     * with a pop-up window.\n     */\n    optimizedModelFilePath?: string;\n\n    /**\n     * Whether enable profiling.\n     *\n     * This setting is a placeholder for a future use.\n     */\n    enableProfiling?: boolean;\n\n    /**\n     * File prefix for profiling.\n     *\n     * This setting is a placeholder for a future use.\n     */\n    profileFilePrefix?: string;\n\n    /**\n     * Log ID.\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    logId?: string;\n\n    /**\n     * Log severity level. See\n     * https://github.com/microsoft/onnxruntime/blob/main/include/onnxruntime/core/common/logging/severity.h\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    logSeverityLevel?: 0 | 1 | 2 | 3 | 4;\n\n    /**\n     * Log verbosity level.\n     *\n     * This setting is available only in WebAssembly backend. Will support Node.js binding and react-native later\n     */\n    logVerbosityLevel?: number;\n\n    /**\n     * Specify string as a preferred data location for all outputs, or an object that use output names as keys and a\n     * preferred data location as corresponding values.\n     *\n     * This setting is available only in ONNXRuntime Web for WebGL and WebGPU EP.\n     */\n    preferredOutputLocation?: OnnxValueDataLocation | { readonly [outputName: string]: OnnxValueDataLocation };\n\n    /**\n     * Whether enable graph capture.\n     * This setting is available only in ONNXRuntime Web for WebGPU EP.\n     */\n    enableGraphCapture?: boolean;\n\n    /**\n     * Store configurations for a session. See\n     * https://github.com/microsoft/onnxruntime/blob/main/include/onnxruntime/core/session/\n     * onnxruntime_session_options_config_keys.h\n     *\n     * This setting is available only in WebAssembly backend. Will support Node.js binding and react-native later\n     *\n     * @example\n     * ```js\n     * extra: {\n     *   session: {\n     *     set_denormal_as_zero: \"1\",\n     *     disable_prepacking: \"1\"\n     *   },\n     *   optimization: {\n     *     enable_gelu_approximation: \"1\"\n     *   }\n     * }\n     * ```\n     */\n    extra?: Record<string, unknown>;\n  }\n\n  // #region execution providers\n\n  // Currently, we have the following backends to support execution providers:\n  // Backend Node.js binding: supports 'cpu', 'dml' (win32), 'coreml' (macOS) and 'cuda' (linux).\n  // Backend WebAssembly: supports 'cpu', 'wasm', 'webgpu' and 'webnn'.\n  // Backend ONNX.js: supports 'webgl'.\n  // Backend React Native: supports 'cpu', 'xnnpack', 'coreml' (iOS), 'nnapi' (Android).\n  interface ExecutionProviderOptionMap {\n    coreml: CoreMLExecutionProviderOption;\n    cpu: CpuExecutionProviderOption;\n    cuda: CudaExecutionProviderOption;\n    dml: DmlExecutionProviderOption;\n    nnapi: NnapiExecutionProviderOption;\n    tensorrt: TensorRtExecutionProviderOption;\n    wasm: WebAssemblyExecutionProviderOption;\n    webgl: WebGLExecutionProviderOption;\n    webgpu: WebGpuExecutionProviderOption;\n    webnn: WebNNExecutionProviderOption;\n    qnn: QnnExecutionProviderOption;\n    xnnpack: XnnpackExecutionProviderOption;\n  }\n\n  type ExecutionProviderName = keyof ExecutionProviderOptionMap;\n  type ExecutionProviderConfig =\n    | ExecutionProviderOptionMap[ExecutionProviderName]\n    | ExecutionProviderOption\n    | ExecutionProviderName\n    | string;\n\n  export interface ExecutionProviderOption {\n    readonly name: string;\n  }\n  export interface CpuExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'cpu';\n    useArena?: boolean;\n  }\n  export interface CudaExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'cuda';\n    deviceId?: number;\n  }\n  export interface DmlExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'dml';\n    deviceId?: number;\n  }\n  export interface TensorRtExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'tensorrt';\n    deviceId?: number;\n  }\n  export interface WebAssemblyExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'wasm';\n  }\n  export interface WebGLExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'webgl';\n    // TODO: add flags\n  }\n  export interface XnnpackExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'xnnpack';\n  }\n  export interface WebGpuExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'webgpu';\n    preferredLayout?: 'NCHW' | 'NHWC';\n  }\n\n  // #region WebNN options\n\n  interface WebNNExecutionProviderName extends ExecutionProviderOption {\n    readonly name: 'webnn';\n  }\n\n  /**\n   * Represents a set of options for creating a WebNN MLContext.\n   *\n   * @see https://www.w3.org/TR/webnn/#dictdef-mlcontextoptions\n   */\n  export interface WebNNContextOptions {\n    deviceType?: 'cpu' | 'gpu' | 'npu';\n    numThreads?: number;\n    powerPreference?: 'default' | 'low-power' | 'high-performance';\n  }\n\n  /**\n   * Represents a set of options for WebNN execution provider without MLContext.\n   */\n  export interface WebNNOptionsWithoutMLContext extends WebNNExecutionProviderName, WebNNContextOptions {\n    context?: never;\n  }\n\n  /**\n   * Represents a set of options for WebNN execution provider with MLContext.\n   *\n   * When MLContext is provided, the deviceType is also required so that the WebNN EP can determine the preferred\n   * channel layout.\n   *\n   * @see https://www.w3.org/TR/webnn/#dom-ml-createcontext\n   */\n  export interface WebNNOptionsWithMLContext\n    extends WebNNExecutionProviderName,\n      Omit<WebNNContextOptions, 'deviceType'>,\n      Required<Pick<WebNNContextOptions, 'deviceType'>> {\n    context: TryGetGlobalType<'MLContext'>;\n  }\n\n  /**\n   * Represents a set of options for WebNN execution provider with MLContext which is created from GPUDevice.\n   *\n   * @see https://www.w3.org/TR/webnn/#dom-ml-createcontext-gpudevice\n   */\n  export interface WebNNOptionsWebGpu extends WebNNExecutionProviderName {\n    context: TryGetGlobalType<'MLContext'>;\n    gpuDevice: TryGetGlobalType<'GPUDevice'>;\n  }\n\n  /**\n   * Options for WebNN execution provider.\n   */\n  export type WebNNExecutionProviderOption =\n    | WebNNOptionsWithoutMLContext\n    | WebNNOptionsWithMLContext\n    | WebNNOptionsWebGpu;\n\n  // #endregion\n\n  export interface QnnExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'qnn';\n    /**\n     * Specify the QNN backend type. E.g., 'cpu' or 'htp'.\n     * Mutually exclusive with `backendPath`.\n     *\n     * @default 'htp'\n     */\n    backendType?: string;\n    /**\n     * Specify a path to the QNN backend library.\n     * Mutually exclusive with `backendType`.\n     */\n    backendPath?: string;\n    /**\n     * Specify whether to enable HTP FP16 precision.\n     *\n     * @default true\n     */\n    enableFp16Precision?: boolean;\n  }\n  export interface CoreMLExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'coreml';\n    /**\n     * The bit flags for CoreML execution provider.\n     *\n     * ```\n     * COREML_FLAG_USE_CPU_ONLY = 0x001\n     * COREML_FLAG_ENABLE_ON_SUBGRAPH = 0x002\n     * COREML_FLAG_ONLY_ENABLE_DEVICE_WITH_ANE = 0x004\n     * COREML_FLAG_ONLY_ALLOW_STATIC_INPUT_SHAPES = 0x008\n     * COREML_FLAG_CREATE_MLPROGRAM = 0x010\n     * COREML_FLAG_USE_CPU_AND_GPU = 0x020\n     * ```\n     *\n     * See include/onnxruntime/core/providers/coreml/coreml_provider_factory.h for more details.\n     *\n     * This flag is available only in ONNXRuntime (Node.js binding).\n     */\n    coreMlFlags?: number;\n    /**\n     * Specify whether to use CPU only in CoreML EP.\n     *\n     * This setting is available only in ONNXRuntime (react-native).\n     */\n    useCPUOnly?: boolean;\n    useCPUAndGPU?: boolean;\n    /**\n     * Specify whether to enable CoreML EP on subgraph.\n     *\n     * This setting is available only in ONNXRuntime (react-native).\n     */\n    enableOnSubgraph?: boolean;\n    /**\n     * Specify whether to only enable CoreML EP for Apple devices with ANE (Apple Neural Engine).\n     *\n     * This setting is available only in ONNXRuntime (react-native).\n     */\n    onlyEnableDeviceWithANE?: boolean;\n  }\n  export interface NnapiExecutionProviderOption extends ExecutionProviderOption {\n    readonly name: 'nnapi';\n    useFP16?: boolean;\n    useNCHW?: boolean;\n    cpuDisabled?: boolean;\n    cpuOnly?: boolean;\n  }\n  // #endregion\n\n  // #endregion\n\n  // #region run options\n\n  /**\n   * A set of configurations for inference run behavior\n   */\n  export interface RunOptions {\n    /**\n     * Log severity level. See\n     * https://github.com/microsoft/onnxruntime/blob/main/include/onnxruntime/core/common/logging/severity.h\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    logSeverityLevel?: 0 | 1 | 2 | 3 | 4;\n\n    /**\n     * Log verbosity level.\n     *\n     * This setting is available only in WebAssembly backend. Will support Node.js binding and react-native later\n     */\n    logVerbosityLevel?: number;\n\n    /**\n     * Terminate all incomplete OrtRun calls as soon as possible if true\n     *\n     * This setting is available only in WebAssembly backend. Will support Node.js binding and react-native later\n     */\n    terminate?: boolean;\n\n    /**\n     * A tag for the Run() calls using this\n     *\n     * This setting is available only in ONNXRuntime (Node.js binding and react-native) or WebAssembly backend\n     */\n    tag?: string;\n\n    /**\n     * Set a single run configuration entry. See\n     * https://github.com/microsoft/onnxruntime/blob/main/include/onnxruntime/core/session/\n     * onnxruntime_run_options_config_keys.h\n     *\n     * This setting is available only in WebAssembly backend. Will support Node.js binding and react-native later\n     *\n     * @example\n     *\n     * ```js\n     * extra: {\n     *   memory: {\n     *     enable_memory_arena_shrinkage: \"1\",\n     *   }\n     * }\n     * ```\n     */\n    extra?: Record<string, unknown>;\n  }\n\n  // #endregion\n\n  // #region value metadata\n\n  /**\n   * The common part of the value metadata type for both tensor and non-tensor values.\n   */\n  export interface ValueMetadataBase {\n    /**\n     * The name of the specified input or output.\n     */\n    readonly name: string;\n  }\n\n  /**\n   * Represents the metadata of a non-tensor value.\n   */\n  export interface NonTensorValueMetadata extends ValueMetadataBase {\n    /**\n     * Get a value indicating whether the value is a tensor.\n     */\n    readonly isTensor: false;\n  }\n\n  /**\n   * Represents the metadata of a tensor value.\n   */\n  export interface TensorValueMetadata extends ValueMetadataBase {\n    /**\n     * Get a value indicating whether the value is a tensor.\n     */\n    readonly isTensor: true;\n    /**\n     * Get the data type of the tensor.\n     */\n    readonly type: Tensor.Type;\n    /**\n     * Get the shape of the tensor.\n     *\n     * If the shape is not defined, the value will an empty array. Otherwise, it will be an array representing the shape\n     * of the tensor. Each element in the array can be a number or a string. If the element is a number, it represents\n     * the corresponding dimension size. If the element is a string, it represents a symbolic dimension.\n     */\n    readonly shape: ReadonlyArray<number | string>;\n  }\n\n  /**\n   * Represents the metadata of a value.\n   */\n  export type ValueMetadata = NonTensorValueMetadata | TensorValueMetadata;\n\n  // #endregion\n}\n\n/**\n * Represent a runtime instance of an ONNX model.\n */\nexport interface InferenceSession {\n  // #region run()\n\n  /**\n   * Execute the model asynchronously with the given feeds and options.\n   *\n   * @param feeds - Representation of the model input. See type description of `InferenceSession.InputType` for detail.\n   * @param options - Optional. A set of options that controls the behavior of model inference.\n   * @returns A promise that resolves to a map, which uses output names as keys and OnnxValue as corresponding values.\n   */\n  run(feeds: InferenceSession.FeedsType, options?: InferenceSession.RunOptions): Promise<InferenceSession.ReturnType>;\n\n  /**\n   * Execute the model asynchronously with the given feeds, fetches and options.\n   *\n   * @param feeds - Representation of the model input. See type description of `InferenceSession.InputType` for detail.\n   * @param fetches - Representation of the model output. See type description of `InferenceSession.OutputType` for\n   * detail.\n   * @param options - Optional. A set of options that controls the behavior of model inference.\n   * @returns A promise that resolves to a map, which uses output names as keys and OnnxValue as corresponding values.\n   */\n  run(\n    feeds: InferenceSession.FeedsType,\n    fetches: InferenceSession.FetchesType,\n    options?: InferenceSession.RunOptions,\n  ): Promise<InferenceSession.ReturnType>;\n\n  // #endregion\n\n  // #region release()\n\n  /**\n   * Release the inference session and the underlying resources.\n   */\n  release(): Promise<void>;\n\n  // #endregion\n\n  // #region profiling\n\n  /**\n   * Start profiling.\n   */\n  startProfiling(): void;\n\n  /**\n   * End profiling.\n   */\n  endProfiling(): void;\n\n  // #endregion\n\n  // #region metadata\n\n  /**\n   * Get input names of the loaded model.\n   */\n  readonly inputNames: readonly string[];\n\n  /**\n   * Get output names of the loaded model.\n   */\n  readonly outputNames: readonly string[];\n\n  /**\n   * Get input metadata of the loaded model.\n   */\n  readonly inputMetadata: readonly InferenceSession.ValueMetadata[];\n\n  /**\n   * Get output metadata of the loaded model.\n   */\n  readonly outputMetadata: readonly InferenceSession.ValueMetadata[];\n\n  // #endregion\n}\n\nexport interface InferenceSessionFactory {\n  // #region create()\n\n  /**\n   * Create a new inference session and load model asynchronously from an ONNX model file.\n   *\n   * @param uri - The URI or file path of the model to load.\n   * @param options - specify configuration for creating a new inference session.\n   * @returns A promise that resolves to an InferenceSession object.\n   */\n  create(uri: string, options?: InferenceSession.SessionOptions): Promise<InferenceSession>;\n\n  /**\n   * Create a new inference session and load model asynchronously from an array bufer.\n   *\n   * @param buffer - An ArrayBuffer representation of an ONNX model.\n   * @param options - specify configuration for creating a new inference session.\n   * @returns A promise that resolves to an InferenceSession object.\n   */\n  create(buffer: ArrayBufferLike, options?: InferenceSession.SessionOptions): Promise<InferenceSession>;\n\n  /**\n   * Create a new inference session and load model asynchronously from segment of an array bufer.\n   *\n   * @param buffer - An ArrayBuffer representation of an ONNX model.\n   * @param byteOffset - The beginning of the specified portion of the array buffer.\n   * @param byteLength - The length in bytes of the array buffer.\n   * @param options - specify configuration for creating a new inference session.\n   * @returns A promise that resolves to an InferenceSession object.\n   */\n  create(\n    buffer: ArrayBufferLike,\n    byteOffset: number,\n    byteLength?: number,\n    options?: InferenceSession.SessionOptions,\n  ): Promise<InferenceSession>;\n\n  /**\n   * Create a new inference session and load model asynchronously from a Uint8Array.\n   *\n   * @param buffer - A Uint8Array representation of an ONNX model.\n   * @param options - specify configuration for creating a new inference session.\n   * @returns A promise that resolves to an InferenceSession object.\n   */\n  create(buffer: Uint8Array, options?: InferenceSession.SessionOptions): Promise<InferenceSession>;\n\n  // #endregion\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const InferenceSession: InferenceSessionFactory = InferenceSessionImpl;\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { OptionsFormat, OptionsNormalizationParameters, OptionsTensorLayout } from './tensor-factory.js';\n\nexport interface TensorToDataUrlOptions extends OptionsTensorLayout, OptionsFormat, OptionsNormalizationParameters {}\n\nexport interface TensorToImageDataOptions extends OptionsTensorLayout, OptionsFormat, OptionsNormalizationParameters {}\n\nexport interface ConversionUtils {\n  /**\n   * creates a DataURL instance from tensor\n   *\n   * @param options - An optional object representing options for creating a DataURL instance from the tensor.\n   *\n   * The following default settings will be applied:\n   * - `format`: `'RGB'`\n   * - `tensorLayout`: `'NCHW'`\n   * @returns a DataURL string representing the image converted from tensor data\n   */\n  toDataURL(options?: TensorToDataUrlOptions): string;\n\n  /**\n   * creates an ImageData instance from tensor\n   *\n   * @param options - An optional object representing options for creating an ImageData instance from the tensor.\n   *\n   * The following default settings will be applied:\n   * - `format`: `'RGB'`\n   * - `tensorLayout`: `'NCHW'`\n   * @returns an ImageData instance representing the image converted from tensor data\n   */\n  toImageData(options?: TensorToImageDataOptions): ImageData;\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { Tensor, TypedTensor } from './tensor.js';\n\nexport type ImageFormat = 'RGB' | 'RGBA' | 'BGR' | 'RBG';\nexport type ImageTensorLayout = 'NHWC' | 'NCHW';\n\n// the following region contains type definitions for constructing tensor from a specific location.\n\n// #region types for constructing a tensor from a specific location\n\n/**\n * represent common properties of the parameter for constructing a tensor from a specific location.\n */\ninterface CommonConstructorParameters<T> extends Pick<Tensor, 'dims'> {\n  /**\n   * Specify the data type of the tensor.\n   */\n  readonly type: T;\n}\n\n/**\n * represent the parameter for constructing a tensor from a GPU resource.\n */\ninterface GpuResourceConstructorParameters<T extends Tensor.Type> {\n  /**\n   * an optional callback function to download data from GPU to CPU.\n   *\n   * If not provided, the tensor treat the GPU data as external resource.\n   */\n  download?(): Promise<Tensor.DataTypeMap[T]>;\n\n  /**\n   * an optional callback function that will be called when the tensor is disposed.\n   *\n   * If not provided, the tensor treat the GPU data as external resource.\n   */\n  dispose?(): void;\n}\n\n/**\n * represent the parameter for constructing a tensor from a pinned CPU buffer\n */\nexport interface CpuPinnedConstructorParameters<T extends Tensor.CpuPinnedDataTypes = Tensor.CpuPinnedDataTypes>\n  extends CommonConstructorParameters<T> {\n  /**\n   * Specify the location of the data to be 'cpu-pinned'.\n   */\n  readonly location: 'cpu-pinned';\n  /**\n   * Specify the CPU pinned buffer that holds the tensor data.\n   */\n  readonly data: Tensor.DataTypeMap[T];\n}\n\n/**\n * represent the parameter for constructing a tensor from a WebGL texture\n */\nexport interface TextureConstructorParameters<T extends Tensor.TextureDataTypes = Tensor.TextureDataTypes>\n  extends CommonConstructorParameters<T>,\n    GpuResourceConstructorParameters<T> {\n  /**\n   * Specify the location of the data to be 'texture'.\n   */\n  readonly location: 'texture';\n  /**\n   * Specify the WebGL texture that holds the tensor data.\n   */\n  readonly texture: Tensor.TextureType;\n}\n\n/**\n * represent the parameter for constructing a tensor from a WebGPU buffer\n */\nexport interface GpuBufferConstructorParameters<T extends Tensor.GpuBufferDataTypes = Tensor.GpuBufferDataTypes>\n  extends CommonConstructorParameters<T>,\n    GpuResourceConstructorParameters<T> {\n  /**\n   * Specify the location of the data to be 'gpu-buffer'.\n   */\n  readonly location: 'gpu-buffer';\n  /**\n   * Specify the WebGPU buffer that holds the tensor data.\n   */\n  readonly gpuBuffer: Tensor.GpuBufferType;\n}\n\nexport interface MLTensorConstructorParameters<T extends Tensor.MLTensorDataTypes = Tensor.MLTensorDataTypes>\n  extends CommonConstructorParameters<T>,\n    GpuResourceConstructorParameters<T> {\n  /**\n   * Specify the location of the data to be 'ml-tensor'.\n   */\n  readonly location: 'ml-tensor';\n\n  /**\n   * Specify the WebNN MLTensor that holds the tensor data.\n   */\n  readonly mlTensor: Tensor.MLTensorType;\n}\n\n// #endregion\n\n// the following region contains type definitions of each individual options.\n// the tensor factory functions use a composition of those options as the parameter type.\n\n// #region Options fields\n\nexport interface OptionsFormat {\n  /**\n   * Describes the image format represented in RGBA color space.\n   */\n  format?: ImageFormat;\n}\n\nexport interface OptionsTensorFormat {\n  /**\n   * Describes the image format of the tensor.\n   *\n   * NOTE: this is different from option 'format'. While option 'format' represents the original image, 'tensorFormat'\n   * represents the target format of the tensor. A transpose will be performed if they are different.\n   */\n  tensorFormat?: ImageFormat;\n}\n\nexport interface OptionsTensorDataType {\n  /**\n   * Describes the data type of the tensor.\n   */\n  dataType?: 'float32' | 'uint8';\n}\n\nexport interface OptionsTensorLayout {\n  /**\n   * Describes the tensor layout when representing data of one or more image(s).\n   */\n  tensorLayout?: ImageTensorLayout;\n}\n\nexport interface OptionsDimensions {\n  /**\n   * Describes the image height in pixel\n   */\n  height?: number;\n  /**\n   * Describes the image width in pixel\n   */\n  width?: number;\n}\n\nexport interface OptionResizedDimensions {\n  /**\n   * Describes the resized height. If omitted, original height will be used.\n   */\n  resizedHeight?: number;\n  /**\n   * Describes resized width - can be accessed via tensor dimensions as well\n   */\n  resizedWidth?: number;\n}\n\nexport interface OptionsNormalizationParameters {\n  /**\n   * Describes normalization parameters when preprocessing the image as model input.\n   *\n   * Data element are ranged from 0 to 255.\n   */\n  norm?: {\n    /**\n     * The 'bias' value for image normalization.\n     * - If omitted, use default value 0.\n     * - If it's a single number, apply to each channel\n     * - If it's an array of 3 or 4 numbers, apply element-wise. Number of elements need to match the number of channels\n     * for the corresponding image format\n     */\n    bias?: number | [number, number, number] | [number, number, number, number];\n    /**\n     * The 'mean' value for image normalization.\n     * - If omitted, use default value 255.\n     * - If it's a single number, apply to each channel\n     * - If it's an array of 3 or 4 numbers, apply element-wise. Number of elements need to match the number of channels\n     * for the corresponding image format\n     */\n    mean?: number | [number, number, number] | [number, number, number, number];\n  };\n}\n\n// #endregion\n\n// #region Options composition\n\nexport interface TensorFromImageDataOptions\n  extends OptionResizedDimensions,\n    OptionsTensorFormat,\n    OptionsTensorLayout,\n    OptionsTensorDataType,\n    OptionsNormalizationParameters {}\n\nexport interface TensorFromImageElementOptions\n  extends OptionResizedDimensions,\n    OptionsTensorFormat,\n    OptionsTensorLayout,\n    OptionsTensorDataType,\n    OptionsNormalizationParameters {}\n\nexport interface TensorFromUrlOptions\n  extends OptionsDimensions,\n    OptionResizedDimensions,\n    OptionsTensorFormat,\n    OptionsTensorLayout,\n    OptionsTensorDataType,\n    OptionsNormalizationParameters {}\n\nexport interface TensorFromImageBitmapOptions\n  extends OptionResizedDimensions,\n    OptionsTensorFormat,\n    OptionsTensorLayout,\n    OptionsTensorDataType,\n    OptionsNormalizationParameters {}\n\nexport interface TensorFromTextureOptions<T extends Tensor.TextureDataTypes>\n  extends Required<OptionsDimensions>,\n    OptionsFormat,\n    GpuResourceConstructorParameters<T> /* TODO: add more */ {}\n\nexport interface TensorFromGpuBufferOptions<T extends Tensor.GpuBufferDataTypes>\n  extends Pick<Tensor, 'dims'>,\n    GpuResourceConstructorParameters<T> {\n  /**\n   * Describes the data type of the tensor.\n   */\n  dataType?: T;\n}\n\nexport interface TensorFromMLTensorOptions<T extends Tensor.MLTensorDataTypes>\n  extends Pick<Tensor, 'dims'>,\n    GpuResourceConstructorParameters<T> {\n  /**\n   * Describes the data type of the tensor.\n   */\n  dataType?: T;\n}\n\n// #endregion\n\n/**\n * type TensorFactory defines the factory functions of 'Tensor' to create tensor instances from existing data or\n * resources.\n */\nexport interface TensorFactory {\n  /**\n   * create a tensor from an ImageData object\n   *\n   * @param imageData - the ImageData object to create tensor from\n   * @param options - An optional object representing options for creating tensor from ImageData.\n   *\n   * The following default settings will be applied:\n   * - `tensorFormat`: `'RGB'`\n   * - `tensorLayout`: `'NCHW'`\n   * - `dataType`: `'float32'`\n   * @returns A promise that resolves to a tensor object\n   */\n  fromImage(\n    imageData: ImageData,\n    options?: TensorFromImageDataOptions,\n  ): Promise<TypedTensor<'float32'> | TypedTensor<'uint8'>>;\n\n  /**\n   * create a tensor from a HTMLImageElement object\n   *\n   * @param imageElement - the HTMLImageElement object to create tensor from\n   * @param options - An optional object representing options for creating tensor from HTMLImageElement.\n   *\n   * The following default settings will be applied:\n   * - `tensorFormat`: `'RGB'`\n   * - `tensorLayout`: `'NCHW'`\n   * - `dataType`: `'float32'`\n   * @returns A promise that resolves to a tensor object\n   */\n  fromImage(\n    imageElement: HTMLImageElement,\n    options?: TensorFromImageElementOptions,\n  ): Promise<TypedTensor<'float32'> | TypedTensor<'uint8'>>;\n\n  /**\n   * create a tensor from URL\n   *\n   * @param urlSource - a string as a URL to the image or a data URL containing the image data.\n   * @param options - An optional object representing options for creating tensor from URL.\n   *\n   * The following default settings will be applied:\n   * - `tensorFormat`: `'RGB'`\n   * - `tensorLayout`: `'NCHW'`\n   * - `dataType`: `'float32'`\n   * @returns A promise that resolves to a tensor object\n   */\n  fromImage(urlSource: string, options?: TensorFromUrlOptions): Promise<TypedTensor<'float32'> | TypedTensor<'uint8'>>;\n\n  /**\n   * create a tensor from an ImageBitmap object\n   *\n   * @param bitmap - the ImageBitmap object to create tensor from\n   * @param options - An optional object representing options for creating tensor from URL.\n   *\n   * The following default settings will be applied:\n   * - `tensorFormat`: `'RGB'`\n   * - `tensorLayout`: `'NCHW'`\n   * - `dataType`: `'float32'`\n   * @returns A promise that resolves to a tensor object\n   */\n  fromImage(\n    bitmap: ImageBitmap,\n    options: TensorFromImageBitmapOptions,\n  ): Promise<TypedTensor<'float32'> | TypedTensor<'uint8'>>;\n\n  /**\n   * create a tensor from a WebGL texture\n   *\n   * @param texture - the WebGLTexture object to create tensor from\n   * @param options - An optional object representing options for creating tensor from WebGL texture.\n   *\n   * The options include following properties:\n   * - `width`: the width of the texture. Required.\n   * - `height`: the height of the texture. Required.\n   * - `format`: the format of the texture. If omitted, assume 'RGBA'.\n   * - `download`: an optional function to download the tensor data from GPU to CPU. If omitted, the GPU data\n   * will not be able to download. Usually, this is provided by a GPU backend for the inference outputs. Users don't\n   * need to provide this function.\n   * - `dispose`: an optional function to dispose the tensor data on GPU. If omitted, the GPU data will not be disposed.\n   * Usually, this is provided by a GPU backend for the inference outputs. Users don't need to provide this function.\n   *\n   * @returns a tensor object\n   */\n  fromTexture<T extends Tensor.TextureDataTypes = 'float32'>(\n    texture: Tensor.TextureType,\n    options: TensorFromTextureOptions<T>,\n  ): TypedTensor<'float32'>;\n\n  /**\n   * create a tensor from a WebGPU buffer\n   *\n   * @param buffer - the GPUBuffer object to create tensor from\n   * @param options - An optional object representing options for creating tensor from WebGPU buffer.\n   *\n   * The options include following properties:\n   * - `dataType`: the data type of the tensor. If omitted, assume 'float32'.\n   * - `dims`: the dimension of the tensor. Required.\n   * - `download`: an optional function to download the tensor data from GPU to CPU. If omitted, the GPU data\n   * will not be able to download. Usually, this is provided by a GPU backend for the inference outputs. Users don't\n   * need to provide this function.\n   * - `dispose`: an optional function to dispose the tensor data on GPU. If omitted, the GPU data will not be disposed.\n   * Usually, this is provided by a GPU backend for the inference outputs. Users don't need to provide this function.\n   *\n   * @returns a tensor object\n   */\n  fromGpuBuffer<T extends Tensor.GpuBufferDataTypes>(\n    buffer: Tensor.GpuBufferType,\n    options: TensorFromGpuBufferOptions<T>,\n  ): TypedTensor<T>;\n\n  /**\n   * create a tensor from a WebNN MLTensor\n   *\n   * @param tensor - the MLTensor object to create tensor from\n   * @param options - An optional object representing options for creating tensor from a WebNN MLTensor.\n   *\n   * The options include following properties:\n   * - `dataType`: the data type of the tensor. If omitted, assume 'float32'.\n   * - `dims`: the dimension of the tensor. Required.\n   * - `download`: an optional function to download the tensor data from the MLTensor to CPU. If omitted, the MLTensor\n   * data will not be able to download. Usually, this is provided by the WebNN backend for the inference outputs.\n   * Users don't need to provide this function.\n   * - `dispose`: an optional function to dispose the tensor data on the WebNN MLTensor. If omitted, the MLTensor will\n   * not be disposed. Usually, this is provided by the WebNN backend for the inference outputs. Users don't need to\n   * provide this function.\n   *\n   * @returns a tensor object\n   */\n  fromMLTensor<T extends Tensor.MLTensorDataTypes>(\n    tensor: Tensor.MLTensorType,\n    options: TensorFromMLTensorOptions<T>,\n  ): TypedTensor<T>;\n\n  /**\n   * create a tensor from a pre-allocated buffer. The buffer will be used as a pinned buffer.\n   *\n   * @param type - the tensor element type.\n   * @param buffer - a TypedArray corresponding to the type.\n   * @param dims - specify the dimension of the tensor. If omitted, a 1-D tensor is assumed.\n   *\n   * @returns a tensor object\n   */\n  fromPinnedBuffer<T extends Exclude<Tensor.Type, 'string'>>(\n    type: T,\n    buffer: Tensor.DataTypeMap[T],\n    dims?: readonly number[],\n  ): TypedTensor<T>;\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n/**\n * A string that represents a file's URL or path.\n *\n * Path is vailable only in onnxruntime-node or onnxruntime-web running in Node.js.\n */\nexport type FileUrlOrPath = string;\n\n/**\n * A Blob object that represents a file.\n */\nexport type FileBlob = Blob;\n\n/**\n * A Uint8Array, ArrayBuffer or SharedArrayBuffer object that represents a file content.\n *\n * When it is an ArrayBuffer or SharedArrayBuffer, the whole buffer is assumed to be the file content.\n */\nexport type FileData = Uint8Array | ArrayBufferLike;\n\n/**\n * Represents a file that can be loaded by the ONNX Runtime JavaScript API.\n */\nexport type FileType = FileUrlOrPath | FileBlob | FileData;\n\n/**\n * Represents an external data file.\n */\nexport interface ExternalDataFileDescription {\n  /**\n   * Specify the external data file.\n   */\n  data: FileType;\n  /**\n   * Specify the file path.\n   */\n  path: string;\n}\n\n/**\n * Represents an external data file.\n *\n * When using a string, it should be a file URL or path that in the same directory as the model file.\n */\nexport type ExternalDataFileType = ExternalDataFileDescription | FileUrlOrPath;\n\n/**\n * Options for model loading.\n */\nexport interface OnnxModelOptions {\n  /**\n   * Specifying a list of files that represents the external data.\n   */\n  externalData?: readonly ExternalDataFileType[];\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { Tensor } from './tensor.js';\n\nexport type NonTensorType = never;\n\n/**\n * Type OnnxValue Represents both tensors and non-tensors value for model's inputs/outputs.\n *\n * NOTE: currently not support non-tensor\n */\nexport type OnnxValue = Tensor | NonTensorType;\n\n/**\n * Type OnnxValueDataLocation represents the location of the data of an OnnxValue.\n */\nexport type OnnxValueDataLocation = Tensor.DataLocation;\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n/**\n * # ONNX Runtime JavaScript API\n *\n * ONNX Runtime JavaScript API is a unified API for all JavaScript usages, including the following NPM packages:\n *\n * - [onnxruntime-node](https://www.npmjs.com/package/onnxruntime-node)\n * - [onnxruntime-web](https://www.npmjs.com/package/onnxruntime-web)\n * - [onnxruntime-react-native](https://www.npmjs.com/package/onnxruntime-react-native)\n *\n * See also:\n * - [Get Started](https://onnxruntime.ai/docs/get-started/with-javascript/)\n * - [Inference examples](https://github.com/microsoft/onnxruntime-inference-examples/tree/main/js)\n *\n * @packageDocumentation\n */\n\nexport * from './backend.js';\nexport * from './env.js';\nexport * from './inference-session.js';\nexport * from './tensor.js';\nexport * from './tensor-conversion.js';\nexport * from './tensor-factory.js';\nexport * from './trace.js';\nexport * from './onnx-model.js';\nexport * from './onnx-value.js';\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nexport const isNode = !!(typeof process !== 'undefined' && process.versions && process.versions.node);\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n/// <reference lib=\"webworker\" />\n\n//\n// * type hack for \"HTMLImageElement\"\n//\n// in typescript, the type of \"HTMLImageElement\" is defined in lib.dom.d.ts, which is conflict with lib.webworker.d.ts.\n// when we use webworker, the lib.webworker.d.ts will be used, which does not have HTMLImageElement defined.\n//\n// we will get the following errors complaining that HTMLImageElement is not defined:\n//\n// ====================================================================================================================\n//\n// ../common/dist/cjs/tensor-factory.d.ts:187:29 - error TS2552: Cannot find name 'HTMLImageElement'. Did you mean\n// 'HTMLLIElement'?\n//\n// 187     fromImage(imageElement: HTMLImageElement, options?: TensorFromImageElementOptions):\n// Promise<TypedTensor<'float32'> | TypedTensor<'uint8'>>;\n//                                 ~~~~~~~~~~~~~~~~\n//\n// node_modules/@webgpu/types/dist/index.d.ts:83:7 - error TS2552: Cannot find name 'HTMLImageElement'. Did you mean\n// 'HTMLLIElement'?\n//\n// 83     | HTMLImageElement\n//          ~~~~~~~~~~~~~~~~\n//\n// ====================================================================================================================\n//\n// `HTMLImageElement` is only used in type declaration and not in real code. So we define it as `unknown` here to\n// bypass the type check.\n\n//\n// * type hack for \"document\"\n//\n// in typescript, the type of \"document\" is defined in lib.dom.d.ts, so it's not available in webworker.\n//\n// we will get the following errors complaining that document is not defined:\n//\n// ====================================================================================================================\n//\n// lib/wasm/wasm-utils-import.ts:7:33 - error TS2584: Cannot find name 'document'. Do you need to change your target\n// library? Try changing the 'lib' compiler option to include 'dom'.\n//\n// 7 export const scriptSrc = typeof document !== 'undefined' ? (document?.currentScript as HTMLScriptElement)?.src :\n//                                   ~~~~~~~~\n//\n// lib/wasm/wasm-utils-import.ts:7:61 - error TS2584: Cannot find name 'document'. Do you need to change your target\n// library? Try changing the 'lib' compiler option to include 'dom'.\n//\n// 7 export const scriptSrc = typeof document !== 'undefined' ? (document?.currentScript as HTMLScriptElement)?.src :\n//                                                               ~~~~~~~~\n//\n// lib/wasm/wasm-utils-import.ts:7:88 - error TS2552: Cannot find name 'HTMLScriptElement'. Did you mean\n// 'HTMLLIElement'?\n//\n// 7 export const scriptSrc = typeof document !== 'undefined' ? (document?.currentScript as HTMLScriptElement)?.src :\n//                                                                                          ~~~~~~~~~~~~~~~~~\n// ====================================================================================================================\n//\n// `document` is used to get the current script URL, which is not available in webworker. This file is served as a\n// \"dual\" file for entries of both webworker and the esm module.\n//\ndeclare global {\n  type HTMLImageElement = unknown;\n  type HTMLScriptElement = { src?: string };\n  const document: undefined | { currentScript?: HTMLScriptElement };\n}\n\n/**\n * @summary\n *\n * This file is served as a \"dual\" file for both entries of the following:\n * - The proxy worker itself.\n *   - When used as a worker, it listens to the messages from the main thread and performs the corresponding operations.\n *   - Should be imported directly using `new Worker()` in the main thread.\n *\n * - The ESM module that creates the proxy worker (as a worker launcher).\n *   - When used as a worker launcher, it creates the proxy worker and returns it.\n *   - Should be imported using `import()` in the main thread, with the query parameter `import=1`.\n *\n * This file will be always compiling into ESM format.\n */\n\nimport type { OrtWasmMessage, SerializableTensorMetadata } from '../proxy-messages.js';\nimport {\n  createSession,\n  copyFromExternalBuffer,\n  endProfiling,\n  extractTransferableBuffers,\n  initEp,\n  initRuntime,\n  releaseSession,\n  run,\n} from '../wasm-core-impl.js';\nimport { initializeWebAssembly } from '../wasm-factory.js';\nimport { scriptSrc } from '../wasm-utils-import.js';\n\nconst WORKER_NAME = 'ort-wasm-proxy-worker';\nconst isProxyWorker = globalThis.self?.name === WORKER_NAME;\n\nif (isProxyWorker) {\n  // Worker thread\n  self.onmessage = (ev: MessageEvent<OrtWasmMessage>): void => {\n    const { type, in: message } = ev.data;\n    try {\n      switch (type) {\n        case 'init-wasm':\n          initializeWebAssembly(message!.wasm).then(\n            () => {\n              initRuntime(message!).then(\n                () => {\n                  postMessage({ type });\n                },\n                (err) => {\n                  postMessage({ type, err });\n                },\n              );\n            },\n            (err) => {\n              postMessage({ type, err });\n            },\n          );\n          break;\n        case 'init-ep': {\n          const { epName, env } = message!;\n          initEp(env, epName).then(\n            () => {\n              postMessage({ type });\n            },\n            (err) => {\n              postMessage({ type, err });\n            },\n          );\n          break;\n        }\n        case 'copy-from': {\n          const { buffer } = message!;\n          const bufferData = copyFromExternalBuffer(buffer);\n          postMessage({ type, out: bufferData } as OrtWasmMessage);\n          break;\n        }\n        case 'create': {\n          const { model, options } = message!;\n          createSession(model, options).then(\n            (sessionMetadata) => {\n              postMessage({ type, out: sessionMetadata } as OrtWasmMessage);\n            },\n            (err) => {\n              postMessage({ type, err });\n            },\n          );\n          break;\n        }\n        case 'release':\n          releaseSession(message!);\n          postMessage({ type });\n          break;\n        case 'run': {\n          const { sessionId, inputIndices, inputs, outputIndices, options } = message!;\n          run(sessionId, inputIndices, inputs, outputIndices, new Array(outputIndices.length).fill(null), options).then(\n            (outputs) => {\n              if (outputs.some((o) => o[3] !== 'cpu')) {\n                postMessage({ type, err: 'Proxy does not support non-cpu tensor location.' });\n              } else {\n                postMessage(\n                  { type, out: outputs } as OrtWasmMessage,\n                  extractTransferableBuffers([...inputs, ...outputs] as SerializableTensorMetadata[]),\n                );\n              }\n            },\n            (err) => {\n              postMessage({ type, err });\n            },\n          );\n          break;\n        }\n        case 'end-profiling':\n          endProfiling(message!);\n          postMessage({ type });\n          break;\n        default:\n      }\n    } catch (err) {\n      postMessage({ type, err } as OrtWasmMessage);\n    }\n  };\n}\n\nexport default isProxyWorker\n  ? null\n  : (urlOverride?: string) =>\n      new Worker(urlOverride ?? scriptSrc!, { type: BUILD_DEFS.IS_ESM ? 'module' : 'classic', name: WORKER_NAME });\n","var i=async function(i={}){var e,r,n=i,t=new Promise(((i,n)=>{e=i,r=n})),a=\"object\"==typeof window,o=\"undefined\"!=typeof WorkerGlobalScope,l=o&&self.name?.startsWith(\"em-pthread\");n.mountExternalData=(i,e)=>{i.startsWith(\"./\")&&(i=i.substring(2)),(n.fc||(n.fc=new Map)).set(i,e)},n.unmountExternalData=()=>{delete n.fc};var u=globalThis.SharedArrayBuffer??new WebAssembly.Memory({initial:0,maximum:0,ld:!0}).buffer.constructor;let f=()=>{const i=(i,e,r)=>(...n)=>{const t=ke,a=e?.();n=i(...n);const o=e?.();return a!==o&&(i=o,r(a),e=r=null),ke!=t?new Promise(((i,e)=>{ze={resolve:i,reject:e}})):n};(()=>{for(const e of[\"_OrtAppendExecutionProvider\",\"_OrtCreateSession\",\"_OrtRun\",\"_OrtRunWithBinding\",\"_OrtBindInput\"])n[e]=i(n[e],(()=>n[e]),(i=>n[e]=i))})(),\"undefined\"!=typeof jsepRunAsync&&(n._OrtRun=jsepRunAsync(n._OrtRun),n._OrtRunWithBinding=jsepRunAsync(n._OrtRunWithBinding)),f=void 0};n.asyncInit=()=>{f?.()};var s,c,d=(i,e)=>{throw e},y=import.meta.url,m=\"\";if(a||o){try{m=new URL(\".\",y).href}catch{}o&&(c=i=>{var e=new XMLHttpRequest;return e.open(\"GET\",i,!1),e.responseType=\"arraybuffer\",e.send(null),new Uint8Array(e.response)}),s=async i=>{if(D(i))return new Promise(((e,r)=>{var n=new XMLHttpRequest;n.open(\"GET\",i,!0),n.responseType=\"arraybuffer\",n.onload=()=>{200==n.status||0==n.status&&n.response?e(n.response):r(n.status)},n.onerror=r,n.send(null)}));var e=await fetch(i,{credentials:\"same-origin\"});if(e.ok)return e.arrayBuffer();throw Error(e.status+\" : \"+e.url)}}var v,p,g,_,C,h,b,w,j,x,O,S,T,A,B,P=console.log.bind(console),E=console.error.bind(console),M=P,R=E,W=!1,D=i=>i.startsWith(\"file://\");function U(){return p.buffer!=C.buffer&&N(),C}function k(){return p.buffer!=C.buffer&&N(),h}function I(){return p.buffer!=C.buffer&&N(),b}function G(){return p.buffer!=C.buffer&&N(),w}function F(){return p.buffer!=C.buffer&&N(),j}function L(){return p.buffer!=C.buffer&&N(),x}function $(){return p.buffer!=C.buffer&&N(),O}function z(){return p.buffer!=C.buffer&&N(),A}if(l){var V=!1;function Kt(i){try{var e=i.data,r=e.dc;if(\"load\"===r){let i=[];self.onmessage=e=>i.push(e),self.startWorker=()=>{postMessage({dc:\"loaded\"});for(let e of i)Kt(e);self.onmessage=Kt};for(const i of e.Uc)n[i]&&!n[i].proxy||(n[i]=(...e)=>{postMessage({dc:\"callHandler\",Tc:i,args:e})},\"print\"==i&&(M=n[i]),\"printErr\"==i&&(R=n[i]));p=e.bd,N(),B(e.cd)}else if(\"run\"===r){pi(e.ac),Ut(e.ac,0,0,1,0,0),yi(),je(e.ac),V||(yt(),V=!0);try{gi(e.Zc,e.jc)}catch(i){if(\"unwind\"!=i)throw i}}else\"setimmediate\"!==e.target&&(\"checkMailbox\"===r?V&&xe():r&&(R(`worker: received unknown command ${r}`),R(e)))}catch(i){throw kt(),i}}self.onunhandledrejection=i=>{throw i.reason||i},self.onmessage=Kt}function N(){var i=p.buffer;n.HEAP8=C=new Int8Array(i),b=new Int16Array(i),n.HEAPU8=h=new Uint8Array(i),w=new Uint16Array(i),n.HEAP32=j=new Int32Array(i),n.HEAPU32=x=new Uint32Array(i),O=new Float32Array(i),A=new Float64Array(i),S=new BigInt64Array(i),T=new BigUint64Array(i)}function H(){l?startWorker(n):ct.nb()}var q,Y=0,Q=null;function X(){if(0==--Y&&Q){var i=Q;Q=null,i()}}function Z(i){throw R(i=\"Aborted(\"+i+\")\"),W=!0,i=new WebAssembly.RuntimeError(i+\". Build with -sASSERTIONS for more info.\"),r(i),i}function J(){return{a:{R:st,b:hi,ba:wi,I:Si,ra:Ti,jb:Ai,lb:Bi,sa:Pi,pa:Ei,ia:Mi,oa:Ri,P:Wi,kb:Di,hb:Ui,qa:ki,ib:Ii,xa:Fi,Z:Yi,cb:Xi,ab:te,Y:oe,w:le,t:ue,bb:ce,L:Ce,db:he,la:be,fb:Oe,ca:Te,_a:Ae,$:Be,ka:je,ua:Pe,s:Re,Na:We,A:He,o:Ye,m:Ze,c:Ki,Ma:Je,n:ir,i:nr,v:tr,p:ar,f:or,u:lr,k:ur,e:fr,j:sr,h:cr,g:dr,d:yr,fa:mr,ga:_r,ha:Cr,da:hr,ea:br,$a:xr,za:Or,wa:Ar,E:Er,La:Mr,M:Rr,va:Sr,C:Wr,ta:Dr,gb:Ur,r:jr,Ia:kr,F:Ir,Q:Gr,eb:Fr,Ba:Vr,Aa:Nr,Ha:cn,q:dn,U:mn,T:vn,Ka:pn,D:gn,l:_n,Ga:Cn,Fa:hn,Ja:bn,Ea:wn,Da:jn,Ca:xn,ma:An,na:Bn,aa:li,J:Pn,O:En,ja:Mn,N:Wn,a:p,ya:ai,Xa:Dn,K:Un,x:kn,S:In,Ya:Gn,y:Fn,Ta:Ln,Va:$n,V:zn,z:Vn,_:Nn,W:Hn,G:qn,Ra:Yn,mb:Qn,B:Xn,Ua:Zn,Wa:Jn,Oa:Kn,Pa:it,Qa:et,H:rt,X:nt,Sa:tt,Za:at}}}class K{name=\"ExitStatus\";constructor(i){this.message=`Program terminated with exit(${i})`,this.status=i}}var ii=i=>{i.terminate(),i.onmessage=()=>{}},ei=[],ri=i=>{0==ui.length&&(vi(),mi(ui[0]));var e=ui.pop();if(!e)return 6;fi.push(e),ci[i.ac]=e,e.ac=i.ac;var r={dc:\"run\",Zc:i.Yc,jc:i.jc,ac:i.ac};return e.postMessage(r,i.Oc),0},ni=0,ti=(i,e,...r)=>{for(var n=2*r.length,t=qt(),a=Ht(8*n),o=a>>>3,l=0;l<r.length;l++){var u=r[l];\"bigint\"==typeof u?(S[o+2*l]=1n,S[o+2*l+1]=u):(S[o+2*l]=0n,z()[o+2*l+1>>>0]=u)}return i=It(i,0,n,a,e),Nt(t),i};function ai(i){if(l)return ti(0,1,i);if(_=i,!(0<ni)){for(var e of fi)ii(e);for(e of ui)ii(e);ui=[],fi=[],ci={},W=!0}d(0,new K(i))}function oi(i){if(l)return ti(1,0,i);li(i)}var li=i=>{if(_=i,l)throw oi(i),\"unwind\";ai(i)},ui=[],fi=[],si=[],ci={},di=i=>{var e=i.ac;delete ci[e],ui.push(i),fi.splice(fi.indexOf(i),1),i.ac=0,Gt(e)};function yi(){si.forEach((i=>i()))}var mi=i=>new Promise((e=>{i.onmessage=r=>{var t=(r=r.data).dc;if(r.hc&&r.hc!=vt()){var a=ci[r.hc];a?a.postMessage(r,r.Oc):R(`Internal error! Worker sent a message \"${t}\" to target pthread ${r.hc}, but that thread no longer exists!`)}else\"checkMailbox\"===t?xe():\"spawnThread\"===t?ri(r):\"cleanupThread\"===t?di(ci[r.$c]):\"loaded\"===t?(i.loaded=!0,e(i)):\"setimmediate\"===r.target?i.postMessage(r):\"callHandler\"===t?n[r.Tc](...r.args):t&&R(`worker sent an unknown command ${t}`)},i.onerror=i=>{throw R(`worker sent an error! ${i.filename}:${i.lineno}: ${i.message}`),i};var r,t=[];for(r of[])n.propertyIsEnumerable(r)&&t.push(r);i.postMessage({dc:\"load\",Uc:t,bd:p,cd:g})}));function vi(){var i=new Worker((()=>{const i=URL;return import.meta.url>\"file:\"&&import.meta.url<\"file;\"?new i(BUILD_DEFS.BUNDLE_FILENAME,import.meta.url):new URL(import.meta.url)})(),{type:\"module\",workerData:\"em-pthread\",name:\"em-pthread\"});ui.push(i)}var pi=i=>{N();var e=L()[i+52>>>2>>>0];i=L()[i+56>>>2>>>0],Vt(e,e-i),Nt(e)},gi=(i,e)=>{ni=0,i=Yt(i,e),0<ni?_=i:Ft(i)};class _i{constructor(i){this.ic=i-24}}var Ci=i=>-9007199254740992>i||9007199254740992<i?NaN:Number(i);function hi(i,e,r){var n=new _i(i>>>=0);throw e>>>=0,r>>>=0,L()[n.ic+16>>>2>>>0]=0,L()[n.ic+4>>>2>>>0]=e,L()[n.ic+8>>>2>>>0]=r,i}function bi(i,e,r,n){return l?ti(2,1,i,e,r,n):wi(i,e,r,n)}function wi(i,e,r,n){if(i>>>=0,r>>>=0,n>>>=0,void 0===u)return 6;var t=[];return l&&0===t.length?bi(i,e>>>=0,r,n):(i={Yc:r,ac:i,jc:n,Oc:t},l?(i.dc=\"spawnThread\",postMessage(i,t),0):ri(i))}var ji=\"undefined\"!=typeof TextDecoder?new TextDecoder:void 0,xi=(i,e=0,r=NaN)=>{var n=(e>>>=0)+r;for(r=e;i[r]&&!(r>=n);)++r;if(16<r-e&&i.buffer&&ji)return ji.decode(i.buffer instanceof ArrayBuffer?i.subarray(e,r):i.slice(e,r));for(n=\"\";e<r;){var t=i[e++];if(128&t){var a=63&i[e++];if(192==(224&t))n+=String.fromCharCode((31&t)<<6|a);else{var o=63&i[e++];65536>(t=224==(240&t)?(15&t)<<12|a<<6|o:(7&t)<<18|a<<12|o<<6|63&i[e++])?n+=String.fromCharCode(t):(t-=65536,n+=String.fromCharCode(55296|t>>10,56320|1023&t))}}else n+=String.fromCharCode(t)}return n},Oi=(i,e)=>(i>>>=0)?xi(k(),i,e):\"\";function Si(i,e,r){return l?ti(3,1,i,e,r):0}function Ti(i,e){if(l)return ti(4,1,i,e)}function Ai(i,e){if(l)return ti(5,1,i,e)}function Bi(i,e,r){if(l)return ti(6,1,i,e,r)}function Pi(i,e,r){return l?ti(7,1,i,e,r):0}function Ei(i,e){if(l)return ti(8,1,i,e)}function Mi(i,e,r){if(l)return ti(9,1,i,e,r)}function Ri(i,e,r,n){if(l)return ti(10,1,i,e,r,n)}function Wi(i,e,r,n){if(l)return ti(11,1,i,e,r,n)}function Di(i,e,r,n){if(l)return ti(12,1,i,e,r,n)}function Ui(i){if(l)return ti(13,1,i)}function ki(i,e){if(l)return ti(14,1,i,e)}function Ii(i,e,r){if(l)return ti(15,1,i,e,r)}var Gi,Fi=()=>Z(\"\"),Li=i=>{for(var e=\"\";k()[i>>>0];)e+=Gi[k()[i++>>>0]];return e},$i={},zi={},Vi={},Ni=n.BindingError=class extends Error{constructor(i){super(i),this.name=\"BindingError\"}};function Hi(i,e,r={}){return function(i,e,r={}){var n=e.name;if(!i)throw new Ni(`type \"${n}\" must have a positive integer typeid pointer`);if(zi.hasOwnProperty(i)){if(r.Vc)return;throw new Ni(`Cannot register type '${n}' twice`)}zi[i]=e,delete Vi[i],$i.hasOwnProperty(i)&&(e=$i[i],delete $i[i],e.forEach((i=>i())))}(i,e,r)}var qi=(i,e,r)=>{switch(e){case 1:return r?i=>U()[i>>>0]:i=>k()[i>>>0];case 2:return r?i=>I()[i>>>1>>>0]:i=>G()[i>>>1>>>0];case 4:return r?i=>F()[i>>>2>>>0]:i=>L()[i>>>2>>>0];case 8:return r?i=>S[i>>>3]:i=>T[i>>>3];default:throw new TypeError(`invalid integer width (${e}): ${i}`)}};function Yi(i,e,r){r>>>=0,Hi(i>>>=0,{name:e=Li(e>>>0),fromWireType:i=>i,toWireType:function(i,e){if(\"bigint\"!=typeof e&&\"number\"!=typeof e)throw e=null===e?\"null\":\"object\"==(i=typeof e)||\"array\"===i||\"function\"===i?e.toString():\"\"+e,new TypeError(`Cannot convert \"${e}\" to ${this.name}`);return\"number\"==typeof e&&(e=BigInt(e)),e},cc:Qi,readValueFromPointer:qi(e,r,-1==e.indexOf(\"u\")),ec:null})}var Qi=8;function Xi(i,e,r,n){Hi(i>>>=0,{name:e=Li(e>>>0),fromWireType:function(i){return!!i},toWireType:function(i,e){return e?r:n},cc:Qi,readValueFromPointer:function(i){return this.fromWireType(k()[i>>>0])},ec:null})}var Zi=[],Ji=[];function Ki(i){9<(i>>>=0)&&0==--Ji[i+1]&&(Ji[i]=void 0,Zi.push(i))}var ie=i=>{if(!i)throw new Ni(`Cannot use deleted val. handle = ${i}`);return Ji[i]},ee=i=>{switch(i){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const e=Zi.pop()||Ji.length;return Ji[e]=i,Ji[e+1]=1,e}};function re(i){return this.fromWireType(L()[i>>>2>>>0])}var ne={name:\"emscripten::val\",fromWireType:i=>{var e=ie(i);return Ki(i),e},toWireType:(i,e)=>ee(e),cc:Qi,readValueFromPointer:re,ec:null};function te(i){return Hi(i>>>0,ne)}var ae=(i,e)=>{switch(e){case 4:return function(i){return this.fromWireType($()[i>>>2>>>0])};case 8:return function(i){return this.fromWireType(z()[i>>>3>>>0])};default:throw new TypeError(`invalid float width (${e}): ${i}`)}};function oe(i,e,r){r>>>=0,Hi(i>>>=0,{name:e=Li(e>>>0),fromWireType:i=>i,toWireType:(i,e)=>e,cc:Qi,readValueFromPointer:ae(e,r),ec:null})}function le(i,e,r,n,t){if(i>>>=0,r>>>=0,e=Li(e>>>0),-1===t&&(t=4294967295),t=i=>i,0===n){var a=32-8*r;t=i=>i<<a>>>a}var o=e.includes(\"unsigned\")?function(i,e){return e>>>0}:function(i,e){return e};Hi(i,{name:e,fromWireType:t,toWireType:o,cc:Qi,readValueFromPointer:qi(e,r,0!==n),ec:null})}function ue(i,e,r){function n(i){var e=L()[i>>>2>>>0];return i=L()[i+4>>>2>>>0],new t(U().buffer,i,e)}var t=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][e];Hi(i>>>=0,{name:r=Li(r>>>0),fromWireType:n,cc:Qi,readValueFromPointer:n},{Vc:!0})}var fe=(i,e,r)=>{var n=k();if(e>>>=0,0<r){var t=e;r=e+r-1;for(var a=0;a<i.length;++a){var o=i.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&i.charCodeAt(++a)),127>=o){if(e>=r)break;n[e++>>>0]=o}else{if(2047>=o){if(e+1>=r)break;n[e++>>>0]=192|o>>6}else{if(65535>=o){if(e+2>=r)break;n[e++>>>0]=224|o>>12}else{if(e+3>=r)break;n[e++>>>0]=240|o>>18,n[e++>>>0]=128|o>>12&63}n[e++>>>0]=128|o>>6&63}n[e++>>>0]=128|63&o}}n[e>>>0]=0,i=e-t}else i=0;return i},se=i=>{for(var e=0,r=0;r<i.length;++r){var n=i.charCodeAt(r);127>=n?e++:2047>=n?e+=2:55296<=n&&57343>=n?(e+=4,++r):e+=3}return e};function ce(i,e){Hi(i>>>=0,{name:e=Li(e>>>0),fromWireType:function(i){for(var e,r=L()[i>>>2>>>0],n=i+4,t=n,a=0;a<=r;++a){var o=n+a;a!=r&&0!=k()[o>>>0]||(t=Oi(t,o-t),void 0===e?e=t:(e+=String.fromCharCode(0),e+=t),t=o+1)}return pt(i),e},toWireType:function(i,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var r=\"string\"==typeof e;if(!(r||ArrayBuffer.isView(e)&&1==e.BYTES_PER_ELEMENT))throw new Ni(\"Cannot pass non-string to std::string\");var n=r?se(e):e.length,t=gt(4+n+1),a=t+4;return L()[t>>>2>>>0]=n,r?fe(e,a,n+1):k().set(e,a>>>0),null!==i&&i.push(pt,t),t},cc:Qi,readValueFromPointer:re,ec(i){pt(i)}})}var de=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf-16le\"):void 0,ye=(i,e)=>{for(var r=i>>1,n=r+e/2;!(r>=n)&&G()[r>>>0];)++r;if(32<(r<<=1)-i&&de)return de.decode(k().slice(i,r));for(r=\"\",n=0;!(n>=e/2);++n){var t=I()[i+2*n>>>1>>>0];if(0==t)break;r+=String.fromCharCode(t)}return r},me=(i,e,r)=>{if(r??=2147483647,2>r)return 0;var n=e;r=(r-=2)<2*i.length?r/2:i.length;for(var t=0;t<r;++t){var a=i.charCodeAt(t);I()[e>>>1>>>0]=a,e+=2}return I()[e>>>1>>>0]=0,e-n},ve=i=>2*i.length,pe=(i,e)=>{for(var r=0,n=\"\";!(r>=e/4);){var t=F()[i+4*r>>>2>>>0];if(0==t)break;++r,65536<=t?(t-=65536,n+=String.fromCharCode(55296|t>>10,56320|1023&t)):n+=String.fromCharCode(t)}return n},ge=(i,e,r)=>{if(e>>>=0,r??=2147483647,4>r)return 0;var n=e;r=n+r-4;for(var t=0;t<i.length;++t){var a=i.charCodeAt(t);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&i.charCodeAt(++t)),F()[e>>>2>>>0]=a,(e+=4)+4>r)break}return F()[e>>>2>>>0]=0,e-n},_e=i=>{for(var e=0,r=0;r<i.length;++r){var n=i.charCodeAt(r);55296<=n&&57343>=n&&++r,e+=4}return e};function Ce(i,e,r){if(i>>>=0,e>>>=0,r=Li(r>>>=0),2===e)var n=ye,t=me,a=ve,o=i=>G()[i>>>1>>>0];else 4===e&&(n=pe,t=ge,a=_e,o=i=>L()[i>>>2>>>0]);Hi(i,{name:r,fromWireType:i=>{for(var r,t=L()[i>>>2>>>0],a=i+4,l=0;l<=t;++l){var u=i+4+l*e;l!=t&&0!=o(u)||(a=n(a,u-a),void 0===r?r=a:(r+=String.fromCharCode(0),r+=a),a=u+e)}return pt(i),r},toWireType:(i,n)=>{if(\"string\"!=typeof n)throw new Ni(`Cannot pass non-string to C++ string type ${r}`);var o=a(n),l=gt(4+o+e);return L()[l>>>2>>>0]=o/e,t(n,l+4,o+e),null!==i&&i.push(pt,l),l},cc:Qi,readValueFromPointer:re,ec(i){pt(i)}})}function he(i,e){Hi(i>>>=0,{Wc:!0,name:e=Li(e>>>0),cc:0,fromWireType:()=>{},toWireType:()=>{}})}function be(i){Ut(i>>>0,!o,1,!a,131072,!1),yi()}var we=i=>{if(!W)try{if(i(),!(0<ni))try{l?Ft(_):li(_)}catch(i){i instanceof K||\"unwind\"==i||d(0,i)}}catch(i){i instanceof K||\"unwind\"==i||d(0,i)}};function je(i){i>>>=0,\"function\"==typeof Atomics.ad&&(Atomics.ad(F(),i>>>2,i).value.then(xe),i+=128,Atomics.store(F(),i>>>2,1))}var xe=()=>{var i=vt();i&&(je(i),we($t))};function Oe(i,e){(i>>>=0)==e>>>0?setTimeout(xe):l?postMessage({hc:i,dc:\"checkMailbox\"}):(i=ci[i])&&i.postMessage({dc:\"checkMailbox\"})}var Se=[];function Te(i,e,r,n,t){for(e>>>=0,n/=2,Se.length=n,r=t>>>0>>>3,t=0;t<n;t++)Se[t]=S[r+2*t]?S[r+2*t+1]:z()[r+2*t+1>>>0];return(e?ft[e]:ut[i])(...Se)}var Ae=()=>{ni=0};function Be(i){i>>>=0,l?postMessage({dc:\"cleanupThread\",$c:i}):di(ci[i])}function Pe(i){}var Ee=(i,e)=>{var r=zi[i];if(void 0===r)throw i=dt(i),r=Li(i),pt(i),new Ni(`${e} has unknown type ${r}`);return r},Me=(i,e,r)=>{var n=[];return i=i.toWireType(n,r),n.length&&(L()[e>>>2>>>0]=ee(n)),i};function Re(i,e,r){return e>>>=0,r>>>=0,i=ie(i>>>0),e=Ee(e,\"emval::as\"),Me(e,r,i)}function We(i,e){return e>>>=0,i=ie(i>>>0),(e=Ee(e,\"emval::as\")).toWireType(null,i)}var De=i=>{try{i()}catch(i){Z(i)}},Ue=0,ke=null,Ie=0,Ge=[],Fe={},Le={},$e=0,ze=null,Ve=[];function Ne(i){return function(i){if(!W){if(0===Ue){var e=!1,r=!1;i(((i=0)=>{if(!W&&(Ie=i,e=!0,r)){Ue=2,De((()=>Zt(ke))),\"undefined\"!=typeof MainLoop&&MainLoop.Sc&&MainLoop.resume(),i=!1;try{var n=function(){var i=F()[ke+8>>>2>>>0];return i=ct[Le[i]],--ni,i()}()}catch(e){n=e,i=!0}var t=!1;if(!ke){var a=ze;a&&(ze=null,(i?a.reject:a.resolve)(n),t=!0)}if(i&&!t)throw n}})),r=!0,e||(Ue=1,ke=function(){var i=gt(65548),e=i+12;L()[i>>>2>>>0]=e,L()[i+4>>>2>>>0]=e+65536,e=Ge[0];var r=Fe[e];return void 0===r&&(r=$e++,Fe[e]=r,Le[r]=e),e=r,F()[i+8>>>2>>>0]=e,i}(),\"undefined\"!=typeof MainLoop&&MainLoop.Sc&&MainLoop.pause(),De((()=>Qt(ke))))}else 2===Ue?(Ue=0,De(Jt),pt(ke),ke=null,Ve.forEach(we)):Z(`invalid state: ${Ue}`);return Ie}}((e=>{i().then(e)}))}function He(i){return i>>>=0,Ne((async()=>{var e=await ie(i);return ee(e)}))}var qe=[];function Ye(i,e,r,n){return r>>>=0,n>>>=0,(i=qe[i>>>0])(null,e=ie(e>>>0),r,n)}var Qe={},Xe=i=>{var e=Qe[i];return void 0===e?Li(i):e};function Ze(i,e,r,n,t){return r>>>=0,n>>>=0,t>>>=0,(i=qe[i>>>0])(e=ie(e>>>0),e[r=Xe(r)],n,t)}function Je(i,e){return e>>>=0,(i=ie(i>>>0))==ie(e)}var Ke=()=>\"object\"==typeof globalThis?globalThis:Function(\"return this\")();function ir(i){return 0==(i>>>=0)?ee(Ke()):(i=Xe(i),ee(Ke()[i]))}var er=i=>{var e=qe.length;return qe.push(i),e},rr=(i,e)=>{for(var r=Array(i),n=0;n<i;++n)r[n]=Ee(L()[e+4*n>>>2>>>0],`parameter ${n}`);return r};function nr(i,e,r){var n=(e=rr(i,e>>>0)).shift();i--;var t=\"return function (obj, func, destructorsRef, args) {\\n\",a=0,o=[];0===r&&o.push(\"obj\");for(var l=[\"retType\"],u=[n],f=0;f<i;++f)o.push(`arg${f}`),l.push(`argType${f}`),u.push(e[f]),t+=`  var arg${f} = argType${f}.readValueFromPointer(args${a?\"+\"+a:\"\"});\\n`,a+=e[f].cc;return t+=`  var rv = ${1===r?\"new func\":\"func.call\"}(${o.join(\", \")});\\n`,n.Wc||(l.push(\"emval_returnValue\"),u.push(Me),t+=\"  return emval_returnValue(retType, destructorsRef, rv);\\n\"),i=new Function(...l,t+\"};\\n\")(...u),r=`methodCaller<(${e.map((i=>i.name)).join(\", \")}) => ${n.name}>`,er(Object.defineProperty(i,\"name\",{value:r}))}function tr(i){return i=Xe(i>>>0),ee(n[i])}function ar(i,e){return e>>>=0,i=ie(i>>>0),e=ie(e),ee(i[e])}function or(i){9<(i>>>=0)&&(Ji[i+1]+=1)}function lr(){return ee([])}function ur(i){i=ie(i>>>0);for(var e=Array(i.length),r=0;r<i.length;r++)e[r]=i[r];return ee(e)}function fr(i){return ee(Xe(i>>>0))}function sr(){return ee({})}function cr(i){for(var e=ie(i>>>=0);e.length;){var r=e.pop();e.pop()(r)}Ki(i)}function dr(i,e,r){e>>>=0,r>>>=0,i=ie(i>>>0),e=ie(e),r=ie(r),i[e]=r}function yr(i,e){return e>>>=0,i=(i=Ee(i>>>0,\"_emval_take_value\")).readValueFromPointer(e),ee(i)}function mr(i,e){i=Ci(i),e>>>=0,i=new Date(1e3*i),F()[e>>>2>>>0]=i.getUTCSeconds(),F()[e+4>>>2>>>0]=i.getUTCMinutes(),F()[e+8>>>2>>>0]=i.getUTCHours(),F()[e+12>>>2>>>0]=i.getUTCDate(),F()[e+16>>>2>>>0]=i.getUTCMonth(),F()[e+20>>>2>>>0]=i.getUTCFullYear()-1900,F()[e+24>>>2>>>0]=i.getUTCDay(),i=(i.getTime()-Date.UTC(i.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,F()[e+28>>>2>>>0]=i}var vr=i=>0==i%4&&(0!=i%100||0==i%400),pr=[0,31,60,91,121,152,182,213,244,274,305,335],gr=[0,31,59,90,120,151,181,212,243,273,304,334];function _r(i,e){i=Ci(i),e>>>=0,i=new Date(1e3*i),F()[e>>>2>>>0]=i.getSeconds(),F()[e+4>>>2>>>0]=i.getMinutes(),F()[e+8>>>2>>>0]=i.getHours(),F()[e+12>>>2>>>0]=i.getDate(),F()[e+16>>>2>>>0]=i.getMonth(),F()[e+20>>>2>>>0]=i.getFullYear()-1900,F()[e+24>>>2>>>0]=i.getDay();var r=(vr(i.getFullYear())?pr:gr)[i.getMonth()]+i.getDate()-1|0;F()[e+28>>>2>>>0]=r,F()[e+36>>>2>>>0]=-60*i.getTimezoneOffset(),r=new Date(i.getFullYear(),6,1).getTimezoneOffset();var n=new Date(i.getFullYear(),0,1).getTimezoneOffset();i=0|(r!=n&&i.getTimezoneOffset()==Math.min(n,r)),F()[e+32>>>2>>>0]=i}function Cr(i){i>>>=0;var e=new Date(F()[i+20>>>2>>>0]+1900,F()[i+16>>>2>>>0],F()[i+12>>>2>>>0],F()[i+8>>>2>>>0],F()[i+4>>>2>>>0],F()[i>>>2>>>0],0),r=F()[i+32>>>2>>>0],n=e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset(),a=new Date(e.getFullYear(),0,1).getTimezoneOffset(),o=Math.min(a,t);return 0>r?F()[i+32>>>2>>>0]=Number(t!=a&&o==n):0<r!=(o==n)&&(t=Math.max(a,t),e.setTime(e.getTime()+6e4*((0<r?o:t)-n))),F()[i+24>>>2>>>0]=e.getDay(),r=(vr(e.getFullYear())?pr:gr)[e.getMonth()]+e.getDate()-1|0,F()[i+28>>>2>>>0]=r,F()[i>>>2>>>0]=e.getSeconds(),F()[i+4>>>2>>>0]=e.getMinutes(),F()[i+8>>>2>>>0]=e.getHours(),F()[i+12>>>2>>>0]=e.getDate(),F()[i+16>>>2>>>0]=e.getMonth(),F()[i+20>>>2>>>0]=e.getYear(),i=e.getTime(),BigInt(isNaN(i)?-1:i/1e3)}function hr(i,e,r,n,t,a,o){return l?ti(16,1,i,e,r,n,t,a,o):-52}function br(i,e,r,n,t,a){if(l)return ti(17,1,i,e,r,n,t,a)}var wr={},jr=()=>performance.timeOrigin+performance.now();function xr(i,e){if(l)return ti(18,1,i,e);if(wr[i]&&(clearTimeout(wr[i].id),delete wr[i]),!e)return 0;var r=setTimeout((()=>{delete wr[i],we((()=>Lt(i,performance.timeOrigin+performance.now())))}),e);return wr[i]={id:r,nd:e},0}function Or(i,e,r,n){i>>>=0,e>>>=0,r>>>=0,n>>>=0;var t=(new Date).getFullYear(),a=new Date(t,0,1).getTimezoneOffset();t=new Date(t,6,1).getTimezoneOffset();var o=Math.max(a,t);L()[i>>>2>>>0]=60*o,F()[e>>>2>>>0]=Number(a!=t),i=(e=i=>{var e=Math.abs(i);return`UTC${0<=i?\"-\":\"+\"}${String(Math.floor(e/60)).padStart(2,\"0\")}${String(e%60).padStart(2,\"0\")}`})(a),e=e(t),t<a?(fe(i,r,17),fe(e,n,17)):(fe(i,n,17),fe(e,r,17))}var Sr=()=>Date.now(),Tr=1;function Ar(i,e,r){if(!(0<=i&&3>=i))return 28;if(0===i)i=Date.now();else{if(!Tr)return 52;i=performance.timeOrigin+performance.now()}return S[r>>>0>>>3]=BigInt(Math.round(1e6*i)),0}var Br=[],Pr=(i,e)=>{Br.length=0;for(var r;r=k()[i++>>>0];){var n=105!=r;e+=(n&=112!=r)&&e%8?4:0,Br.push(112==r?L()[e>>>2>>>0]:106==r?S[e>>>3]:105==r?F()[e>>>2>>>0]:z()[e>>>3>>>0]),e+=n?8:4}return Br};function Er(i,e,r){return i>>>=0,e=Pr(e>>>0,r>>>0),ft[i](...e)}function Mr(i,e,r){return i>>>=0,e=Pr(e>>>0,r>>>0),ft[i](...e)}var Rr=()=>{};function Wr(i,e){return R(Oi(i>>>0,e>>>0))}var Dr=()=>{throw ni+=1,\"unwind\"};function Ur(){return 4294901760}var kr=()=>1,Ir=()=>navigator.hardwareConcurrency;function Gr(){return Z(\"Cannot use emscripten_pc_get_function without -sUSE_OFFSET_CONVERTER\"),0}function Fr(i){i>>>=0;var e=k().length;if(i<=e||4294901760<i)return!1;for(var r=1;4>=r;r*=2){var n=e*(1+.2/r);n=Math.min(n,i+100663296);i:{n=(Math.min(4294901760,65536*Math.ceil(Math.max(i,n)/65536))-p.buffer.byteLength+65535)/65536|0;try{p.grow(n),N();var t=1;break i}catch(i){}t=void 0}if(t)return!0}return!1}var Lr=()=>(Z(\"Cannot use convertFrameToPC (needed by __builtin_return_address) without -sUSE_OFFSET_CONVERTER\"),0),$r={},zr=i=>{i.forEach((i=>{var e=Lr();e&&($r[e]=i)}))};function Vr(){var i=Error().stack.toString().split(\"\\n\");return\"Error\"==i[0]&&i.shift(),zr(i),$r.oc=Lr(),$r.Xc=i,$r.oc}function Nr(i,e,r){if(i>>>=0,e>>>=0,$r.oc==i)var n=$r.Xc;else\"Error\"==(n=Error().stack.toString().split(\"\\n\"))[0]&&n.shift(),zr(n);for(var t=3;n[t]&&Lr()!=i;)++t;for(i=0;i<r&&n[i+t];++i)F()[e+4*i>>>2>>>0]=Lr();return i}var Hr=i=>{var e=se(i)+1,r=Ht(e);return fe(i,r,e),r},qr=[],Yr=(i,e)=>{qr[i>>>=0]=e},Qr=[],Xr=[],Zr=(i,e)=>{Xr[i]=new Promise((r=>e.finally((()=>r(i)))))},Jr=i=>{if(i)return qr[i>>>0]},Kr=(i,e,r)=>{L()[i>>>2>>>0]=e,L()[i+4>>>2>>>0]=r},en=i=>{var e=L()[i>>>2>>>0];return i=L()[i+4>>>2>>>0],Oi(e,i)},rn=i=>{var e=L()[i>>>2>>>0];return i=L()[i+4>>>2>>>0],e?Oi(e,i):0===i?\"\":void 0},nn=(i,e)=>{function r(r,n){r=i[r],F()[e+n>>>2>>>0]=r}function n(r,n){S[e+n>>>3]=BigInt(i[r])}r(\"maxTextureDimension1D\",4),r(\"maxTextureDimension2D\",8),r(\"maxTextureDimension3D\",12),r(\"maxTextureArrayLayers\",16),r(\"maxBindGroups\",20),r(\"maxBindGroupsPlusVertexBuffers\",24),r(\"maxBindingsPerBindGroup\",28),r(\"maxDynamicUniformBuffersPerPipelineLayout\",32),r(\"maxDynamicStorageBuffersPerPipelineLayout\",36),r(\"maxSampledTexturesPerShaderStage\",40),r(\"maxSamplersPerShaderStage\",44),r(\"maxStorageBuffersPerShaderStage\",48),r(\"maxStorageTexturesPerShaderStage\",52),r(\"maxUniformBuffersPerShaderStage\",56),r(\"minUniformBufferOffsetAlignment\",80),r(\"minStorageBufferOffsetAlignment\",84),n(\"maxUniformBufferBindingSize\",64),n(\"maxStorageBufferBindingSize\",72),r(\"maxVertexBuffers\",88),n(\"maxBufferSize\",96),r(\"maxVertexAttributes\",104),r(\"maxVertexBufferArrayStride\",108),r(\"maxInterStageShaderVariables\",112),r(\"maxColorAttachments\",116),r(\"maxColorAttachmentBytesPerSample\",120),r(\"maxComputeWorkgroupStorageSize\",124),r(\"maxComputeInvocationsPerWorkgroup\",128),r(\"maxComputeWorkgroupSizeX\",132),r(\"maxComputeWorkgroupSizeY\",136),r(\"maxComputeWorkgroupSizeZ\",140),r(\"maxComputeWorkgroupsPerDimension\",144),void 0!==i.kd&&r(\"maxImmediateSize\",148)},tn={undefined:1,pd:1,gd:2},an={1:\"validation\",2:\"out-of-memory\",3:\"internal\"},on=[,\"compatibility\",\"core\"],ln={1:\"depth-clip-control\",2:\"depth32float-stencil8\",3:\"timestamp-query\",4:\"texture-compression-bc\",5:\"texture-compression-bc-sliced-3d\",6:\"texture-compression-etc2\",7:\"texture-compression-astc\",8:\"texture-compression-astc-sliced-3d\",9:\"indirect-first-instance\",10:\"shader-f16\",11:\"rg11b10ufloat-renderable\",12:\"bgra8unorm-storage\",13:\"float32-filterable\",14:\"float32-blendable\",15:\"clip-distances\",16:\"dual-source-blending\",17:\"subgroups\",18:\"core-features-and-limits\",327692:\"chromium-experimental-unorm16-texture-formats\",327693:\"chromium-experimental-snorm16-texture-formats\",327732:\"chromium-experimental-multi-draw-indirect\"},un=[,\"low-power\",\"high-performance\"],fn={1:\"occlusion\",2:\"timestamp\"},sn={\"depth-clip-control\":\"1\",\"depth32float-stencil8\":\"2\",\"timestamp-query\":\"3\",\"texture-compression-bc\":\"4\",\"texture-compression-bc-sliced-3d\":\"5\",\"texture-compression-etc2\":\"6\",\"texture-compression-astc\":\"7\",\"texture-compression-astc-sliced-3d\":\"8\",\"indirect-first-instance\":\"9\",\"shader-f16\":\"10\",\"rg11b10ufloat-renderable\":\"11\",\"bgra8unorm-storage\":\"12\",\"float32-filterable\":\"13\",\"float32-blendable\":\"14\",\"clip-distances\":\"15\",\"dual-source-blending\":\"16\",md:\"17\",\"core-features-and-limits\":\"18\",\"chromium-experimental-unorm16-texture-formats\":\"327692\",\"chromium-experimental-snorm16-texture-formats\":\"327693\",\"chromium-experimental-multi-draw-indirect\":\"327732\"};function cn(i,e,r,n,t,a){e=Ci(e),r=Ci(r),n>>>=0,t>>>=0,a>>>=0,i=Jr(i>>>0);var o={};if(a){var l=L()[a+12>>>2>>>0];if(l){var u=L()[a+16>>>2>>>0];o.requiredFeatures=Array.from(L().subarray(u>>>2>>>0,u+4*l>>>2>>>0),(i=>ln[i]))}var f=L()[a+20>>>2>>>0];if(f){var s={};function c(i,e,r=!1){e=f+e,4294967295==(e=L()[e>>>2>>>0])||r&&0==e||(s[i]=e)}function d(i,e){e=f+e;var r=L()[e>>>2>>>0],n=L()[e+4>>>2>>>0];4294967295==r&&4294967295==n||(s[i]=4294967296*L()[e+4>>>2>>>0]+L()[e>>>2>>>0])}c(\"maxTextureDimension1D\",4),c(\"maxTextureDimension2D\",8),c(\"maxTextureDimension3D\",12),c(\"maxTextureArrayLayers\",16),c(\"maxBindGroups\",20),c(\"maxBindGroupsPlusVertexBuffers\",24),c(\"maxDynamicUniformBuffersPerPipelineLayout\",32),c(\"maxDynamicStorageBuffersPerPipelineLayout\",36),c(\"maxSampledTexturesPerShaderStage\",40),c(\"maxSamplersPerShaderStage\",44),c(\"maxStorageBuffersPerShaderStage\",48),c(\"maxStorageTexturesPerShaderStage\",52),c(\"maxUniformBuffersPerShaderStage\",56),c(\"minUniformBufferOffsetAlignment\",80),c(\"minStorageBufferOffsetAlignment\",84),d(\"maxUniformBufferBindingSize\",64),d(\"maxStorageBufferBindingSize\",72),c(\"maxVertexBuffers\",88),d(\"maxBufferSize\",96),c(\"maxVertexAttributes\",104),c(\"maxVertexBufferArrayStride\",108),c(\"maxInterStageShaderVariables\",112),c(\"maxColorAttachments\",116),c(\"maxColorAttachmentBytesPerSample\",120),c(\"maxComputeWorkgroupStorageSize\",124),c(\"maxComputeInvocationsPerWorkgroup\",128),c(\"maxComputeWorkgroupSizeX\",132),c(\"maxComputeWorkgroupSizeY\",136),c(\"maxComputeWorkgroupSizeZ\",140),c(\"maxComputeWorkgroupsPerDimension\",144),c(\"maxImmediateSize\",148,!0),o.requiredLimits=s}(l=L()[a+24>>>2>>>0])&&(l={label:rn(l+4)},o.defaultQueue=l),o.label=rn(a+4)}ni+=1,Zr(e,i.requestDevice(o).then((i=>{--ni,Yr(t,i.queue),Yr(n,i),r&&(ni+=1,Zr(r,i.lost.then((e=>{--ni,i.onuncapturederror=()=>{};var n=qt(),t=Hr(e.message);Pt(r,tn[e.reason],t),Nt(n)})))),i.onuncapturederror=i=>{var e=5;i.error instanceof GPUValidationError?e=2:i.error instanceof GPUOutOfMemoryError?e=3:i.error instanceof GPUInternalError&&(e=4);var r=qt();i=Hr(i.error.message),Dt(n,e,i),Nt(r)},Wt(e,1,n,0)}),(i=>{--ni;var t=qt();i=Hr(i.message),Wt(e,3,n,i),r&&Pt(r,4,i),Nt(t)})))}function dn(i){var e=Jr(i>>>=0),r=Qr[i];if(r){for(var n=0;n<r.length;++n)r[n]();delete Qr[i]}e.destroy()}var yn=()=>{var i=\"getMappedRange size=0 no longer means WGPU_WHOLE_MAP_SIZE\";yn.kc||(yn.kc={}),yn.kc[i]||(yn.kc[i]=1,R(i))};function mn(i,e,r){e>>>=0,r>>>=0;var n=Jr(i>>>=0);0===r&&yn(),4294967295==r&&(r=void 0);try{var t=n.getMappedRange(e,r)}catch(i){return 0}var a=zt(16,t.byteLength);return k().set(new Uint8Array(t),a>>>0),Qr[i].push((()=>pt(a))),a}function vn(i,e,r){e>>>=0,r>>>=0;var n=Jr(i>>>=0);0===r&&yn(),4294967295==r&&(r=void 0);try{var t=n.getMappedRange(e,r)}catch(i){return 0}var a=zt(16,t.byteLength);return k().fill(0,a,t.byteLength),Qr[i].push((()=>{new Uint8Array(t).set(k().subarray(a>>>0,a+t.byteLength>>>0)),pt(a)})),a}function pn(i,e,r,n,t){i>>>=0,e=Ci(e),r=Ci(r),t>>>=0;var a=Jr(i);Qr[i]=[],4294967295==t&&(t=void 0),ni+=1,Zr(e,a.mapAsync(r,n>>>0,t).then((()=>{--ni,Et(e,1,0)}),(r=>{--ni,qt();var n=Hr(r.message);Et(e,\"AbortError\"===r.name?4:\"OperationError\"===r.name?3:0,n),delete Qr[i]})))}function gn(i){var e=Jr(i>>>=0),r=Qr[i];if(r){for(var n=0;n<r.length;++n)r[n]();delete Qr[i],e.unmap()}}function _n(i){delete qr[i>>>0]}function Cn(i,e,r){i>>>=0,e>>>=0,r>>>=0;var n=!!L()[e+32>>>2>>>0];e={label:rn(e+4),usage:L()[e+16>>>2>>>0],size:4294967296*L()[e+28>>>2>>>0]+L()[e+24>>>2>>>0],mappedAtCreation:n},i=Jr(i);try{var t=i.createBuffer(e)}catch(i){return!1}return Yr(r,t),n&&(Qr[r]=[]),!0}function hn(i,e,r){i>>>=0,e>>>=0,r>>>=0;var n=L()[e>>>2>>>0],t=L()[n+4>>>2>>>0];e={label:rn(e+4),code:\"\"},2===t&&(e.code=en(n+8)),Yr(r,Jr(i).createShaderModule(e))}var bn=i=>{Jr(i).destroy()};function wn(i,e){e=Ci(e),i=Jr(i>>>0),ni+=1,Zr(e,i.popErrorScope().then((i=>{--ni;var r=5;i?i instanceof GPUValidationError?r=2:i instanceof GPUOutOfMemoryError?r=3:i instanceof GPUInternalError&&(r=4):r=1;var n=qt();i=i?Hr(i.message):0,Mt(e,1,r,i),Nt(n)}),(i=>{--ni;var r=qt();i=Hr(i.message),Mt(e,1,5,i),Nt(r)})))}function jn(i,e,r,n){if(e=Ci(e),n>>>=0,r>>>=0){var t=L()[r+4>>>2>>>0];t={featureLevel:on[t],powerPreference:un[L()[r+8>>>2>>>0]],forceFallbackAdapter:!!L()[r+12>>>2>>>0]},0!==(r=L()[r>>>2>>>0])&&(L(),t.rd=!!L()[r+8>>>2>>>0])}\"gpu\"in navigator?(ni+=1,Zr(e,navigator.gpu.requestAdapter(t).then((i=>{if(--ni,i)Yr(n,i),Rt(e,1,n,0);else{i=qt();var r=Hr(\"WebGPU not available on this browser (requestAdapter returned null)\");Rt(e,3,n,r),Nt(i)}}),(i=>{--ni;var r=qt();i=Hr(i.message),Rt(e,4,n,i),Nt(r)})))):(r=qt(),t=Hr(\"WebGPU not available on this browser (navigator.gpu is not available)\"),Rt(e,3,n,t),Nt(r))}function xn(i,e,r){return i>>>=0,e>>>=0,r>>>=0,Ne((async()=>{var n=[];if(r){var t=F()[r>>>2>>>0];n.length=e+1,n[e]=new Promise((i=>setTimeout(i,t,0)))}else n.length=e;for(var a=0;a<e;++a){var o=4294967296*L()[i+8*a+4>>>2>>>0]+L()[i+8*a>>>2>>>0];if(!(o in Xr))return o;n[a]=Xr[o]}return n=await Promise.race(n),delete Xr[n],n}))}var On,Sn={},Tn=()=>{if(!On){var i,e={USER:\"web_user\",LOGNAME:\"web_user\",PATH:\"/\",PWD:\"/\",HOME:\"/home/web_user\",LANG:(\"object\"==typeof navigator&&navigator.languages&&navigator.languages[0]||\"C\").replace(\"-\",\"_\")+\".UTF-8\",_:\"./this.program\"};for(i in Sn)void 0===Sn[i]?delete e[i]:e[i]=Sn[i];var r=[];for(i in e)r.push(`${i}=${e[i]}`);On=r}return On};function An(i,e){if(l)return ti(19,1,i,e);i>>>=0,e>>>=0;var r,n=0,t=0;for(r of Tn()){var a=e+n;L()[i+t>>>2>>>0]=a,n+=fe(r,a,1/0)+1,t+=4}return 0}function Bn(i,e){if(l)return ti(20,1,i,e);i>>>=0,e>>>=0;var r=Tn();for(var n of(L()[i>>>2>>>0]=r.length,i=0,r))i+=se(n)+1;return L()[e>>>2>>>0]=i,0}function Pn(i){return l?ti(21,1,i):52}function En(i,e,r,n){return l?ti(22,1,i,e,r,n):52}function Mn(i,e,r,n){return l?ti(23,1,i,e,r,n):70}var Rn=[null,[],[]];function Wn(i,e,r,n){if(l)return ti(24,1,i,e,r,n);e>>>=0,r>>>=0,n>>>=0;for(var t=0,a=0;a<r;a++){var o=L()[e>>>2>>>0],u=L()[e+4>>>2>>>0];e+=8;for(var f=0;f<u;f++){var s=i,c=k()[o+f>>>0],d=Rn[s];0===c||10===c?((1===s?M:R)(xi(d)),d.length=0):d.push(c)}t+=u}return L()[n>>>2>>>0]=t,0}function Dn(i,e){return nn(Jr(i>>>0).limits,e>>>0),1}function Un(i,e){return Jr(i>>>0).features.has(ln[e])}function kn(i){return BigInt(Jr(i>>>0).size)}function In(i){return BigInt(Jr(i>>>0).usage)}function Gn(i,e){if(i>>>=0,e>>>=0){var r=rn(e+4);r={label:r,timestampWrites:e=0!==(e=L()[e+12>>>2>>>0])?{querySet:Jr(L()[e+4>>>2>>>0]),beginningOfPassWriteIndex:L()[e+8>>>2>>>0],endOfPassWriteIndex:L()[e+12>>>2>>>0]}:void 0}}return i=Jr(i),e=xt(0),Yr(e,i.beginComputePass(r)),e}function Fn(i,e,r,n,t,a){r=Ci(r),t=Ci(t),a=Ci(a),Jr(i>>>0).copyBufferToBuffer(Jr(e>>>0),r,Jr(n>>>0),t,a)}function Ln(i){i=Jr(i>>>0);var e=wt(0);return Yr(e,i.finish()),e}function $n(i,e,r,n,t,a){a=Ci(a),Jr(i>>>0).resolveQuerySet(Jr(e>>>0),r,n,Jr(t>>>0),a)}function zn(i,e,r,n){Jr(i>>>0).dispatchWorkgroups(e,r,n)}function Vn(i){Jr(i>>>0).end()}function Nn(i,e,r,n,t){n>>>=0,t>>>=0,i=Jr(i>>>0),r=Jr(r>>>0),0==n?i.setBindGroup(e,r):i.setBindGroup(e,r,L(),t>>>2,n)}function Hn(i,e){Jr(i>>>0).setPipeline(Jr(e>>>0))}function qn(i,e,r){Jr(i>>>0).qd(Jr(e>>>0),r)}function Yn(i,e){i=Jr(i>>>0);var r=bt(0);return Yr(r,i.getBindGroupLayout(e)),r}function Qn(i,e){i>>>=0;var r=rn(4+(e>>>=0)),n=Jr(L()[e+12>>>2>>>0]),t=L()[e+16>>>2>>>0];e=L()[e+20>>>2>>>0];for(var a=[],o=0;o<t;++o){var l=a,u=l.push,f=e+40*o,s=L()[f+8>>>2>>>0],c=L()[f+32>>>2>>>0],d=L()[f+36>>>2>>>0],y=L()[f+4>>>2>>>0];s?(c=f+24,-1==(c=L()[c>>>2>>>0]+4294967296*F()[c+4>>>2>>>0])&&(c=void 0),f={binding:y,resource:{buffer:Jr(s),offset:4294967296*L()[f+4+16>>>2>>>0]+L()[f+16>>>2>>>0],size:c}}):f=c?{binding:y,resource:Jr(c)}:{binding:y,resource:Jr(d)},u.call(l,f)}return r={label:r,layout:n,entries:a},i=Jr(i),n=ht(0),Yr(n,i.createBindGroup(r)),n}function Xn(i,e){var r;return i>>>=0,(e>>>=0)&&(r={label:rn(e+4)}),i=Jr(i),e=jt(0),Yr(e,i.createCommandEncoder(r)),e}function Zn(i,e){i>>>=0;var r=e>>>0;e=rn(r+4);var n=(n=L()[r+12>>>2>>>0])?Jr(n):\"auto\";if(r+=16){var t=Jr(L()[r+4>>>2>>>0]),a=L()[r+16>>>2>>>0],o=L()[r+20>>>2>>>0];if(a){for(var l={},u=0;u<a;++u){var f=o+24*u;l[en(f+4)]=z()[f+16>>>3>>>0]}a=l}else a=void 0;r={module:t,constants:a,entryPoint:rn(r+8)}}else r=void 0;return e={label:e,layout:n,compute:r},i=Jr(i),n=Ot(0),Yr(n,i.createComputePipeline(e)),n}function Jn(i,e){i>>>=0,e>>>=0,e={type:fn[L()[e+12>>>2>>>0]],count:L()[e+16>>>2>>>0]},i=Jr(i);var r=St(0);return Yr(r,i.createQuerySet(e)),r}function Kn(i,e){i=Jr(i>>>0).adapterInfo,e>>>=0,F()[e+52>>>2>>>0]=i.subgroupMinSize,F()[e+56>>>2>>>0]=i.subgroupMaxSize;var r=i.vendor+i.architecture+i.device+i.description,n=se(r)+1,t=gt(n);return t&&fe(r,t,n),r=t,n=se(i.vendor),Kr(e+4,r,n),r+=n,n=se(i.architecture),Kr(e+12,r,n),r+=n,n=se(i.device),Kr(e+20,r,n),Kr(e+28,r+n,se(i.description)),F()[e+36>>>2>>>0]=2,i=i.isFallbackAdapter?3:4,F()[e+40>>>2>>>0]=i,F()[e+44>>>2>>>0]=0,F()[e+48>>>2>>>0]=0,1}function it(i,e){e>>>=0,i=Jr(i>>>0);var r=gt(4*i.features.size),n=0,t=0;i.features.forEach((i=>{void 0!==(i=sn[i])&&(F()[r+n>>>2>>>0]=i,n+=4,t++)})),L()[e+4>>>2>>>0]=r,L()[e>>>2>>>0]=t}function et(i,e){return nn(Jr(i>>>0).limits,e>>>0),1}function rt(i,e){return Jr(i>>>0).features.has(ln[e])}function nt(i,e){Jr(i>>>0).pushErrorScope(an[e])}function tt(i,e,r){e>>>=0,r>>>=0,i=Jr(i>>>0),e=Array.from(F().subarray(r>>>2>>>0,r+4*e>>>2>>>0),(i=>Jr(i))),i.submit(e)}function at(i,e,r,n,t){r=Ci(r),n>>>=0,t>>>=0,i=Jr(i>>>0),e=Jr(e>>>0),n=k().subarray(n>>>0,n+t>>>0),i.writeBuffer(e,r,n,0,t)}l||function(){for(var i=n.numThreads-1;i--;)vi();ei.push((()=>{Y++,function(i){l?i():Promise.all(ui.map(mi)).then(i)}((()=>X()))}))}();for(var ot=Array(256),lt=0;256>lt;++lt)ot[lt]=String.fromCharCode(lt);Gi=ot,Ji.push(0,1,void 0,1,null,1,!0,1,!1,1),n.count_emval_handles=()=>Ji.length/2-5-Zi.length,l||(p=new WebAssembly.Memory({initial:256,maximum:65536,shared:!0}),N()),n.wasmBinary&&(v=n.wasmBinary),n.stackSave=()=>qt(),n.stackRestore=i=>Nt(i),n.stackAlloc=i=>Ht(i),n.setValue=function(i,e,r=\"i8\"){switch(r.endsWith(\"*\")&&(r=\"*\"),r){case\"i1\":case\"i8\":U()[i>>>0]=e;break;case\"i16\":I()[i>>>1>>>0]=e;break;case\"i32\":F()[i>>>2>>>0]=e;break;case\"i64\":S[i>>>3]=BigInt(e);break;case\"float\":$()[i>>>2>>>0]=e;break;case\"double\":z()[i>>>3>>>0]=e;break;case\"*\":L()[i>>>2>>>0]=e;break;default:Z(`invalid type for setValue: ${r}`)}},n.getValue=function(i,e=\"i8\"){switch(e.endsWith(\"*\")&&(e=\"*\"),e){case\"i1\":case\"i8\":return U()[i>>>0];case\"i16\":return I()[i>>>1>>>0];case\"i32\":return F()[i>>>2>>>0];case\"i64\":return S[i>>>3];case\"float\":return $()[i>>>2>>>0];case\"double\":return z()[i>>>3>>>0];case\"*\":return L()[i>>>2>>>0];default:Z(`invalid type for getValue: ${e}`)}},n.UTF8ToString=Oi,n.stringToUTF8=fe,n.lengthBytesUTF8=se;var ut=[ai,oi,bi,Si,Ti,Ai,Bi,Pi,Ei,Mi,Ri,Wi,Di,Ui,ki,Ii,hr,br,xr,An,Bn,Pn,En,Mn,Wn],ft={1048636:(i,e,r,t,a)=>{if(void 0===n||!n.fc)return 1;if((i=Oi(Number(i>>>0))).startsWith(\"./\")&&(i=i.substring(2)),!(i=n.fc.get(i)))return 2;if(e=Number(e>>>0),r=Number(r>>>0),t=Number(t>>>0),e+r>i.byteLength)return 3;try{const o=i.subarray(e,e+r);switch(a){case 0:k().set(o,t>>>0);break;case 1:n.Pc?n.Pc(t,o):n.jd(t,o);break;default:return 4}return 0}catch{return 4}},1049460:(i,e,r)=>{n.Rc(i,k().subarray(e>>>0,e+r>>>0))},1049524:()=>n.ed(),1049566:i=>{n.Qc(i)},1049603:()=>\"undefined\"!=typeof wasmOffsetConverter};function st(){return\"undefined\"!=typeof wasmOffsetConverter}var ct=await async function(){function i(i,e){return ct=i.exports,ct=function(){var i=ct,e={};for(let[r,n]of Object.entries(i))e[r]=\"function\"==typeof n?(...i)=>{Ge.push(r);try{return n(...i)}finally{W||(Ge.pop(),ke&&1===Ue&&0===Ge.length&&(Ue=0,ni+=1,De(Xt),\"undefined\"!=typeof Fibers&&Fibers.od()))}}:n;return e}(),ct=function(){var i=ct,e=i=>e=>i(e)>>>0,r=i=>()=>i()>>>0;return(i=Object.assign({},i)).ob=e(i.ob),i.Rb=r(i.Rb),i.Tb=e(i.Tb),i.Dc=(i=>(e,r)=>i(e,r)>>>0)(i.Dc),i.Gc=e(i.Gc),i.Hc=r(i.Hc),i.__cxa_get_exception_ptr=e(i.__cxa_get_exception_ptr),i}(),si.push(ct.vc),g=e,X(),ct}Y++;var e=J();if(n.instantiateWasm)return new Promise((r=>{n.instantiateWasm(e,((e,n)=>{r(i(e,n))}))}));if(l)return new Promise((e=>{B=r=>{var n=new WebAssembly.Instance(r,J());e(i(n,r))}}));q??=n.locateFile?n.locateFile?n.locateFile(\"ort-wasm-simd-threaded.asyncify.wasm\",m):m+\"ort-wasm-simd-threaded.asyncify.wasm\":new URL(\"ort-wasm-simd-threaded.asyncify.wasm\",import.meta.url).href;try{var t=await async function(i){var e=q;if(!v&&\"function\"==typeof WebAssembly.instantiateStreaming&&!D(e))try{var r=fetch(e,{credentials:\"same-origin\"});return await WebAssembly.instantiateStreaming(r,i)}catch(i){R(`wasm streaming compile failed: ${i}`),R(\"falling back to ArrayBuffer instantiation\")}return async function(i,e){try{var r=await async function(i){if(!v)try{var e=await s(i);return new Uint8Array(e)}catch{}if(i==q&&v)i=new Uint8Array(v);else{if(!c)throw\"both async and sync fetching of the wasm failed\";i=c(i)}return i}(i);return await WebAssembly.instantiate(r,e)}catch(i){R(`failed to asynchronously prepare wasm: ${i}`),Z(i)}}(e,i)}(e);return i(t.instance,t.module)}catch(i){return r(i),Promise.reject(i)}}(),dt=i=>(dt=ct.ob)(i),yt=()=>(yt=ct.pb)();n._OrtInit=(i,e)=>(n._OrtInit=ct.qb)(i,e),n._OrtGetLastError=(i,e)=>(n._OrtGetLastError=ct.rb)(i,e),n._OrtCreateSessionOptions=(i,e,r,t,a,o,l,u,f,s)=>(n._OrtCreateSessionOptions=ct.sb)(i,e,r,t,a,o,l,u,f,s),n._OrtAppendExecutionProvider=(i,e,r,t,a)=>(n._OrtAppendExecutionProvider=ct.tb)(i,e,r,t,a),n._OrtAddFreeDimensionOverride=(i,e,r)=>(n._OrtAddFreeDimensionOverride=ct.ub)(i,e,r),n._OrtAddSessionConfigEntry=(i,e,r)=>(n._OrtAddSessionConfigEntry=ct.vb)(i,e,r),n._OrtReleaseSessionOptions=i=>(n._OrtReleaseSessionOptions=ct.wb)(i),n._OrtCreateSession=(i,e,r)=>(n._OrtCreateSession=ct.xb)(i,e,r),n._OrtReleaseSession=i=>(n._OrtReleaseSession=ct.yb)(i),n._OrtGetInputOutputCount=(i,e,r)=>(n._OrtGetInputOutputCount=ct.zb)(i,e,r),n._OrtGetInputOutputMetadata=(i,e,r,t)=>(n._OrtGetInputOutputMetadata=ct.Ab)(i,e,r,t),n._OrtFree=i=>(n._OrtFree=ct.Bb)(i),n._OrtCreateTensor=(i,e,r,t,a,o)=>(n._OrtCreateTensor=ct.Cb)(i,e,r,t,a,o),n._OrtGetTensorData=(i,e,r,t,a)=>(n._OrtGetTensorData=ct.Db)(i,e,r,t,a),n._OrtReleaseTensor=i=>(n._OrtReleaseTensor=ct.Eb)(i),n._OrtCreateRunOptions=(i,e,r,t)=>(n._OrtCreateRunOptions=ct.Fb)(i,e,r,t),n._OrtAddRunConfigEntry=(i,e,r)=>(n._OrtAddRunConfigEntry=ct.Gb)(i,e,r),n._OrtReleaseRunOptions=i=>(n._OrtReleaseRunOptions=ct.Hb)(i),n._OrtCreateBinding=i=>(n._OrtCreateBinding=ct.Ib)(i),n._OrtBindInput=(i,e,r)=>(n._OrtBindInput=ct.Jb)(i,e,r),n._OrtBindOutput=(i,e,r,t)=>(n._OrtBindOutput=ct.Kb)(i,e,r,t),n._OrtClearBoundOutputs=i=>(n._OrtClearBoundOutputs=ct.Lb)(i),n._OrtReleaseBinding=i=>(n._OrtReleaseBinding=ct.Mb)(i),n._OrtRunWithBinding=(i,e,r,t,a)=>(n._OrtRunWithBinding=ct.Nb)(i,e,r,t,a),n._OrtRun=(i,e,r,t,a,o,l,u)=>(n._OrtRun=ct.Ob)(i,e,r,t,a,o,l,u),n._OrtEndProfiling=i=>(n._OrtEndProfiling=ct.Pb)(i);var mt=n._OrtGetWebGpuDevice=i=>(mt=n._OrtGetWebGpuDevice=ct.Qb)(i),vt=()=>(vt=ct.Rb)(),pt=n._free=i=>(pt=n._free=ct.Sb)(i),gt=n._malloc=i=>(gt=n._malloc=ct.Tb)(i),_t=n._wgpuBufferRelease=i=>(_t=n._wgpuBufferRelease=ct.Ub)(i),Ct=n._wgpuCreateInstance=i=>(Ct=n._wgpuCreateInstance=ct.Vb)(i),ht=i=>(ht=ct.Wb)(i),bt=i=>(bt=ct.Xb)(i),wt=i=>(wt=ct.Yb)(i),jt=i=>(jt=ct.Zb)(i),xt=i=>(xt=ct._b)(i),Ot=i=>(Ot=ct.$b)(i),St=i=>(St=ct.bc)(i),Tt=(i,e)=>(Tt=ct.lc)(i,e),At=(i,e)=>(At=ct.mc)(i,e),Bt=i=>(Bt=ct.nc)(i),Pt=(i,e,r)=>(Pt=ct.pc)(i,e,r),Et=(i,e,r)=>(Et=ct.qc)(i,e,r),Mt=(i,e,r,n)=>(Mt=ct.rc)(i,e,r,n),Rt=(i,e,r,n)=>(Rt=ct.sc)(i,e,r,n),Wt=(i,e,r,n)=>(Wt=ct.tc)(i,e,r,n),Dt=(i,e,r)=>(Dt=ct.uc)(i,e,r),Ut=(i,e,r,n,t,a)=>(Ut=ct.wc)(i,e,r,n,t,a),kt=()=>(kt=ct.xc)(),It=(i,e,r,n,t)=>(It=ct.yc)(i,e,r,n,t),Gt=i=>(Gt=ct.zc)(i),Ft=i=>(Ft=ct.Ac)(i),Lt=(i,e)=>(Lt=ct.Bc)(i,e),$t=()=>($t=ct.Cc)(),zt=(i,e)=>(zt=ct.Dc)(i,e),Vt=(i,e)=>(Vt=ct.Ec)(i,e),Nt=i=>(Nt=ct.Fc)(i),Ht=i=>(Ht=ct.Gc)(i),qt=()=>(qt=ct.Hc)(),Yt=n.dynCall_ii=(i,e)=>(Yt=n.dynCall_ii=ct.Ic)(i,e);n.dynCall_viiii=(i,e,r,t,a)=>(n.dynCall_viiii=ct.dynCall_viiii)(i,e,r,t,a),n.dynCall_viiiii=(i,e,r,t,a,o)=>(n.dynCall_viiiii=ct.dynCall_viiiii)(i,e,r,t,a,o),n.dynCall_viii=(i,e,r,t)=>(n.dynCall_viii=ct.Jc)(i,e,r,t),n.dynCall_vi=(i,e)=>(n.dynCall_vi=ct.dynCall_vi)(i,e),n.dynCall_viijj=(i,e,r,t,a)=>(n.dynCall_viijj=ct.dynCall_viijj)(i,e,r,t,a),n.dynCall_viiiiii=(i,e,r,t,a,o,l)=>(n.dynCall_viiiiii=ct.dynCall_viiiiii)(i,e,r,t,a,o,l),n.dynCall_viiiiiiii=(i,e,r,t,a,o,l,u,f)=>(n.dynCall_viiiiiiii=ct.dynCall_viiiiiiii)(i,e,r,t,a,o,l,u,f),n.dynCall_i=i=>(n.dynCall_i=ct.dynCall_i)(i),n.dynCall_vii=(i,e,r)=>(n.dynCall_vii=ct.dynCall_vii)(i,e,r),n.dynCall_fffffff=(i,e,r,t,a,o,l)=>(n.dynCall_fffffff=ct.dynCall_fffffff)(i,e,r,t,a,o,l),n.dynCall_iiiii=(i,e,r,t,a)=>(n.dynCall_iiiii=ct.dynCall_iiiii)(i,e,r,t,a),n.dynCall_iii=(i,e,r)=>(n.dynCall_iii=ct.dynCall_iii)(i,e,r),n.dynCall_iiiiii=(i,e,r,t,a,o)=>(n.dynCall_iiiiii=ct.dynCall_iiiiii)(i,e,r,t,a,o),n.dynCall_iiiiiiii=(i,e,r,t,a,o,l,u)=>(n.dynCall_iiiiiiii=ct.dynCall_iiiiiiii)(i,e,r,t,a,o,l,u),n.dynCall_iiiiiii=(i,e,r,t,a,o,l)=>(n.dynCall_iiiiiii=ct.dynCall_iiiiiii)(i,e,r,t,a,o,l),n.dynCall_iiii=(i,e,r,t)=>(n.dynCall_iiii=ct.dynCall_iiii)(i,e,r,t),n.dynCall_vfiii=(i,e,r,t,a)=>(n.dynCall_vfiii=ct.dynCall_vfiii)(i,e,r,t,a),n.dynCall_viiiiff=(i,e,r,t,a,o,l)=>(n.dynCall_viiiiff=ct.dynCall_viiiiff)(i,e,r,t,a,o,l),n.dynCall_viiiiiff=(i,e,r,t,a,o,l,u)=>(n.dynCall_viiiiiff=ct.dynCall_viiiiiff)(i,e,r,t,a,o,l,u),n.dynCall_ffff=(i,e,r,t)=>(n.dynCall_ffff=ct.dynCall_ffff)(i,e,r,t),n.dynCall_viiff=(i,e,r,t,a)=>(n.dynCall_viiff=ct.dynCall_viiff)(i,e,r,t,a),n.dynCall_jjjjjjj=(i,e,r,t,a,o,l)=>(n.dynCall_jjjjjjj=ct.dynCall_jjjjjjj)(i,e,r,t,a,o,l),n.dynCall_jjjjjj=(i,e,r,t,a,o)=>(n.dynCall_jjjjjj=ct.dynCall_jjjjjj)(i,e,r,t,a,o),n.dynCall_iijjii=(i,e,r,t,a,o)=>(n.dynCall_iijjii=ct.dynCall_iijjii)(i,e,r,t,a,o),n.dynCall_viiiiiiiiiiiii=(i,e,r,t,a,o,l,u,f,s,c,d,y,m)=>(n.dynCall_viiiiiiiiiiiii=ct.dynCall_viiiiiiiiiiiii)(i,e,r,t,a,o,l,u,f,s,c,d,y,m),n.dynCall_viiiiiiiiii=(i,e,r,t,a,o,l,u,f,s,c)=>(n.dynCall_viiiiiiiiii=ct.dynCall_viiiiiiiiii)(i,e,r,t,a,o,l,u,f,s,c),n.dynCall_viiiiiiiiiii=(i,e,r,t,a,o,l,u,f,s,c,d)=>(n.dynCall_viiiiiiiiiii=ct.dynCall_viiiiiiiiiii)(i,e,r,t,a,o,l,u,f,s,c,d),n.dynCall_viiiiiiiiiiii=(i,e,r,t,a,o,l,u,f,s,c,d,y)=>(n.dynCall_viiiiiiiiiiii=ct.dynCall_viiiiiiiiiiii)(i,e,r,t,a,o,l,u,f,s,c,d,y),n.dynCall_viiiiiiiiiiiiiiiiii=(i,e,r,t,a,o,l,u,f,s,c,d,y,m,v,p,g,_,C)=>(n.dynCall_viiiiiiiiiiiiiiiiii=ct.dynCall_viiiiiiiiiiiiiiiiii)(i,e,r,t,a,o,l,u,f,s,c,d,y,m,v,p,g,_,C),n.dynCall_viiiiiiiii=(i,e,r,t,a,o,l,u,f,s)=>(n.dynCall_viiiiiiiii=ct.dynCall_viiiiiiiii)(i,e,r,t,a,o,l,u,f,s),n.dynCall_viiiiiiiiiiiiiiiiiii=(i,e,r,t,a,o,l,u,f,s,c,d,y,m,v,p,g,_,C,h)=>(n.dynCall_viiiiiiiiiiiiiiiiiii=ct.dynCall_viiiiiiiiiiiiiiiiiii)(i,e,r,t,a,o,l,u,f,s,c,d,y,m,v,p,g,_,C,h),n.dynCall_viiiiiii=(i,e,r,t,a,o,l,u)=>(n.dynCall_viiiiiii=ct.dynCall_viiiiiii)(i,e,r,t,a,o,l,u),n.dynCall_viiiiiiiiiiiiiii=(i,e,r,t,a,o,l,u,f,s,c,d,y,m,v,p)=>(n.dynCall_viiiiiiiiiiiiiii=ct.dynCall_viiiiiiiiiiiiiii)(i,e,r,t,a,o,l,u,f,s,c,d,y,m,v,p),n.dynCall_jiji=(i,e,r,t)=>(n.dynCall_jiji=ct.dynCall_jiji)(i,e,r,t),n.dynCall_v=i=>(n.dynCall_v=ct.dynCall_v)(i),n.dynCall_iidiiii=(i,e,r,t,a,o,l)=>(n.dynCall_iidiiii=ct.dynCall_iidiiii)(i,e,r,t,a,o,l),n.dynCall_ji=(i,e)=>(n.dynCall_ji=ct.dynCall_ji)(i,e),n.dynCall_vij=(i,e,r)=>(n.dynCall_vij=ct.dynCall_vij)(i,e,r),n.dynCall_viiijii=(i,e,r,t,a,o,l)=>(n.dynCall_viiijii=ct.dynCall_viiijii)(i,e,r,t,a,o,l),n.dynCall_viijiiiiiiiiiiiiii=(i,e,r,t,a,o,l,u,f,s,c,d,y,m,v,p,g,_)=>(n.dynCall_viijiiiiiiiiiiiiii=ct.dynCall_viijiiiiiiiiiiiiii)(i,e,r,t,a,o,l,u,f,s,c,d,y,m,v,p,g,_),n.dynCall_viiiji=(i,e,r,t,a,o)=>(n.dynCall_viiiji=ct.dynCall_viiiji)(i,e,r,t,a,o),n.dynCall_jfi=(i,e,r)=>(n.dynCall_jfi=ct.dynCall_jfi)(i,e,r),n.dynCall_fif=(i,e,r)=>(n.dynCall_fif=ct.dynCall_fif)(i,e,r),n.dynCall_jii=(i,e,r)=>(n.dynCall_jii=ct.dynCall_jii)(i,e,r),n.dynCall_viiiijii=(i,e,r,t,a,o,l,u)=>(n.dynCall_viiiijii=ct.dynCall_viiiijii)(i,e,r,t,a,o,l,u),n.dynCall_iij=(i,e,r)=>(n.dynCall_iij=ct.dynCall_iij)(i,e,r),n.dynCall_viji=(i,e,r,t)=>(n.dynCall_viji=ct.dynCall_viji)(i,e,r,t),n.dynCall_iiiiiiiii=(i,e,r,t,a,o,l,u,f)=>(n.dynCall_iiiiiiiii=ct.dynCall_iiiiiiiii)(i,e,r,t,a,o,l,u,f),n.dynCall_iiij=(i,e,r,t)=>(n.dynCall_iiij=ct.dynCall_iiij)(i,e,r,t),n.dynCall_iiiiiiiiii=(i,e,r,t,a,o,l,u,f,s)=>(n.dynCall_iiiiiiiiii=ct.dynCall_iiiiiiiiii)(i,e,r,t,a,o,l,u,f,s),n.dynCall_iiiiiiiiiiiii=(i,e,r,t,a,o,l,u,f,s,c,d,y)=>(n.dynCall_iiiiiiiiiiiii=ct.dynCall_iiiiiiiiiiiii)(i,e,r,t,a,o,l,u,f,s,c,d,y),n.dynCall_iiiiiiiiiii=(i,e,r,t,a,o,l,u,f,s,c)=>(n.dynCall_iiiiiiiiiii=ct.dynCall_iiiiiiiiiii)(i,e,r,t,a,o,l,u,f,s,c),n.dynCall_iijii=(i,e,r,t,a)=>(n.dynCall_iijii=ct.dynCall_iijii)(i,e,r,t,a),n.dynCall_fiii=(i,e,r,t)=>(n.dynCall_fiii=ct.dynCall_fiii)(i,e,r,t),n.dynCall_viijii=(i,e,r,t,a,o)=>(n.dynCall_viijii=ct.dynCall_viijii)(i,e,r,t,a,o),n.dynCall_viij=(i,e,r,t)=>(n.dynCall_viij=ct.dynCall_viij)(i,e,r,t),n.dynCall_jiij=(i,e,r,t)=>(n.dynCall_jiij=ct.dynCall_jiij)(i,e,r,t),n.dynCall_fi=(i,e)=>(n.dynCall_fi=ct.dynCall_fi)(i,e),n.dynCall_fii=(i,e,r)=>(n.dynCall_fii=ct.dynCall_fii)(i,e,r),n.dynCall_dii=(i,e,r)=>(n.dynCall_dii=ct.dynCall_dii)(i,e,r),n.dynCall_fiiii=(i,e,r,t,a)=>(n.dynCall_fiiii=ct.dynCall_fiiii)(i,e,r,t,a),n.dynCall_viiiiiiiiiiiiii=(i,e,r,t,a,o,l,u,f,s,c,d,y,m,v)=>(n.dynCall_viiiiiiiiiiiiii=ct.dynCall_viiiiiiiiiiiiii)(i,e,r,t,a,o,l,u,f,s,c,d,y,m,v),n.dynCall_viiiiiiiiiiiiiiiiiiii=(i,e,r,t,a,o,l,u,f,s,c,d,y,m,v,p,g,_,C,h,b)=>(n.dynCall_viiiiiiiiiiiiiiiiiiii=ct.dynCall_viiiiiiiiiiiiiiiiiiii)(i,e,r,t,a,o,l,u,f,s,c,d,y,m,v,p,g,_,C,h,b),n.dynCall_viiiiiiiiiiiiiiii=(i,e,r,t,a,o,l,u,f,s,c,d,y,m,v,p,g)=>(n.dynCall_viiiiiiiiiiiiiiii=ct.dynCall_viiiiiiiiiiiiiiii)(i,e,r,t,a,o,l,u,f,s,c,d,y,m,v,p,g),n.dynCall_iif=(i,e,r)=>(n.dynCall_iif=ct.dynCall_iif)(i,e,r),n.dynCall_jiiii=(i,e,r,t,a)=>(n.dynCall_jiiii=ct.dynCall_jiiii)(i,e,r,t,a),n.dynCall_jiii=(i,e,r,t)=>(n.dynCall_jiii=ct.dynCall_jiii)(i,e,r,t),n.dynCall_viif=(i,e,r,t)=>(n.dynCall_viif=ct.dynCall_viif)(i,e,r,t),n.dynCall_viiij=(i,e,r,t,a)=>(n.dynCall_viiij=ct.dynCall_viiij)(i,e,r,t,a),n.dynCall_iiiiij=(i,e,r,t,a,o)=>(n.dynCall_iiiiij=ct.dynCall_iiiiij)(i,e,r,t,a,o),n.dynCall_iiiiid=(i,e,r,t,a,o)=>(n.dynCall_iiiiid=ct.dynCall_iiiiid)(i,e,r,t,a,o),n.dynCall_iiiiijj=(i,e,r,t,a,o,l)=>(n.dynCall_iiiiijj=ct.dynCall_iiiiijj)(i,e,r,t,a,o,l),n.dynCall_iiiiiijj=(i,e,r,t,a,o,l,u)=>(n.dynCall_iiiiiijj=ct.dynCall_iiiiiijj)(i,e,r,t,a,o,l,u);var Qt=i=>(Qt=ct.Kc)(i),Xt=()=>(Xt=ct.Lc)(),Zt=i=>(Zt=ct.Mc)(i),Jt=()=>(Jt=ct.Nc)();return function i(){if(0<Y)Q=i;else if(l)e(n),H();else{for(;0<ei.length;)ei.shift()(n);0<Y?Q=i:(n.calledRun=!0,W||(H(),e(n)))}}(),n.PTR_SIZE=4,n.webgpuInit=i=>{const e=new WeakMap;let r,t,a=1;n.webgpuRegisterDevice=i=>{if(void 0!==t)throw Error(\"another WebGPU EP inference session is being created.\");if(i){var n=e.get(i);if(!n){const r=((i,e=0)=>{var r=Bt(e);return e=At(e,r),Yr(r,i.queue),Yr(e,i),e})(i,n=Ct(0));n=[a++,n,r],e.set(i,n)}return r=i,t=n[0],n}r=void 0,t=0};const o=new Map;n.webgpuOnCreateSession=e=>{if(void 0!==t){var n=t;if(t=void 0,e){const t=mt(n);o.set(e,t),0===n&&i(r??Jr(t))}r=void 0}},n.webgpuOnReleaseSession=i=>{o.delete(i)};const l=Symbol(\"gpuBufferMetadata\");n.webgpuRegisterBuffer=(i,e,r)=>{if(r)return i[l]=[r,NaN],r;if(r=i[l])return r[1]++,r[0];if(void 0===(e=o.get(e)))throw Error(\"Invalid session handle passed to webgpuRegisterBuffer\");return e=((i,e=0)=>(\"pending\"!=i.mapState||Z(),e=Tt(e,\"mapped\"==i.mapState?3:1),Yr(e,i),\"mapped\"==i.mapState&&(Qr[e]=[]),e))(i,e),i[l]=[e,1],e},n.webgpuUnregisterBuffer=i=>{const e=i[l];if(!e)throw Error(\"Buffer is not registered\");e[1]--,0===e[1]&&(_t(e[0]),delete i[l])},n.webgpuGetBuffer=i=>Jr(i),n.webgpuCreateDownloader=(i,e,r)=>{if(void 0===(r=o.get(r)))throw Error(\"Invalid session handle passed to webgpuRegisterBuffer\");const n=Jr(r),t=16*Math.ceil(Number(e)/16);return async()=>{const r=n.createBuffer({size:t,usage:9});try{const a=n.createCommandEncoder();return a.copyBufferToBuffer(i,0,r,0,t),n.queue.submit([a.finish()]),await r.mapAsync(GPUMapMode.READ),r.getMappedRange().slice(0,e)}finally{r.destroy()}}},n.Pc=(i,e)=>{var n=e.buffer;const a=e.byteOffset,o=e.byteLength;if(e=16*Math.ceil(Number(o)/16),i=Jr(i),!r){var l=mt(t);r=Jr(l)}const u=(l=r.createBuffer({mappedAtCreation:!0,size:e,usage:6})).getMappedRange();new Uint8Array(u).set(new Uint8Array(n,a,o)),l.unmap(),(n=r.createCommandEncoder()).copyBufferToBuffer(l,0,i,0,e),r.queue.submit([n.finish()]),l.destroy()}},n.webnnInit=i=>{const e=i[0];[n.ed,n.Qc,n.webnnEnsureTensor,n.Rc,n.webnnDownloadTensor,n.dd,n.webnnEnableTraceEvent]=i.slice(1),n.webnnReleaseTensorId=n.Qc,n.webnnUploadTensor=n.Rc,n.webnnRegisterMLContext=n.dd,n.webnnOnRunStart=i=>e.onRunStart(i),n.webnnOnRunEnd=e.onRunEnd.bind(e),n.webnnOnReleaseSession=i=>{e.onReleaseSession(i)},n.webnnCreateMLTensorDownloader=(i,r)=>e.createMLTensorDownloader(i,r),n.webnnRegisterMLTensor=(i,r,n,t)=>e.registerMLTensor(i,r,n,t),n.webnnCreateMLContext=i=>e.createMLContext(i),n.webnnRegisterMLConstant=(i,r,t,a,o,l)=>e.registerMLConstant(i,r,t,a,o,n.fc,l),n.webnnRegisterGraphInput=e.registerGraphInput.bind(e),n.webnnIsGraphInput=e.isGraphInput.bind(e),n.webnnRegisterGraphOutput=e.registerGraphOutput.bind(e),n.webnnIsGraphOutput=e.isGraphOutput.bind(e),n.webnnCreateTemporaryTensor=e.createTemporaryTensor.bind(e),n.webnnIsGraphInputOutputTypeSupported=e.isGraphInputOutputTypeSupported.bind(e)},t};export default i;var e=globalThis.self?.name?.startsWith(\"em-pthread\");e&&i();","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport type { OrtWasmModule } from './wasm-types';\nimport { isNode } from './wasm-utils-env';\n\n/**\n * The origin of the current location.\n *\n * In Node.js, this is undefined.\n */\nconst origin = isNode || typeof location === 'undefined' ? undefined : location.origin;\n\n/**\n * Some bundlers (eg. Webpack) will rewrite `import.meta.url` to a file URL at compile time.\n *\n * This function checks if `import.meta.url` starts with `file:`, but using the `>` and `<` operators instead of\n * `startsWith` function so that code minimizers can remove the dead code correctly.\n *\n * For example, if we use terser to minify the following code:\n * ```js\n * if (\"file://hard-coded-filename\".startsWith(\"file:\")) {\n *   console.log(1)\n * } else {\n *   console.log(2)\n * }\n *\n * if (\"file://hard-coded-filename\" > \"file:\" && \"file://hard-coded-filename\" < \"file;\") {\n *   console.log(3)\n * } else {\n *   console.log(4)\n * }\n * ```\n *\n * The minified code will be:\n * ```js\n * \"file://hard-coded-filename\".startsWith(\"file:\")?console.log(1):console.log(2),console.log(3);\n * ```\n *\n * (use Terser 5.39.0 with default options, https://try.terser.org/)\n *\n * @returns true if the import.meta.url is hardcoded as a file URI.\n */\nexport const isEsmImportMetaUrlHardcodedAsFileUri =\n  BUILD_DEFS.IS_ESM && BUILD_DEFS.ESM_IMPORT_META_URL! > 'file:' && BUILD_DEFS.ESM_IMPORT_META_URL! < 'file;';\n\nconst getScriptSrc = (): string | undefined => {\n  // if Nodejs, return undefined\n  if (isNode) {\n    return undefined;\n  }\n  // if It's ESM, use import.meta.url\n  if (BUILD_DEFS.IS_ESM) {\n    // For ESM, if the import.meta.url is a file URL, this usually means the bundler rewrites `import.meta.url` to\n    // the file path at compile time. In this case, this file path cannot be used to determine the runtime URL.\n    //\n    // We need to use the URL constructor like this:\n    // ```js\n    // new URL('actual-bundle-name.js', import.meta.url).href\n    // ```\n    // So that bundler can preprocess the URL correctly.\n    if (isEsmImportMetaUrlHardcodedAsFileUri) {\n      // if the rewritten URL is a relative path, we need to use the origin to resolve the URL.\n\n      // The following is a workaround for Vite.\n      //\n      // Vite uses a bundler(rollup/rolldown) that does not rewrite `import.meta.url` to a file URL. So in theory, this\n      // code path should not be executed in Vite. However, the bundler does not know it and it still try to load the\n      // following pattern:\n      // - `return new URL('filename', import.meta.url).href`\n      //\n      // By replacing the pattern above with the following code, we can skip the resource loading behavior:\n      // - `const URL2 = URL; return new URL2('filename', import.meta.url).href;`\n      //\n      // And it still works in Webpack.\n      const URL2 = URL;\n      return new URL(new URL2(BUILD_DEFS.BUNDLE_FILENAME, BUILD_DEFS.ESM_IMPORT_META_URL).href, origin).href;\n    }\n\n    return BUILD_DEFS.ESM_IMPORT_META_URL;\n  }\n\n  return typeof document !== 'undefined'\n    ? (document.currentScript as HTMLScriptElement)?.src\n    : // use `self.location.href` if available\n      typeof self !== 'undefined'\n      ? self.location?.href\n      : undefined;\n};\n\n/**\n * The classic script source URL. This is not always available in non ESModule environments.\n *\n * In Node.js, this is undefined.\n */\nexport const scriptSrc = getScriptSrc();\n\n/**\n * Infer the wasm path prefix from the script source URL.\n *\n * @returns The inferred wasm path prefix, or undefined if the script source URL is not available or is a blob URL.\n */\nexport const inferWasmPathPrefixFromScriptSrc = (): string | undefined => {\n  if (scriptSrc && !scriptSrc.startsWith('blob:')) {\n    return scriptSrc.substring(0, scriptSrc.lastIndexOf('/') + 1);\n  }\n  return undefined;\n};\n\n/**\n * Check if the given filename with prefix is from the same origin.\n */\nconst isSameOrigin = (filename: string, prefixOverride?: string) => {\n  try {\n    const baseUrl = prefixOverride ?? scriptSrc;\n    const url = baseUrl ? new URL(filename, baseUrl) : new URL(filename);\n    return url.origin === origin;\n  } catch {\n    return false;\n  }\n};\n\n/**\n * Normalize the inputs to an absolute URL with the given prefix override. If failed, return undefined.\n */\nconst normalizeUrl = (filename: string, prefixOverride?: string) => {\n  const baseUrl = prefixOverride ?? scriptSrc;\n  try {\n    const url = baseUrl ? new URL(filename, baseUrl) : new URL(filename);\n    return url.href;\n  } catch {\n    return undefined;\n  }\n};\n\n/**\n * Create a fallback URL if an absolute URL cannot be created by the normalizeUrl function.\n */\nconst fallbackUrl = (filename: string, prefixOverride?: string) => `${prefixOverride ?? './'}${filename}`;\n\n/**\n * This helper function is used to preload a module from a URL.\n *\n * If the origin of the worker URL is different from the current origin, the worker cannot be loaded directly.\n * See discussions in https://github.com/webpack-contrib/worker-loader/issues/154\n *\n * In this case, we will fetch the worker URL and create a new Blob URL with the same origin as a workaround.\n *\n * @param absoluteUrl - The absolute URL to preload.\n *\n * @returns - A promise that resolves to a new Blob URL\n */\nconst preload = async (absoluteUrl: string): Promise<string> => {\n  const response = await fetch(absoluteUrl, { credentials: 'same-origin' });\n  const blob = await response.blob();\n  return URL.createObjectURL(blob);\n};\n\n/**\n * This helper function is used to dynamically import a module from a URL.\n *\n * The build script has special handling for this function to ensure that the URL is not bundled into the final output.\n *\n * @param url - The URL to import.\n *\n * @returns - A promise that resolves to the default export of the module.\n */\nconst dynamicImportDefault = async <T>(url: string): Promise<T> =>\n  (await import(/* webpackIgnore: true */ url)).default;\n\n/**\n * The proxy worker factory imported from the proxy worker module.\n *\n * This is only available when the WebAssembly proxy is not disabled.\n */\nconst createProxyWorker: ((urlOverride?: string) => Worker) | undefined =\n  // eslint-disable-next-line @typescript-eslint/no-require-imports, @typescript-eslint/no-var-requires\n  BUILD_DEFS.DISABLE_WASM_PROXY ? undefined : require('./proxy-worker/main').default;\n\n/**\n * Import the proxy worker.\n *\n * This function will perform the following steps:\n * 1. If a preload is needed, it will preload the module and return the object URL.\n * 2. Use the proxy worker factory to create the proxy worker.\n *\n * @returns - A promise that resolves to a tuple of 2 elements:\n *            - The object URL of the preloaded module, or undefined if no preload is needed.\n *            - The proxy worker.\n */\nexport const importProxyWorker = async (): Promise<[undefined | string, Worker]> => {\n  if (!scriptSrc) {\n    throw new Error('Failed to load proxy worker: cannot determine the script source URL.');\n  }\n\n  // If the script source is from the same origin, we can use the embedded proxy module directly.\n  if (isSameOrigin(scriptSrc)) {\n    return [undefined, createProxyWorker!()];\n  }\n\n  // Otherwise, need to preload\n  const url = await preload(scriptSrc);\n  return [url, createProxyWorker!(url)];\n};\n\n/**\n * The embedded WebAssembly module.\n *\n * This is only available in ESM and when embedding is not disabled.\n */\nconst embeddedWasmModule: EmscriptenModuleFactory<OrtWasmModule> | undefined =\n  BUILD_DEFS.IS_ESM && BUILD_DEFS.ENABLE_BUNDLE_WASM_JS\n    ? // eslint-disable-next-line @typescript-eslint/no-require-imports, @typescript-eslint/no-var-requires\n      require(\n        !BUILD_DEFS.DISABLE_JSEP\n          ? '../../dist/ort-wasm-simd-threaded.jsep.mjs'\n          : !BUILD_DEFS.DISABLE_WEBGPU\n            ? '../../dist/ort-wasm-simd-threaded.asyncify.mjs'\n            : '../../dist/ort-wasm-simd-threaded.mjs',\n      ).default\n    : undefined;\n\n/**\n * Import the WebAssembly module.\n *\n * This function will perform the following steps:\n * 1. If the embedded module exists and no custom URL is specified, use the embedded module.\n * 2. If a preload is needed, it will preload the module and return the object URL.\n * 3. Otherwise, it will perform a dynamic import of the module.\n *\n * @returns - A promise that resolves to a tuple of 2 elements:\n *            - The object URL of the preloaded module, or undefined if no preload is needed.\n *            - The default export of the module, which is a factory function to create the WebAssembly module.\n */\nexport const importWasmModule = async (\n  urlOverride: string | undefined,\n  prefixOverride: string | undefined,\n  isMultiThreaded: boolean,\n  isWasmOverridden: boolean,\n): Promise<[undefined | string, EmscriptenModuleFactory<OrtWasmModule>]> => {\n  //\n  // Check if we should use the embedded module.\n  //\n\n  // To use the embedded module, it should be available, and no URL override or prefix override should be specified.\n  let useEmbeddedModule = embeddedWasmModule && !(urlOverride || prefixOverride);\n  if (useEmbeddedModule) {\n    if (!scriptSrc) {\n      // no URL info available.\n      //\n      // Note: when the embedded module is available, it means the current script is ESM. Usually, in ESM, the\n      // `import.meta.url` is available. But in some cases (eg. Cloudflare Workers), the value of `import.meta.url`\n      // can be `null` or `undefined`. In this case, we can only load the embedded module when:\n      //\n      // 1. The WebAssembly module binary is overridden:\n      //    ```js\n      //    env.wasm.wasmPaths = undefined;  // or not specified\n      //    env.wasm.wasmBinary = /* a Uint8Array containing the WebAssembly binary */;\n      //    ```\n      //\n      // 2. The \".wasm\" only is overridden.\n      //    ```js\n      //    env.wasm.wasmPaths = { wasm: /* URL of the .wasm file */ };\n      //    ```\n      //\n      if (isWasmOverridden && !isMultiThreaded) {\n        useEmbeddedModule = true;\n      } else {\n        throw new Error('cannot determine the script source URL.');\n      }\n    } else {\n      // if the script source is available, we can check if it is from the same origin.\n      useEmbeddedModule = isSameOrigin(scriptSrc);\n    }\n  }\n  if (useEmbeddedModule) {\n    return [undefined, embeddedWasmModule!];\n  } else {\n    const wasmModuleFilename = !BUILD_DEFS.DISABLE_JSEP\n      ? 'ort-wasm-simd-threaded.jsep.mjs'\n      : !BUILD_DEFS.DISABLE_WEBGPU\n        ? 'ort-wasm-simd-threaded.asyncify.mjs'\n        : 'ort-wasm-simd-threaded.mjs';\n    const wasmModuleUrl = urlOverride ?? normalizeUrl(wasmModuleFilename, prefixOverride);\n    // need to preload if all of the following conditions are met:\n    // 1. not in Node.js.\n    //    - Node.js does not have the same origin policy for creating workers.\n    // 2. multi-threaded is enabled.\n    //    - If multi-threaded is disabled, no worker will be created. So we don't need to preload the module.\n    // 3. the absolute URL is available.\n    //    - If the absolute URL is failed to be created, the origin cannot be determined. In this case, we will not\n    //    preload the module.\n    // 4. the worker URL is not from the same origin.\n    //    - If the worker URL is from the same origin, we can create the worker directly.\n    const needPreload = !isNode && isMultiThreaded && wasmModuleUrl && !isSameOrigin(wasmModuleUrl, prefixOverride);\n    const url = needPreload\n      ? await preload(wasmModuleUrl)\n      : (wasmModuleUrl ?? fallbackUrl(wasmModuleFilename, prefixOverride));\n    return [needPreload ? url : undefined, await dynamicImportDefault<EmscriptenModuleFactory<OrtWasmModule>>(url)];\n  }\n};\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { Env } from 'onnxruntime-common';\n\nimport type { OrtWasmModule } from './wasm-types';\nimport { importWasmModule, inferWasmPathPrefixFromScriptSrc } from './wasm-utils-import';\n\nlet wasm: OrtWasmModule | undefined;\nlet initialized = false;\nlet initializing = false;\nlet aborted = false;\n\nconst isMultiThreadSupported = (): boolean => {\n  // If 'SharedArrayBuffer' is not available, WebAssembly threads will not work.\n  if (typeof SharedArrayBuffer === 'undefined') {\n    return false;\n  }\n\n  try {\n    // Test for transferability of SABs (for browsers. needed for Firefox)\n    // https://groups.google.com/forum/#!msg/mozilla.dev.platform/IHkBZlHETpA/dwsMNchWEQAJ\n    if (typeof MessageChannel !== 'undefined') {\n      new MessageChannel().port1.postMessage(new SharedArrayBuffer(1));\n    }\n\n    // Test for WebAssembly threads capability (for both browsers and Node.js)\n    // This typed array is a WebAssembly program containing threaded instructions.\n    return WebAssembly.validate(\n      new Uint8Array([\n        0, 97, 115, 109, 1, 0, 0, 0, 1, 4, 1, 96, 0, 0, 3, 2, 1, 0, 5, 4, 1, 3, 1, 1, 10, 11, 1, 9, 0, 65, 0, 254, 16,\n        2, 0, 26, 11,\n      ]),\n    );\n  } catch (e) {\n    return false;\n  }\n};\n\nconst isSimdSupported = (): boolean => {\n  try {\n    // Test for WebAssembly SIMD capability (for both browsers and Node.js)\n    // This typed array is a WebAssembly program containing SIMD instructions.\n\n    // The binary data is generated from the following code by wat2wasm:\n    //\n    // (module\n    //   (type $t0 (func))\n    //   (func $f0 (type $t0)\n    //     (drop\n    //       (i32x4.dot_i16x8_s\n    //         (i8x16.splat\n    //           (i32.const 0))\n    //         (v128.const i32x4 0x00000000 0x00000000 0x00000000 0x00000000)))))\n\n    return WebAssembly.validate(\n      new Uint8Array([\n        0, 97, 115, 109, 1, 0, 0, 0, 1, 4, 1, 96, 0, 0, 3, 2, 1, 0, 10, 30, 1, 28, 0, 65, 0, 253, 15, 253, 12, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 253, 186, 1, 26, 11,\n      ]),\n    );\n  } catch (e) {\n    return false;\n  }\n};\n\nconst isRelaxedSimdSupported = (): boolean => {\n  try {\n    // Test for WebAssembly Relaxed SIMD capability (for both browsers and Node.js)\n    // This typed array is a WebAssembly program containing Relaxed SIMD instructions.\n\n    // The binary data is generated from the following code by wat2wasm:\n    // (module\n    //   (func (result v128)\n    //      i32.const 1\n    //      i8x16.splat\n    //      i32.const 2\n    //      i8x16.splat\n    //      i32.const 3\n    //      i8x16.splat\n    //      i32x4.relaxed_dot_i8x16_i7x16_add_s\n    //   )\n    //  )\n    return WebAssembly.validate(\n      new Uint8Array([\n        0, 97, 115, 109, 1, 0, 0, 0, 1, 5, 1, 96, 0, 1, 123, 3, 2, 1, 0, 10, 19, 1, 17, 0, 65, 1, 253, 15, 65, 2, 253,\n        15, 65, 3, 253, 15, 253, 147, 2, 11,\n      ]),\n    );\n  } catch (e) {\n    return false;\n  }\n};\n\nexport const initializeWebAssembly = async (flags: Env.WebAssemblyFlags): Promise<void> => {\n  if (initialized) {\n    return Promise.resolve();\n  }\n  if (initializing) {\n    throw new Error(\"multiple calls to 'initializeWebAssembly()' detected.\");\n  }\n  if (aborted) {\n    throw new Error(\"previous call to 'initializeWebAssembly()' failed.\");\n  }\n\n  initializing = true;\n\n  // wasm flags are already initialized\n  const timeout = flags.initTimeout!;\n  let numThreads = flags.numThreads!;\n\n  // ensure SIMD is supported\n  if (flags.simd === false) {\n    // skip SIMD feature checking as it is disabled explicitly by user\n  } else if (flags.simd === 'relaxed') {\n    // check if relaxed SIMD is supported\n    if (!isRelaxedSimdSupported()) {\n      throw new Error('Relaxed WebAssembly SIMD is not supported in the current environment.');\n    }\n  } else if (!isSimdSupported()) {\n    throw new Error('WebAssembly SIMD is not supported in the current environment.');\n  }\n\n  // check if multi-threading is supported\n  const multiThreadSupported = isMultiThreadSupported();\n  if (numThreads > 1 && !multiThreadSupported) {\n    if (typeof self !== 'undefined' && !self.crossOriginIsolated) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        'env.wasm.numThreads is set to ' +\n          numThreads +\n          ', but this will not work unless you enable crossOriginIsolated mode. ' +\n          'See https://web.dev/cross-origin-isolation-guide/ for more info.',\n      );\n    }\n\n    // eslint-disable-next-line no-console\n    console.warn(\n      'WebAssembly multi-threading is not supported in the current environment. ' + 'Falling back to single-threading.',\n    );\n\n    // set flags.numThreads to 1 so that OrtInit() will not create a global thread pool.\n    flags.numThreads = numThreads = 1;\n  }\n\n  const wasmPaths = flags.wasmPaths;\n  const wasmPrefixOverride = typeof wasmPaths === 'string' ? wasmPaths : undefined;\n  const mjsPathOverrideFlag = (wasmPaths as Env.WasmFilePaths)?.mjs;\n  const mjsPathOverride = (mjsPathOverrideFlag as URL)?.href ?? mjsPathOverrideFlag;\n  const wasmPathOverrideFlag = (wasmPaths as Env.WasmFilePaths)?.wasm;\n  const wasmPathOverride = (wasmPathOverrideFlag as URL)?.href ?? wasmPathOverrideFlag;\n  const wasmBinaryOverride = flags.wasmBinary;\n\n  const [objectUrl, ortWasmFactory] = await importWasmModule(\n    mjsPathOverride,\n    wasmPrefixOverride,\n    numThreads > 1,\n    !!wasmBinaryOverride || !!wasmPathOverride,\n  );\n\n  let isTimeout = false;\n\n  const tasks: Array<Promise<void>> = [];\n\n  // promise for timeout\n  if (timeout > 0) {\n    tasks.push(\n      new Promise((resolve) => {\n        setTimeout(() => {\n          isTimeout = true;\n          resolve();\n        }, timeout);\n      }),\n    );\n  }\n\n  // promise for module initialization\n  tasks.push(\n    new Promise((resolve, reject) => {\n      const config: Partial<OrtWasmModule> = {\n        /**\n         * The number of threads. WebAssembly will create (Module.numThreads - 1) workers. If it is 1, no worker will be\n         * created.\n         */\n        numThreads,\n      };\n\n      if (wasmBinaryOverride) {\n        // Set a custom buffer which contains the WebAssembly binary. This will skip the wasm file fetching.\n        config.wasmBinary = wasmBinaryOverride;\n      } else if (wasmPathOverride || wasmPrefixOverride) {\n        // A callback function to locate the WebAssembly file. The function should return the full path of the file.\n        //\n        // Since Emscripten 3.1.58, this function is only called for the .wasm file.\n        config.locateFile = (fileName) => wasmPathOverride ?? wasmPrefixOverride + fileName;\n      } else if (mjsPathOverride && mjsPathOverride.indexOf('blob:') !== 0) {\n        // if mjs path is specified, use it as the base path for the .wasm file.\n        config.locateFile = (fileName) => new URL(fileName, mjsPathOverride).href;\n      } else if (objectUrl) {\n        const inferredWasmPathPrefix = inferWasmPathPrefixFromScriptSrc();\n        if (inferredWasmPathPrefix) {\n          // if the wasm module is preloaded, use the inferred wasm path as the base path for the .wasm file.\n          config.locateFile = (fileName) => inferredWasmPathPrefix + fileName;\n        }\n      }\n\n      ortWasmFactory(config).then(\n        // wasm module initialized successfully\n        (module) => {\n          initializing = false;\n          initialized = true;\n          wasm = module;\n          resolve();\n          if (objectUrl) {\n            URL.revokeObjectURL(objectUrl);\n          }\n        },\n        // wasm module failed to initialize\n        (what) => {\n          initializing = false;\n          aborted = true;\n          reject(what);\n        },\n      );\n    }),\n  );\n\n  await Promise.race(tasks);\n\n  if (isTimeout) {\n    throw new Error(`WebAssembly backend initializing failed due to timeout: ${timeout}ms`);\n  }\n};\n\nexport const getInstance = (): OrtWasmModule => {\n  if (initialized && wasm) {\n    return wasm;\n  }\n\n  throw new Error('WebAssembly is not initialized yet.');\n};\n\nexport const dispose = (): void => {\n  if (initialized && !initializing && !aborted) {\n    // TODO: currently \"PThread.terminateAllThreads()\" is not exposed in the wasm module.\n    //       And this function is not yet called by any code.\n    //       If it is needed in the future, we should expose it in the wasm module and uncomment the following line.\n\n    // wasm?.PThread?.terminateAllThreads();\n    wasm = undefined;\n\n    initializing = false;\n    initialized = false;\n    aborted = true;\n  }\n};\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { getInstance } from './wasm-factory';\n\nexport const allocWasmString = (data: string, allocs: number[]): number => {\n  const wasm = getInstance();\n\n  const dataLength = wasm.lengthBytesUTF8(data) + 1;\n  const dataOffset = wasm._malloc(dataLength);\n  wasm.stringToUTF8(data, dataOffset, dataLength);\n  allocs.push(dataOffset);\n\n  return dataOffset;\n};\n\ninterface ExtraOptionsHandler {\n  (name: string, value: string): void;\n}\n\nexport const iterateExtraOptions = (\n  options: Record<string, unknown>,\n  prefix: string,\n  seen: WeakSet<Record<string, unknown>>,\n  handler: ExtraOptionsHandler,\n): void => {\n  if (typeof options == 'object' && options !== null) {\n    if (seen.has(options)) {\n      throw new Error('Circular reference in options');\n    } else {\n      seen.add(options);\n    }\n  }\n\n  Object.entries(options).forEach(([key, value]) => {\n    const name = prefix ? prefix + key : key;\n    if (typeof value === 'object') {\n      iterateExtraOptions(value as Record<string, unknown>, name + '.', seen, handler);\n    } else if (typeof value === 'string' || typeof value === 'number') {\n      handler(name, value.toString());\n    } else if (typeof value === 'boolean') {\n      handler(name, value ? '1' : '0');\n    } else {\n      throw new Error(`Can't handle extra config type: ${typeof value}`);\n    }\n  });\n};\n\n/**\n * check web assembly API's last error and throw error if any error occurred.\n * @param message a message used when an error occurred.\n */\nexport const checkLastError = (message: string): void => {\n  const wasm = getInstance();\n\n  const stack = wasm.stackSave();\n  try {\n    const ptrSize = wasm.PTR_SIZE;\n    const paramsOffset = wasm.stackAlloc(2 * ptrSize);\n    wasm._OrtGetLastError(paramsOffset, paramsOffset + ptrSize);\n    const errorCode = Number(wasm.getValue(paramsOffset, ptrSize === 4 ? 'i32' : 'i64'));\n    const errorMessagePointer = wasm.getValue(paramsOffset + ptrSize, '*');\n    const errorMessage = errorMessagePointer ? wasm.UTF8ToString(errorMessagePointer) : '';\n    throw new Error(`${message} ERROR_CODE: ${errorCode}, ERROR_MESSAGE: ${errorMessage}`);\n  } finally {\n    wasm.stackRestore(stack);\n  }\n};\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { InferenceSession } from 'onnxruntime-common';\n\nimport { getInstance } from './wasm-factory';\nimport { allocWasmString, checkLastError, iterateExtraOptions } from './wasm-utils';\n\nexport const setRunOptions = (options: InferenceSession.RunOptions): [number, number[]] => {\n  const wasm = getInstance();\n  let runOptionsHandle = 0;\n  const allocs: number[] = [];\n\n  const runOptions: InferenceSession.RunOptions = options || {};\n\n  try {\n    if (options?.logSeverityLevel === undefined) {\n      runOptions.logSeverityLevel = 2; // Default to warning\n    } else if (\n      typeof options.logSeverityLevel !== 'number' ||\n      !Number.isInteger(options.logSeverityLevel) ||\n      options.logSeverityLevel < 0 ||\n      options.logSeverityLevel > 4\n    ) {\n      throw new Error(`log severity level is not valid: ${options.logSeverityLevel}`);\n    }\n\n    if (options?.logVerbosityLevel === undefined) {\n      runOptions.logVerbosityLevel = 0; // Default to 0\n    } else if (typeof options.logVerbosityLevel !== 'number' || !Number.isInteger(options.logVerbosityLevel)) {\n      throw new Error(`log verbosity level is not valid: ${options.logVerbosityLevel}`);\n    }\n\n    if (options?.terminate === undefined) {\n      runOptions.terminate = false;\n    }\n\n    let tagDataOffset = 0;\n    if (options?.tag !== undefined) {\n      tagDataOffset = allocWasmString(options.tag, allocs);\n    }\n\n    runOptionsHandle = wasm._OrtCreateRunOptions(\n      runOptions.logSeverityLevel!,\n      runOptions.logVerbosityLevel!,\n      !!runOptions.terminate!,\n      tagDataOffset,\n    );\n    if (runOptionsHandle === 0) {\n      checkLastError(\"Can't create run options.\");\n    }\n\n    if (options?.extra !== undefined) {\n      iterateExtraOptions(options.extra, '', new WeakSet<Record<string, unknown>>(), (key, value) => {\n        const keyDataOffset = allocWasmString(key, allocs);\n        const valueDataOffset = allocWasmString(value, allocs);\n\n        if (wasm._OrtAddRunConfigEntry(runOptionsHandle, keyDataOffset, valueDataOffset) !== 0) {\n          checkLastError(`Can't set a run config entry: ${key} - ${value}.`);\n        }\n      });\n    }\n\n    return [runOptionsHandle, allocs];\n  } catch (e) {\n    if (runOptionsHandle !== 0) {\n      wasm._OrtReleaseRunOptions(runOptionsHandle);\n    }\n    allocs.forEach((alloc) => wasm._free(alloc));\n    throw e;\n  }\n};\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport type { InferenceSession } from 'onnxruntime-common';\n\nimport { getInstance } from './wasm-factory';\nimport { allocWasmString, checkLastError, iterateExtraOptions } from './wasm-utils';\n\nconst getGraphOptimzationLevel = (graphOptimizationLevel: string | unknown): number => {\n  switch (graphOptimizationLevel) {\n    case 'disabled':\n      return 0;\n    case 'basic':\n      return 1;\n    case 'extended':\n      return 2;\n    case 'layout':\n      return 3;\n    case 'all':\n      return 99;\n    default:\n      throw new Error(`unsupported graph optimization level: ${graphOptimizationLevel}`);\n  }\n};\n\nconst getExecutionMode = (executionMode: 'sequential' | 'parallel'): number => {\n  switch (executionMode) {\n    case 'sequential':\n      return 0;\n    case 'parallel':\n      return 1;\n    default:\n      throw new Error(`unsupported execution mode: ${executionMode}`);\n  }\n};\n\nconst appendDefaultOptions = (options: InferenceSession.SessionOptions): void => {\n  if (!options.extra) {\n    options.extra = {};\n  }\n  if (!options.extra.session) {\n    options.extra.session = {};\n  }\n  const session = options.extra.session as Record<string, string>;\n  if (!session.use_ort_model_bytes_directly) {\n    // eslint-disable-next-line camelcase\n    session.use_ort_model_bytes_directly = '1';\n  }\n\n  // if using JSEP with WebGPU, always disable memory pattern\n  if (\n    options.executionProviders &&\n    options.executionProviders.some((ep) => (typeof ep === 'string' ? ep : ep.name) === 'webgpu')\n  ) {\n    options.enableMemPattern = false;\n  }\n};\n\nconst appendSessionConfig = (sessionOptionsHandle: number, key: string, value: string, allocs: number[]): void => {\n  const keyDataOffset = allocWasmString(key, allocs);\n  const valueDataOffset = allocWasmString(value, allocs);\n  if (getInstance()._OrtAddSessionConfigEntry(sessionOptionsHandle, keyDataOffset, valueDataOffset) !== 0) {\n    checkLastError(`Can't set a session config entry: ${key} - ${value}.`);\n  }\n};\n\nconst appendEpOption = (epOptions: Array<[number, number]>, key: string, value: string, allocs: number[]): void => {\n  const keyDataOffset = allocWasmString(key, allocs);\n  const valueDataOffset = allocWasmString(value, allocs);\n  epOptions.push([keyDataOffset, valueDataOffset]);\n};\n\nconst setExecutionProviders = async (\n  sessionOptionsHandle: number,\n  executionProviders: readonly InferenceSession.ExecutionProviderConfig[],\n  allocs: number[],\n): Promise<void> => {\n  for (const ep of executionProviders) {\n    let epName = typeof ep === 'string' ? ep : ep.name;\n    const epOptions: Array<[number, number]> = [];\n\n    // check EP name\n    switch (epName) {\n      case 'webnn':\n        epName = 'WEBNN';\n        if (typeof ep !== 'string') {\n          const webnnOptions = ep as InferenceSession.WebNNExecutionProviderOption;\n          // const context = (webnnOptions as InferenceSession.WebNNOptionsWithMLContext)?.context;\n          const deviceType = (webnnOptions as InferenceSession.WebNNContextOptions)?.deviceType;\n          if (deviceType) {\n            appendSessionConfig(sessionOptionsHandle, 'deviceType', deviceType, allocs);\n          }\n        }\n        break;\n      case 'webgpu':\n        if (!BUILD_DEFS.DISABLE_WEBGPU) {\n          epName = 'WebGPU';\n          let customDevice: GPUDevice | undefined;\n\n          if (typeof ep !== 'string') {\n            const customOptions = ep as unknown as { device: GPUDevice };\n            if (customOptions.device) {\n              if (typeof GPUDevice !== 'undefined' && customOptions.device instanceof GPUDevice) {\n                customDevice = customOptions.device;\n              } else {\n                throw new Error('Invalid GPU device set in WebGPU EP options.');\n              }\n            }\n\n            // TODO: handle more options\n          }\n\n          const info = getInstance().webgpuRegisterDevice!(customDevice);\n          if (info) {\n            const [deviceId, instanceHandle, deviceHandle] = info;\n            appendEpOption(epOptions, 'deviceId', deviceId.toString(), allocs);\n            appendEpOption(epOptions, 'webgpuInstance', instanceHandle.toString(), allocs);\n            appendEpOption(epOptions, 'webgpuDevice', deviceHandle.toString(), allocs);\n          }\n        } else {\n          epName = 'JS';\n          if (typeof ep !== 'string') {\n            const webgpuOptions = ep as InferenceSession.WebGpuExecutionProviderOption;\n            if (webgpuOptions?.preferredLayout) {\n              if (webgpuOptions.preferredLayout !== 'NCHW' && webgpuOptions.preferredLayout !== 'NHWC') {\n                throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${webgpuOptions.preferredLayout}`);\n              }\n              appendSessionConfig(sessionOptionsHandle, 'preferredLayout', webgpuOptions.preferredLayout, allocs);\n            }\n          }\n        }\n        break;\n      case 'wasm':\n      case 'cpu':\n        continue;\n      default:\n        throw new Error(`not supported execution provider: ${epName}`);\n    }\n\n    const epNameDataOffset = allocWasmString(epName, allocs);\n    const epOptionsCount = epOptions.length;\n    let keysOffset = 0;\n    let valuesOffset = 0;\n    if (epOptionsCount > 0) {\n      keysOffset = getInstance()._malloc(epOptionsCount * getInstance().PTR_SIZE);\n      allocs.push(keysOffset);\n      valuesOffset = getInstance()._malloc(epOptionsCount * getInstance().PTR_SIZE);\n      allocs.push(valuesOffset);\n      for (let i = 0; i < epOptionsCount; i++) {\n        getInstance().setValue(keysOffset + i * getInstance().PTR_SIZE, epOptions[i][0], '*');\n        getInstance().setValue(valuesOffset + i * getInstance().PTR_SIZE, epOptions[i][1], '*');\n      }\n    }\n    if (\n      (await getInstance()._OrtAppendExecutionProvider(\n        sessionOptionsHandle,\n        epNameDataOffset,\n        keysOffset,\n        valuesOffset,\n        epOptionsCount,\n      )) !== 0\n    ) {\n      checkLastError(`Can't append execution provider: ${epName}.`);\n    }\n  }\n};\n\nexport const setSessionOptions = async (options?: InferenceSession.SessionOptions): Promise<[number, number[]]> => {\n  const wasm = getInstance();\n  let sessionOptionsHandle = 0;\n  const allocs: number[] = [];\n\n  const sessionOptions: InferenceSession.SessionOptions = options || {};\n  appendDefaultOptions(sessionOptions);\n\n  try {\n    const graphOptimizationLevel = getGraphOptimzationLevel(sessionOptions.graphOptimizationLevel ?? 'all');\n    const executionMode = getExecutionMode(sessionOptions.executionMode ?? 'sequential');\n    const logIdDataOffset =\n      typeof sessionOptions.logId === 'string' ? allocWasmString(sessionOptions.logId, allocs) : 0;\n\n    const logSeverityLevel = sessionOptions.logSeverityLevel ?? 2; // Default to 2 - warning\n    if (!Number.isInteger(logSeverityLevel) || logSeverityLevel < 0 || logSeverityLevel > 4) {\n      throw new Error(`log severity level is not valid: ${logSeverityLevel}`);\n    }\n\n    const logVerbosityLevel = sessionOptions.logVerbosityLevel ?? 0; // Default to 0 - verbose\n    if (!Number.isInteger(logVerbosityLevel) || logVerbosityLevel < 0 || logVerbosityLevel > 4) {\n      throw new Error(`log verbosity level is not valid: ${logVerbosityLevel}`);\n    }\n\n    const optimizedModelFilePathOffset =\n      typeof sessionOptions.optimizedModelFilePath === 'string'\n        ? allocWasmString(sessionOptions.optimizedModelFilePath, allocs)\n        : 0;\n\n    sessionOptionsHandle = wasm._OrtCreateSessionOptions(\n      graphOptimizationLevel,\n      !!sessionOptions.enableCpuMemArena,\n      !!sessionOptions.enableMemPattern,\n      executionMode,\n      !!sessionOptions.enableProfiling,\n      0,\n      logIdDataOffset,\n      logSeverityLevel,\n      logVerbosityLevel,\n      optimizedModelFilePathOffset,\n    );\n    if (sessionOptionsHandle === 0) {\n      checkLastError(\"Can't create session options.\");\n    }\n\n    if (sessionOptions.executionProviders) {\n      await setExecutionProviders(sessionOptionsHandle, sessionOptions.executionProviders, allocs);\n    }\n\n    if (sessionOptions.enableGraphCapture !== undefined) {\n      if (typeof sessionOptions.enableGraphCapture !== 'boolean') {\n        throw new Error(`enableGraphCapture must be a boolean value: ${sessionOptions.enableGraphCapture}`);\n      }\n      appendSessionConfig(\n        sessionOptionsHandle,\n        'enableGraphCapture',\n        sessionOptions.enableGraphCapture.toString(),\n        allocs,\n      );\n    }\n\n    if (sessionOptions.freeDimensionOverrides) {\n      for (const [name, value] of Object.entries(sessionOptions.freeDimensionOverrides)) {\n        if (typeof name !== 'string') {\n          throw new Error(`free dimension override name must be a string: ${name}`);\n        }\n        if (typeof value !== 'number' || !Number.isInteger(value) || value < 0) {\n          throw new Error(`free dimension override value must be a non-negative integer: ${value}`);\n        }\n        const nameOffset = allocWasmString(name, allocs);\n        if (wasm._OrtAddFreeDimensionOverride(sessionOptionsHandle, nameOffset, value) !== 0) {\n          checkLastError(`Can't set a free dimension override: ${name} - ${value}.`);\n        }\n      }\n    }\n\n    if (sessionOptions.extra !== undefined) {\n      iterateExtraOptions(sessionOptions.extra, '', new WeakSet<Record<string, unknown>>(), (key, value) => {\n        appendSessionConfig(sessionOptionsHandle, key, value, allocs);\n      });\n    }\n\n    return [sessionOptionsHandle, allocs];\n  } catch (e) {\n    if (sessionOptionsHandle !== 0) {\n      if (wasm._OrtReleaseSessionOptions(sessionOptionsHandle) !== 0) {\n        checkLastError(\"Can't release session options.\");\n      }\n    }\n    allocs.forEach((alloc) => wasm._free(alloc));\n    throw e;\n  }\n};\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { Tensor } from 'onnxruntime-common';\n\n// a dummy type declaration for Float16Array in case any polyfill is available.\ndeclare global {\n  // eslint-disable-next-line @typescript-eslint/naming-convention, @typescript-eslint/no-explicit-any\n  const Float16Array: any;\n}\n\n// This file includes common definitions. They do NOT have dependency on the WebAssembly instance.\n\n/**\n * Copied from ONNX definition. Use this to drop dependency 'onnx_proto' to decrease compiled .js file size.\n */\nexport const enum DataType {\n  undefined = 0,\n  float = 1,\n  uint8 = 2,\n  int8 = 3,\n  uint16 = 4,\n  int16 = 5,\n  int32 = 6,\n  int64 = 7,\n  string = 8,\n  bool = 9,\n  float16 = 10,\n  double = 11,\n  uint32 = 12,\n  uint64 = 13,\n  complex64 = 14,\n  complex128 = 15,\n  bfloat16 = 16,\n\n  // 4-bit data-types\n  uint4 = 21,\n  int4 = 22,\n}\n\n/**\n * Map string tensor data to enum value\n */\nexport const tensorDataTypeStringToEnum = (type: string): DataType => {\n  switch (type) {\n    case 'int8':\n      return DataType.int8;\n    case 'uint8':\n      return DataType.uint8;\n    case 'bool':\n      return DataType.bool;\n    case 'int16':\n      return DataType.int16;\n    case 'uint16':\n      return DataType.uint16;\n    case 'int32':\n      return DataType.int32;\n    case 'uint32':\n      return DataType.uint32;\n    case 'float16':\n      return DataType.float16;\n    case 'float32':\n      return DataType.float;\n    case 'float64':\n      return DataType.double;\n    case 'string':\n      return DataType.string;\n    case 'int64':\n      return DataType.int64;\n    case 'uint64':\n      return DataType.uint64;\n    case 'int4':\n      return DataType.int4;\n    case 'uint4':\n      return DataType.uint4;\n\n    default:\n      throw new Error(`unsupported data type: ${type}`);\n  }\n};\n\n/**\n * Map enum value to string tensor data\n */\nexport const tensorDataTypeEnumToString = (typeProto: DataType): Tensor.Type => {\n  switch (typeProto) {\n    case DataType.int8:\n      return 'int8';\n    case DataType.uint8:\n      return 'uint8';\n    case DataType.bool:\n      return 'bool';\n    case DataType.int16:\n      return 'int16';\n    case DataType.uint16:\n      return 'uint16';\n    case DataType.int32:\n      return 'int32';\n    case DataType.uint32:\n      return 'uint32';\n    case DataType.float16:\n      return 'float16';\n    case DataType.float:\n      return 'float32';\n    case DataType.double:\n      return 'float64';\n    case DataType.string:\n      return 'string';\n    case DataType.int64:\n      return 'int64';\n    case DataType.uint64:\n      return 'uint64';\n    case DataType.int4:\n      return 'int4';\n    case DataType.uint4:\n      return 'uint4';\n\n    default:\n      throw new Error(`unsupported data type: ${typeProto}`);\n  }\n};\n\n/**\n * get tensor size in bytes by the given data type and dimensions\n * @returns size in integer or undefined if the data type is not supported\n */\nexport const calculateTensorSizeInBytes = (\n  dateType: number,\n  dimsOrSize: readonly number[] | number,\n): number | undefined => {\n  const elementSize = [\n    -1, // undefined = 0\n    4, // float = 1\n    1, // uint8 = 2\n    1, // int8 = 3\n    2, // uint16 = 4\n    2, // int16 = 5\n    4, // int32 = 6\n    8, // int64 = 7\n    -1, // string = 8\n    1, // bool = 9\n    2, // float16 = 10\n    8, // double = 11\n    4, // uint32 = 12\n    8, // uint64 = 13\n    -1, // complex64 = 14\n    -1, // complex128 = 15\n    -1, // bfloat16 = 16\n    -1, // FLOAT8E4M3FN = 17\n    -1, // FLOAT8E4M3FNUZ = 18\n    -1, // FLOAT8E5M2 = 19\n    -1, // FLOAT8E5M2FNUZ = 20\n    0.5, // uint4 = 21\n    0.5, // int4 = 22\n  ][dateType];\n\n  const size = typeof dimsOrSize === 'number' ? dimsOrSize : dimsOrSize.reduce((a, b) => a * b, 1);\n  return elementSize > 0 ? Math.ceil(size * elementSize) : undefined;\n};\n\n/**\n * get typed array constructor by the given tensor type\n */\nexport const tensorTypeToTypedArrayConstructor = (\n  type: Tensor.Type,\n):\n  | Float32ArrayConstructor\n  | Uint8ArrayConstructor\n  | Int8ArrayConstructor\n  | Uint16ArrayConstructor\n  | Int16ArrayConstructor\n  | Int32ArrayConstructor\n  | BigInt64ArrayConstructor\n  | Uint8ArrayConstructor\n  | Float64ArrayConstructor\n  | Uint32ArrayConstructor\n  | BigUint64ArrayConstructor => {\n  switch (type) {\n    case 'float16':\n      // allow Float16Array polyfill.\n      return typeof Float16Array !== 'undefined' && Float16Array.from ? Float16Array : Uint16Array;\n    case 'float32':\n      return Float32Array;\n    case 'uint8':\n      return Uint8Array;\n    case 'int8':\n      return Int8Array;\n    case 'uint16':\n      return Uint16Array;\n    case 'int16':\n      return Int16Array;\n    case 'int32':\n      return Int32Array;\n    case 'bool':\n      return Uint8Array;\n    case 'float64':\n      return Float64Array;\n    case 'uint32':\n      return Uint32Array;\n    case 'int64':\n      return BigInt64Array;\n    case 'uint64':\n      return BigUint64Array;\n    default:\n      throw new Error(`unsupported type: ${type}`);\n  }\n};\n\n/**\n * Map string log level to integer value\n */\nexport const logLevelStringToEnum = (logLevel?: 'verbose' | 'info' | 'warning' | 'error' | 'fatal'): number => {\n  switch (logLevel) {\n    case 'verbose':\n      return 0;\n    case 'info':\n      return 1;\n    case 'warning':\n      return 2;\n    case 'error':\n      return 3;\n    case 'fatal':\n      return 4;\n    default:\n      throw new Error(`unsupported logging level: ${logLevel}`);\n  }\n};\n\n/**\n * Check whether the given tensor type is supported by GPU buffer\n */\nexport const isGpuBufferSupportedType = (type: Tensor.Type): type is Tensor.GpuBufferDataTypes =>\n  type === 'float32' ||\n  type === 'float16' ||\n  type === 'int32' ||\n  type === 'int64' ||\n  type === 'uint32' ||\n  type === 'uint8' ||\n  type === 'bool' ||\n  type === 'uint4' ||\n  type === 'int4';\n\n/**\n * Check whether the given tensor type is supported by WebNN MLTensor\n */\nexport const isMLTensorSupportedType = (type: Tensor.Type): type is Tensor.MLTensorDataTypes =>\n  type === 'float32' ||\n  type === 'float16' ||\n  type === 'int32' ||\n  type === 'int64' ||\n  type === 'uint32' ||\n  type === 'uint64' ||\n  type === 'int8' ||\n  type === 'uint8' ||\n  type === 'bool' ||\n  type === 'uint4' ||\n  type === 'int4';\n\n/**\n * Map string data location to integer value\n */\nexport const dataLocationStringToEnum = (location: Tensor.DataLocation): number => {\n  switch (location) {\n    case 'none':\n      return 0;\n    case 'cpu':\n      return 1;\n    case 'cpu-pinned':\n      return 2;\n    case 'texture':\n      return 3;\n    case 'gpu-buffer':\n      return 4;\n    case 'ml-tensor':\n      return 5;\n    default:\n      throw new Error(`unsupported data location: ${location}`);\n  }\n};\n\n/**\n * Map integer data location to string value\n */\nexport const dataLocationEnumToString = (location: number): Tensor.DataLocation | undefined =>\n  (['none', 'cpu', 'cpu-pinned', 'texture', 'gpu-buffer', 'ml-tensor'] as const)[location];\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { isNode } from './wasm-utils-env';\n\n/**\n * Load a file into a Uint8Array.\n *\n * @param file - the file to load. Can be a URL/path, a Blob, an ArrayBuffer, or a Uint8Array.\n * @returns a Uint8Array containing the file data.\n */\nexport const loadFile = async (file: string | Blob | ArrayBufferLike | Uint8Array): Promise<Uint8Array> => {\n  if (typeof file === 'string') {\n    if (isNode) {\n      // load file into ArrayBuffer in Node.js\n      try {\n        const { readFile } = require('node:fs/promises');\n        return new Uint8Array(await readFile(file));\n      } catch (e) {\n        if (e.code === 'ERR_FS_FILE_TOO_LARGE') {\n          // file is too large, use fs.createReadStream instead\n          const { createReadStream } = require('node:fs');\n          const stream = createReadStream(file);\n          const chunks: Uint8Array[] = [];\n          for await (const chunk of stream) {\n            chunks.push(chunk);\n          }\n          return new Uint8Array(Buffer.concat(chunks));\n        }\n        throw e;\n      }\n    } else {\n      // load file into ArrayBuffer in browsers\n      const response = await fetch(file);\n      if (!response.ok) {\n        throw new Error(`failed to load external data file: ${file}`);\n      }\n      const contentLengthHeader = response.headers.get('Content-Length');\n      const fileSize = contentLengthHeader ? parseInt(contentLengthHeader, 10) : 0;\n      if (fileSize < 1073741824 /* 1GB */) {\n        // when Content-Length header is not set, we cannot determine the file size. We assume it is small enough to\n        // load into memory.\n        return new Uint8Array(await response.arrayBuffer());\n      } else {\n        // file is too large, use stream instead\n        if (!response.body) {\n          throw new Error(`failed to load external data file: ${file}, no response body.`);\n        }\n        const reader = response.body.getReader();\n\n        let buffer;\n        try {\n          // try to create ArrayBuffer directly\n          buffer = new ArrayBuffer(fileSize);\n        } catch (e) {\n          if (e instanceof RangeError) {\n            // use WebAssembly Memory to allocate larger ArrayBuffer\n            const pages = Math.ceil(fileSize / 65536);\n            buffer = new WebAssembly.Memory({ initial: pages, maximum: pages }).buffer;\n          } else {\n            throw e;\n          }\n        }\n\n        let offset = 0;\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n          const { done, value } = await reader.read();\n          if (done) {\n            break;\n          }\n          const chunkSize = value.byteLength;\n          const chunk = new Uint8Array(buffer, offset, chunkSize);\n          chunk.set(value);\n          offset += chunkSize;\n        }\n        return new Uint8Array(buffer, 0, fileSize);\n      }\n    }\n  } else if (file instanceof Blob) {\n    return new Uint8Array(await file.arrayBuffer());\n  } else if (file instanceof Uint8Array) {\n    return file;\n  } else {\n    return new Uint8Array(file);\n  }\n};\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { Tensor } from 'onnxruntime-common';\n\nimport { tensorTypeToTypedArrayConstructor } from '../wasm-common';\n\nexport const createView = (\n  dataBuffer: ArrayBuffer,\n  type: Tensor.Type,\n):\n  | Int32Array\n  | Uint32Array\n  | BigInt64Array\n  | BigUint64Array\n  | Uint8Array\n  | Float32Array\n  | Float64Array\n  | Int8Array\n  | Int16Array\n  | Uint16Array => new (tensorTypeToTypedArrayConstructor(type))(dataBuffer);\n\n/**\n * a TensorView does not own the data.\n */\nexport interface TensorView {\n  readonly data: number;\n  readonly dataType: number;\n  readonly dims: readonly number[];\n\n  /**\n   * get a Float16Array data view of the tensor data. tensor data must be on CPU.\n   */\n  getUint16Array(): Uint16Array;\n\n  /**\n   * get a Float32Array data view of the tensor data. tensor data must be on CPU.\n   */\n  getFloat32Array(): Float32Array;\n\n  /**\n   * get a BigInt64Array data view of the tensor data. tensor data must be on CPU.\n   */\n  getBigInt64Array(): BigInt64Array;\n\n  /**\n   * get a Int32Array data view of the tensor data. tensor data must be on CPU.\n   */\n  getInt32Array(): Int32Array;\n\n  /**\n   * get a Uint16Array data view of the tensor data. tensor data must be on CPU.\n   */\n  getUint16Array(): Uint16Array;\n\n  /**\n   * create a new tensor view with the same data but different dimensions.\n   */\n  reshape(newDims: readonly number[]): TensorView;\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { Env } from 'onnxruntime-common';\n\nimport { logLevelStringToEnum } from '../wasm-common';\n\ntype LogLevel = NonNullable<Env['logLevel']>;\ntype MessageString = string;\ntype MessageFunction = () => string;\ntype Message = MessageString | MessageFunction;\n\nconst logLevelPrefix = ['V', 'I', 'W', 'E', 'F'];\n\nconst doLog = (level: number, message: string): void => {\n  // eslint-disable-next-line no-console\n  console.log(`[${logLevelPrefix[level]},${new Date().toISOString()}]${message}`);\n};\n\nlet configLogLevel: LogLevel | undefined;\nlet debug: boolean | undefined;\n\nexport const configureLogger = ($configLogLevel: LogLevel, $debug: boolean): void => {\n  configLogLevel = $configLogLevel;\n  debug = $debug;\n};\n\n/**\n * A simple logging utility to log messages to the console.\n */\nexport const LOG = (logLevel: LogLevel, msg: Message): void => {\n  const messageLevel = logLevelStringToEnum(logLevel);\n  const configLevel = logLevelStringToEnum(configLogLevel);\n  if (messageLevel >= configLevel) {\n    doLog(messageLevel, typeof msg === 'function' ? msg() : msg);\n  }\n};\n\n/**\n * A simple logging utility to log messages to the console. Only logs when debug is enabled.\n */\nexport const LOG_DEBUG: typeof LOG = (...args: Parameters<typeof LOG>) => {\n  if (debug) {\n    LOG(...args);\n  }\n};\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { WebNNBackend } from '../backend-webnn';\nimport { tensorTypeToTypedArrayConstructor } from '../../wasm-common';\nimport { LOG_DEBUG } from '../log';\n\n// WebNN API currently does not have a TypeScript definition file. This file is a workaround with types generated from\n// WebNN API specification.\n// https://github.com/webmachinelearning/webnn/issues/677\n/// <reference path=\"webnn.d.ts\" />\n\n/**\n * Map from MLOperandDataType to size in bits. Using bits instead of bytes to avoid possible precision loss on int4 and uint4.\n */\nconst webnnDataTypeToSize = new Map<MLOperandDataType, number>([\n  ['float32', 32],\n  ['float16', 16],\n  ['int32', 32],\n  ['uint32', 32],\n  ['int64', 64],\n  ['uint64', 64],\n  ['int8', 8],\n  ['uint8', 8],\n  ['int4', 4],\n  ['uint4', 4],\n]);\n\n// Convert integer data to an Int32Array buffer.\n// Supports conversion from int64, uint64, uint32, int8 and uint8 to int32.\nexport const convertDataToInt32 = (data: Uint8Array, dataType: MLOperandDataType): Uint8Array => {\n  if (dataType === 'int32') {\n    return data;\n  }\n\n  const dataTypeSize = webnnDataTypeToSize.get(dataType);\n  if (!dataTypeSize) {\n    throw new Error(`WebNN backend does not support data type: ${dataType}`);\n  }\n  const bytesPerElement = dataTypeSize / 8;\n  // Make sure the data length is a multiple of the data type size.\n  if (data.byteLength % bytesPerElement !== 0) {\n    throw new Error(`Invalid Uint8Array length - must be a multiple of ${bytesPerElement}.`);\n  }\n\n  // Convert Uint8Array to original typed array.\n  const numElements = data.byteLength / bytesPerElement;\n  const originalArray = new (tensorTypeToTypedArrayConstructor(dataType))(data.buffer, data.byteOffset, numElements);\n\n  switch (dataType) {\n    case 'int64':\n    case 'uint64': {\n      // Convert original typed array to Int32Array.\n      const int32Array = new Int32Array(numElements);\n      for (let i = 0; i < numElements; i++) {\n        const value = originalArray[i];\n\n        // Check for overflow.\n        if (value > 2147483647n || value < -2147483648n) {\n          throw new Error(`Can not convert int64 data to int32 - value out of range.`);\n        }\n\n        int32Array[i] = Number(value);\n      }\n\n      return new Uint8Array(int32Array.buffer);\n    }\n    case 'int8':\n    case 'uint8':\n    case 'uint32': {\n      // Check for overflow.\n      if (dataType === 'uint32') {\n        if (originalArray.some((value) => value > 2147483647)) {\n          throw new Error(`Can not convert uint32 data to int32 - value out of range.`);\n        }\n      }\n      // Convert original typed array to Int32Array.\n      const int32Array = Int32Array.from(originalArray, Number);\n      return new Uint8Array(int32Array.buffer);\n    }\n    default:\n      throw new Error(`Unsupported data conversion from ${dataType} to 'int32'`);\n  }\n};\n\n// Convert Int32Array data to original integer data buffer.\n// Supports conversion from int32 to int64, uint64, uint32, int8 and uint8.\nexport const convertInt32ToData = (data: Uint8Array, dataType: MLOperandDataType): Uint8Array => {\n  if (dataType === 'int32') {\n    return data;\n  }\n\n  // Make sure the data length is a multiple of 4 bytes (Int32Array).\n  if (data.byteLength % 4 !== 0) {\n    throw new Error('Invalid Uint8Array length - must be a multiple of 4 (int32).');\n  }\n\n  // Convert Uint8Array to Int32Array.\n  const numElements = data.byteLength / 4;\n  const int32Array = new Int32Array(data.buffer, data.byteOffset, numElements);\n\n  switch (dataType) {\n    case 'int64': {\n      const bigInt64Array = BigInt64Array.from(int32Array, BigInt);\n      return new Uint8Array(bigInt64Array.buffer);\n    }\n    case 'uint64': {\n      if (int32Array.some((value) => value < 0)) {\n        throw new Error('Can not convert int32 data to uin64 - negative value found.');\n      }\n      const bigUint64Array = BigUint64Array.from(int32Array, BigInt);\n      return new Uint8Array(bigUint64Array.buffer);\n    }\n    case 'int8': {\n      if (int32Array.some((value) => value < -128 || value > 127)) {\n        throw new Error('Can not convert int32 data to int8 - value out of range.');\n      }\n      const int8Array = Int8Array.from(int32Array, Number);\n      return new Uint8Array(int8Array.buffer);\n    }\n    case 'uint8': {\n      if (int32Array.some((value) => value < 0 || value > 255)) {\n        throw new Error('Can not convert int32 data to uint8 - value out of range.');\n      }\n      return Uint8Array.from(int32Array, Number);\n    }\n    case 'uint32': {\n      if (int32Array.some((value) => value < 0)) {\n        throw new Error('Can not convert int32 data to uint32 - negative value found.');\n      }\n      const uint32Array = Uint32Array.from(int32Array, Number);\n      return new Uint8Array(uint32Array.buffer);\n    }\n    default:\n      throw new Error(`Unsupported data conversion from 'int32' to ${dataType}`);\n  }\n};\n\nexport type TensorId = number;\n\n/**\n * Manages TensorId to MLTensor mapping.\n */\nexport interface TensorManager {\n  /**\n   * Reserve a new TensorId.\n   */\n  reserveTensorId(): TensorId;\n  /**\n   * Release a TensorId.\n   */\n  releaseTensorId(tensorId: TensorId): void;\n  /**\n   * Ensure a MLTensor is created for the TensorId.\n   */\n  ensureTensor(\n    sessionId: number,\n    tensorId: TensorId,\n    dataType: MLOperandDataType,\n    shape: readonly number[],\n    copyOld: boolean,\n  ): Promise<MLTensor>;\n  /**\n   * Upload data to a MLTensor.\n   */\n  upload(tensorId: TensorId, data: Uint8Array): void;\n  /**\n   * Download data from a MLTensor.\n   */\n  download(tensorId: TensorId): Promise<ArrayBuffer>;\n  download(tensorId: TensorId, dstTensor: ArrayBufferView | ArrayBuffer): Promise<undefined>;\n  /**\n   * Release all tensors for a given session.\n   */\n  releaseTensorsForSession(session: number): void;\n  /**\n   * Register an externally created MLTensor with a given session id and return a TensorId.\n   */\n  registerTensor(sessionId: number, mlTensor: MLTensor, dataType: MLOperandDataType, shape: number[]): TensorId;\n}\n\nlet tensorGuid = 1;\nconst createNewTensorId = (): TensorId => tensorGuid++;\n\n/**\n * Map from data type to fallback data type.\n * When the context does not support the original data type, use fallback data type as workaround.\n * Note: Currently, we only support fallback to int32 for certain integer data types.\n */\nconst webnnDataTypeToFallback = new Map<MLOperandDataType, MLOperandDataType>([\n  ['int8', 'int32'],\n  ['uint8', 'int32'],\n  ['uint32', 'int32'],\n  ['int64', 'int32'],\n]);\n\n/**\n * Calculate the byte length of a tensor with the given data type and shape.\n */\nconst calculateByteLength = (dataType: MLOperandDataType, shape: readonly number[]): number => {\n  const dataTypeSize = webnnDataTypeToSize.get(dataType);\n  if (!dataTypeSize) {\n    throw new Error(`WebNN backend does not support data type: ${dataType}`);\n  }\n  return shape.length > 0 ? Math.ceil((shape.reduce((a, b) => a * b) * dataTypeSize) / 8) : 0;\n};\n\n/**\n * TensorWrapper wraps an MLTensor and provides a way to track the last session that used it.\n */\nclass TensorWrapper {\n  // The id of the last session that used this tensor.\n  public sessionId: number;\n  // This flag is used to indicate whether the data has been converted to fallback data type.\n  public isDataConverted = false;\n\n  private mlContext: MLContext;\n  private mlTensor: MLTensor;\n  private dataType: MLOperandDataType;\n  // Fallback data type to use when the context does not support the original data type.\n  private fallbackDataType: MLOperandDataType | undefined;\n  private tensorShape: readonly number[];\n\n  constructor(descriptor: {\n    sessionId: number;\n    context: MLContext;\n    tensor: MLTensor;\n    dataType: MLOperandDataType;\n    shape: readonly number[];\n    fallbackDataType?: MLOperandDataType;\n  }) {\n    const { sessionId, context, tensor, dataType, shape, fallbackDataType } = descriptor;\n    this.sessionId = sessionId;\n    this.mlContext = context;\n    this.mlTensor = tensor;\n    this.dataType = dataType;\n    this.tensorShape = shape;\n    this.fallbackDataType = fallbackDataType;\n  }\n\n  public get tensor(): MLTensor {\n    return this.mlTensor;\n  }\n\n  public get type(): MLOperandDataType {\n    return this.dataType;\n  }\n\n  public get fallbackType(): MLOperandDataType | undefined {\n    return this.fallbackDataType;\n  }\n\n  public get shape(): readonly number[] {\n    return this.tensorShape;\n  }\n\n  public get byteLength(): number {\n    return calculateByteLength(this.dataType, this.tensorShape);\n  }\n\n  public destroy(): void {\n    LOG_DEBUG('verbose', () => '[WebNN] TensorWrapper.destroy');\n    this.mlTensor.destroy();\n  }\n\n  public write(data: Uint8Array): void {\n    this.mlContext.writeTensor(this.mlTensor, data);\n  }\n\n  public async read(): Promise<ArrayBuffer>;\n  public async read(dstBuffer?: ArrayBufferView | ArrayBuffer): Promise<ArrayBuffer | undefined>;\n  public async read(dstBuffer?: ArrayBufferView | ArrayBuffer): Promise<ArrayBuffer | undefined> {\n    if (this.fallbackDataType) {\n      // This tensor has been fallback to int32 as workaround, we need to read it as its original integer data type.\n      const data = await this.mlContext.readTensor(this.mlTensor);\n      const originalData = convertInt32ToData(new Uint8Array(data), this.dataType);\n\n      if (dstBuffer) {\n        const targetBuffer =\n          dstBuffer instanceof ArrayBuffer\n            ? new Uint8Array(dstBuffer)\n            : new Uint8Array(dstBuffer.buffer, dstBuffer.byteOffset, dstBuffer.byteLength);\n        targetBuffer.set(originalData);\n        return undefined;\n      } else {\n        return originalData.buffer;\n      }\n    } else {\n      return dstBuffer ? this.mlContext.readTensor(this.mlTensor, dstBuffer) : this.mlContext.readTensor(this.mlTensor);\n    }\n  }\n\n  public canReuseTensor(context: MLContext, dataType: MLOperandDataType, shape: readonly number[]): boolean {\n    return (\n      this.mlContext === context &&\n      this.dataType === dataType &&\n      this.tensorShape.length === shape.length &&\n      this.tensorShape.every((v, i) => v === shape[i])\n    );\n  }\n\n  public setIsDataConverted(isConverted: boolean): void {\n    this.isDataConverted = isConverted;\n  }\n}\n\n/**\n * TensorTracker tracks the MLTensor and pending upload data.\n *\n * We need to track the MLTensor and pending upload data because we delay the creation of MLTensor until\n * we know the data type and shape. This is because WebNN only support creating MLTensors with dataTypes and shape.\n */\nclass TensorIdTracker {\n  private activeUpload?: Uint8Array;\n\n  constructor(\n    private tensorManager: TensorManagerImpl,\n    private wrapper?: TensorWrapper,\n  ) {}\n\n  public get tensorWrapper(): TensorWrapper | undefined {\n    return this.wrapper;\n  }\n\n  public releaseTensor(): void {\n    if (this.tensorWrapper) {\n      this.tensorManager.releaseTensor(this.tensorWrapper);\n      this.wrapper = undefined;\n    }\n  }\n\n  public async ensureTensor(\n    sessionId: number,\n    dataType: MLOperandDataType,\n    shape: readonly number[],\n    copyOld: boolean,\n  ): Promise<MLTensor> {\n    const context = this.tensorManager.getMLContext(sessionId);\n    let fallbackDataType: MLOperandDataType | undefined;\n    // Check if the context supports the data type. If not, try to use the fallback data type.\n    if (!context.opSupportLimits().input.dataTypes.includes(dataType)) {\n      fallbackDataType = webnnDataTypeToFallback.get(dataType);\n      if (!fallbackDataType || !context.opSupportLimits().input.dataTypes.includes(fallbackDataType)) {\n        throw new Error(`WebNN backend does not support data type: ${dataType}`);\n      }\n      LOG_DEBUG(\n        'verbose',\n        () => `[WebNN] TensorIdTracker.ensureTensor: fallback dataType from ${dataType} to ${fallbackDataType}`,\n      );\n    }\n\n    if (this.wrapper) {\n      if (this.wrapper.canReuseTensor(context, dataType, shape)) {\n        return this.wrapper.tensor;\n      } else {\n        if (copyOld) {\n          if (this.wrapper.byteLength !== calculateByteLength(dataType, shape)) {\n            throw new Error('Unable to copy data to tensor with different size.');\n          }\n          this.activeUpload = new Uint8Array(await this.wrapper.read());\n        }\n        this.tensorManager.releaseTensor(this.wrapper);\n      }\n    }\n\n    // eslint-disable-next-line no-bitwise\n    const usage = typeof MLTensorUsage == 'undefined' ? undefined : MLTensorUsage.READ | MLTensorUsage.WRITE;\n    this.wrapper = await this.tensorManager.getCachedTensor(\n      sessionId,\n      dataType,\n      shape,\n      usage,\n      true,\n      true,\n      fallbackDataType,\n    );\n\n    if (copyOld && this.activeUpload) {\n      // We don't need to convert the original integer data to int32,\n      // because it has been converted when it was uploaded.\n      this.wrapper.write(this.activeUpload);\n      this.activeUpload = undefined;\n    }\n\n    return this.wrapper.tensor;\n  }\n\n  public upload(data: Uint8Array): void {\n    let newData = data;\n    if (this.wrapper) {\n      if (this.wrapper.fallbackType) {\n        if (this.wrapper.fallbackType === 'int32') {\n          // Convert original integer data to int32.\n          newData = convertDataToInt32(data, this.wrapper.type);\n          this.wrapper.setIsDataConverted(true);\n        } else {\n          throw new Error(`Unsupported fallback data type: ${this.wrapper.fallbackType}`);\n        }\n      }\n\n      // Check if the data size matches the tensor size.\n      if (data.byteLength === this.wrapper.byteLength) {\n        // Write the newData to the tensor.\n        this.wrapper.write(newData);\n        return;\n      } else {\n        LOG_DEBUG('verbose', () => 'Data size does not match tensor size. Releasing tensor.');\n        this.releaseTensor();\n      }\n    }\n\n    if (this.activeUpload) {\n      this.activeUpload.set(newData);\n    } else {\n      this.activeUpload = new Uint8Array(newData);\n    }\n  }\n\n  public async download(dstBuffer?: ArrayBufferView | ArrayBuffer): Promise<ArrayBuffer | undefined> {\n    if (this.activeUpload) {\n      // If this.activeUpload has been converted to int32, we need to convert it back to original integer data type.\n      const dstData = this.wrapper?.isDataConverted\n        ? convertInt32ToData(this.activeUpload, this.wrapper?.type)\n        : this.activeUpload;\n\n      if (dstBuffer) {\n        if (dstBuffer instanceof ArrayBuffer) {\n          new Uint8Array(dstBuffer).set(dstData);\n        } else {\n          new Uint8Array(dstBuffer.buffer, dstBuffer.byteOffset, dstBuffer.byteLength).set(dstData);\n        }\n        return;\n      } else {\n        return dstData.buffer;\n      }\n    }\n    if (!this.wrapper) {\n      throw new Error('Tensor has not been created.');\n    }\n\n    if (!dstBuffer) {\n      return this.wrapper.read();\n    }\n    return this.wrapper.read(dstBuffer);\n  }\n}\n\nclass TensorManagerImpl implements TensorManager {\n  private tensorTrackersById: Map<TensorId, TensorIdTracker> = new Map();\n  private freeTensors: TensorWrapper[] = [];\n  private externalTensors: Set<TensorWrapper> = new Set();\n\n  constructor(private backend: WebNNBackend) {}\n\n  public getMLContext(sessionId: number): MLContext {\n    const context = this.backend.getMLContext(sessionId);\n    if (!context) {\n      throw new Error('MLContext not found for session.');\n    }\n    return context;\n  }\n\n  public reserveTensorId(): TensorId {\n    const tensorId = createNewTensorId();\n    this.tensorTrackersById.set(tensorId, new TensorIdTracker(this));\n    return tensorId;\n  }\n\n  public releaseTensorId(tensorId: TensorId): void {\n    const tensorTracker = this.tensorTrackersById.get(tensorId);\n    if (!tensorTracker) {\n      return;\n    }\n    this.tensorTrackersById.delete(tensorId);\n    if (tensorTracker.tensorWrapper) {\n      this.releaseTensor(tensorTracker.tensorWrapper);\n    }\n  }\n\n  public async ensureTensor(\n    sessionId: number,\n    tensorId: TensorId,\n    dataType: MLOperandDataType,\n    shape: number[],\n    copyOld: boolean,\n  ): Promise<MLTensor> {\n    LOG_DEBUG(\n      'verbose',\n      () =>\n        `[WebNN] TensorManager.ensureTensor {tensorId: ${tensorId}, dataType: ${\n          dataType\n        }, shape: ${shape}, copyOld: ${copyOld}}`,\n    );\n    const tensor = this.tensorTrackersById.get(tensorId);\n    if (!tensor) {\n      throw new Error('Tensor not found.');\n    }\n    return tensor.ensureTensor(sessionId, dataType, shape, copyOld);\n  }\n\n  public upload(tensorId: TensorId, data: Uint8Array): void {\n    const tensor = this.tensorTrackersById.get(tensorId);\n    if (!tensor) {\n      throw new Error('Tensor not found.');\n    }\n    tensor.upload(data);\n  }\n\n  public async download(tensorId: TensorId): Promise<ArrayBuffer>;\n  public async download(tensorId: TensorId, dstBuffer: ArrayBufferView | ArrayBuffer): Promise<undefined>;\n  async download(tensorId: TensorId, dstBuffer?: ArrayBufferView | ArrayBuffer): Promise<ArrayBuffer | undefined> {\n    LOG_DEBUG(\n      'verbose',\n      () => `[WebNN] TensorManager.download {tensorId: ${tensorId}, dstBuffer: ${dstBuffer?.byteLength}}`,\n    );\n    const tensorTracker = this.tensorTrackersById.get(tensorId);\n    if (!tensorTracker) {\n      throw new Error('Tensor not found.');\n    }\n    return tensorTracker.download(dstBuffer);\n  }\n\n  public releaseTensorsForSession(sessionId: number): void {\n    for (const tensor of this.freeTensors) {\n      if (tensor.sessionId === sessionId) {\n        tensor.destroy();\n      }\n    }\n    this.freeTensors = this.freeTensors.filter((tensor) => tensor.sessionId !== sessionId);\n  }\n\n  public registerTensor(\n    sessionId: number,\n    mlTensor: MLTensor,\n    dataType: MLOperandDataType,\n    shape: readonly number[],\n  ): TensorId {\n    const context = this.getMLContext(sessionId);\n    const tensorId = createNewTensorId();\n    // Defaulting to READ | WRITE if usage is not provided.\n    // eslint-disable-next-line no-bitwise\n    const wrapper = new TensorWrapper({\n      sessionId,\n      context,\n      tensor: mlTensor,\n      dataType,\n      shape,\n    });\n    this.tensorTrackersById.set(tensorId, new TensorIdTracker(this, wrapper));\n    this.externalTensors.add(wrapper);\n    return tensorId;\n  }\n\n  /**\n   * Get or create an MLTensor with the given data type and shape.\n   */\n  public async getCachedTensor(\n    sessionId: number,\n    dataType: MLOperandDataType,\n    shape: readonly number[],\n    usage: MLTensorUsageFlags | undefined,\n    writable: boolean,\n    readable: boolean,\n    fallbackDataType?: MLOperandDataType,\n  ): Promise<TensorWrapper> {\n    const context = this.getMLContext(sessionId);\n    for (const [index, tensor] of this.freeTensors.entries()) {\n      if (tensor.canReuseTensor(context, dataType, shape)) {\n        LOG_DEBUG(\n          'verbose',\n          () =>\n            `[WebNN] Reusing tensor {dataType: ${dataType}, ${\n              fallbackDataType ? `fallbackDataType: ${fallbackDataType},` : ''\n            } shape: ${shape}`,\n        );\n        const wrapper = this.freeTensors.splice(index, 1)[0];\n        wrapper.sessionId = sessionId;\n        return wrapper;\n      }\n    }\n    LOG_DEBUG(\n      'verbose',\n      () =>\n        `[WebNN] MLContext.createTensor {dataType: ${dataType}, ${\n          fallbackDataType ? `fallbackDataType: ${fallbackDataType},` : ''\n        } shape: ${shape}}`,\n    );\n    const tensor = await context.createTensor({\n      dataType: fallbackDataType ?? dataType, // If fallback data type is provided, use it.\n      shape,\n      dimensions: shape,\n      usage,\n      writable,\n      readable,\n    });\n    return new TensorWrapper({ sessionId, context, tensor, dataType, shape, fallbackDataType });\n  }\n\n  /**\n   * Release tensor for reuse unless external.\n   */\n  public releaseTensor(tensorWrapper: TensorWrapper) {\n    if (this.externalTensors.has(tensorWrapper)) {\n      this.externalTensors.delete(tensorWrapper);\n    }\n    this.freeTensors.push(tensorWrapper);\n  }\n}\n\nexport const createTensorManager = (...args: ConstructorParameters<typeof TensorManagerImpl>): TensorManager =>\n  new TensorManagerImpl(...args);\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n// WebNN API currently does not have a TypeScript definition file. This file is a workaround with types generated from\n// WebNN API specification.\n// https://github.com/webmachinelearning/webnn/issues/677\n/// <reference path=\"webnn/webnn.d.ts\" />\n\nimport { Env, Tensor } from 'onnxruntime-common';\n\nimport { DataType, tensorDataTypeStringToEnum } from '../wasm-common';\nimport { getInstance } from '../wasm-factory';\n\nimport { createView } from './tensor-view';\nimport { TensorId, createTensorManager, convertDataToInt32 } from './webnn/tensor-manager';\nimport { configureLogger, LOG_DEBUG } from './log';\n\n/*\n * TensorProto::data_type to WebNN OperandType mapping.\n */\nconst onnxDataTypeToWebnnDataType = new Map<DataType, MLOperandDataType>([\n  [DataType.float, 'float32'],\n  [DataType.float16, 'float16'],\n  [DataType.int32, 'int32'],\n  [DataType.uint32, 'uint32'],\n  [DataType.int64, 'int64'],\n  [DataType.uint64, 'uint64'],\n  [DataType.int4, 'int4'],\n  [DataType.uint4, 'uint4'],\n  [DataType.int8, 'int8'],\n  [DataType.uint8, 'uint8'],\n  [DataType.bool, 'uint8'],\n]);\n\ntype MLContextEntry = {\n  gpuDevice?: GPUDevice;\n  options?: MLContextOptions;\n  mlContext: MLContext;\n};\n\nconst compareMLContextOptions = (a?: MLContextOptions, b?: MLContextOptions): boolean => {\n  if (a === b) {\n    return true;\n  }\n  if (a === undefined || b === undefined) {\n    return false;\n  }\n  const aKeys = Object.keys(a).sort() as Array<keyof typeof a>;\n  const bKeys = Object.keys(b).sort() as Array<keyof typeof b>;\n  return aKeys.length === bKeys.length && aKeys.every((key, index) => key === bKeys[index] && a[key] === b[key]);\n};\n\n/**\n * WebNN backend implementation. This class is used to keep track of the MLTensors created by the backend and keep track\n * of the current MLContext being used by the sessions.\n */\nexport class WebNNBackend {\n  /**\n   * Tensor managers for each session.\n   */\n  private tensorManager = createTensorManager(this);\n  /**\n   * Maps from session id to MLContexts.\n   */\n  private mlContextBySessionId = new Map<number, MLContext>();\n  /**\n   * Maps from MLContext to session ids.\n   */\n  private sessionIdsByMLContext = new Map<MLContext, Set<number>>();\n  /**\n   * Cache of MLContexts.\n   */\n  private mlContextCache: MLContextEntry[] = [];\n  /**\n   * Current session id.\n   */\n  private activeSessionId?: number;\n  /**\n   * Maps from session id to list of graph inputs.\n   */\n  private sessionGraphInputs: Map<number, string[]> = new Map();\n  /**\n   * Maps from session id to list of graph outputs.\n   */\n  private sessionGraphOutputs: Map<number, string[]> = new Map();\n  /**\n   * Temporary graph inputs for the current session.\n   * These inputs will be registered when the session is created.\n   */\n  private temporaryGraphInputs: string[] = [];\n  /**\n   * Temporary graph outputs for the current session.\n   * These outputs will be registered when the session is created.\n   */\n  private temporaryGraphOutputs: string[] = [];\n  /**\n   * Temporary tensors for the current session.\n   */\n  private temporarySessionTensorIds: Map<number, TensorId[]> = new Map();\n\n  constructor(env: Env) {\n    configureLogger(env.logLevel!, !!env.debug);\n  }\n\n  public get currentSessionId(): number {\n    if (this.activeSessionId === undefined) {\n      throw new Error('No active session');\n    }\n    return this.activeSessionId;\n  }\n\n  public onRunStart(sessionId: number): void {\n    LOG_DEBUG('verbose', () => `[WebNN] onRunStart {sessionId: ${sessionId}}`);\n    this.activeSessionId = sessionId;\n  }\n\n  public onRunEnd(sessionId: number): void {\n    LOG_DEBUG('verbose', () => `[WebNN] onRunEnd {sessionId: ${sessionId}}`);\n    const tensorIds = this.temporarySessionTensorIds.get(sessionId);\n    if (!tensorIds) {\n      return;\n    }\n    for (const tensorId of tensorIds) {\n      LOG_DEBUG('verbose', () => `[WebNN] releasing temporary tensor {tensorId: ${tensorId}}`);\n      this.tensorManager.releaseTensorId(tensorId);\n    }\n    this.temporarySessionTensorIds.delete(sessionId);\n    this.activeSessionId = undefined;\n  }\n\n  public async createMLContext(optionsOrDevice?: MLContextOptions | GPUDevice): Promise<MLContext> {\n    if (optionsOrDevice instanceof GPUDevice) {\n      const mlContextIndex = this.mlContextCache.findIndex((entry) => entry.gpuDevice === optionsOrDevice);\n      if (mlContextIndex !== -1) {\n        return this.mlContextCache[mlContextIndex].mlContext;\n      } else {\n        const mlContext = await navigator.ml.createContext(optionsOrDevice);\n        this.mlContextCache.push({ gpuDevice: optionsOrDevice, mlContext });\n        return mlContext;\n      }\n    } else if (optionsOrDevice === undefined) {\n      const mlContextIndex = this.mlContextCache.findIndex(\n        (entry) => entry.options === undefined && entry.gpuDevice === undefined,\n      );\n      if (mlContextIndex !== -1) {\n        return this.mlContextCache[mlContextIndex].mlContext;\n      } else {\n        const mlContext = await navigator.ml.createContext();\n        this.mlContextCache.push({ mlContext });\n        return mlContext;\n      }\n    }\n\n    const mlContextIndex = this.mlContextCache.findIndex((entry) =>\n      compareMLContextOptions(entry.options, optionsOrDevice),\n    );\n    if (mlContextIndex !== -1) {\n      return this.mlContextCache[mlContextIndex].mlContext;\n    } else {\n      const mlContext = await navigator.ml.createContext(optionsOrDevice);\n      this.mlContextCache.push({ options: optionsOrDevice, mlContext });\n      return mlContext;\n    }\n  }\n\n  public registerMLContext(sessionId: number, mlContext: MLContext): void {\n    this.mlContextBySessionId.set(sessionId, mlContext);\n    let sessionIds = this.sessionIdsByMLContext.get(mlContext);\n    if (!sessionIds) {\n      sessionIds = new Set();\n      this.sessionIdsByMLContext.set(mlContext, sessionIds);\n    }\n    sessionIds.add(sessionId);\n\n    if (this.temporaryGraphInputs.length > 0) {\n      this.sessionGraphInputs.set(sessionId, this.temporaryGraphInputs);\n      this.temporaryGraphInputs = [];\n    }\n    if (this.temporaryGraphOutputs.length > 0) {\n      this.sessionGraphOutputs.set(sessionId, this.temporaryGraphOutputs);\n      this.temporaryGraphOutputs = [];\n    }\n  }\n\n  public onReleaseSession(sessionId: number): void {\n    this.sessionGraphInputs.delete(sessionId);\n    this.sessionGraphOutputs.delete(sessionId);\n    const mlContext = this.mlContextBySessionId.get(sessionId)!;\n    if (!mlContext) {\n      // Current session is not a WebNN session.\n      return;\n    }\n    this.tensorManager.releaseTensorsForSession(sessionId);\n    this.mlContextBySessionId.delete(sessionId);\n    const sessionIds = this.sessionIdsByMLContext.get(mlContext)!;\n    sessionIds.delete(sessionId);\n    if (sessionIds.size === 0) {\n      this.sessionIdsByMLContext.delete(mlContext);\n      const mlContextIndex = this.mlContextCache.findIndex((entry) => entry.mlContext === mlContext);\n      if (mlContextIndex !== -1) {\n        this.mlContextCache.splice(mlContextIndex, 1);\n      }\n    }\n  }\n\n  public getMLContext(sessionId: number): MLContext | undefined {\n    return this.mlContextBySessionId.get(sessionId);\n  }\n\n  public reserveTensorId(): TensorId {\n    return this.tensorManager.reserveTensorId();\n  }\n\n  public releaseTensorId(tensorId: TensorId): void {\n    LOG_DEBUG('verbose', () => `[WebNN] releaseTensorId {tensorId: ${tensorId}}`);\n    this.tensorManager.releaseTensorId(tensorId);\n  }\n\n  public async ensureTensor(\n    sessionId: number | undefined,\n    tensorId: TensorId,\n    onnxDataType: DataType,\n    dimensions: number[],\n    copyOld: boolean,\n  ): Promise<MLTensor> {\n    const webnnDataType = onnxDataTypeToWebnnDataType.get(onnxDataType);\n    if (!webnnDataType) {\n      throw new Error(`Unsupported ONNX data type: ${onnxDataType}`);\n    }\n    return this.tensorManager.ensureTensor(\n      sessionId ?? this.currentSessionId,\n      tensorId,\n      webnnDataType,\n      dimensions,\n      copyOld,\n    );\n  }\n\n  public async createTemporaryTensor(\n    sessionId: number,\n    onnxDataType: DataType,\n    shape: readonly number[],\n  ): Promise<TensorId> {\n    LOG_DEBUG('verbose', () => `[WebNN] createTemporaryTensor {onnxDataType: ${onnxDataType}, shape: ${shape}}`);\n    const dataType = onnxDataTypeToWebnnDataType.get(onnxDataType);\n    if (!dataType) {\n      throw new Error(`Unsupported ONNX data type: ${onnxDataType}`);\n    }\n    const tensorId = this.tensorManager.reserveTensorId();\n    await this.tensorManager.ensureTensor(sessionId, tensorId, dataType, shape, false);\n    const tensorIds = this.temporarySessionTensorIds.get(sessionId);\n    if (!tensorIds) {\n      this.temporarySessionTensorIds.set(sessionId, [tensorId]);\n    } else {\n      tensorIds.push(tensorId);\n    }\n    return tensorId;\n  }\n\n  public uploadTensor(tensorId: TensorId, data: Uint8Array): void {\n    const wasm = getInstance();\n    if (!wasm.shouldTransferToMLTensor) {\n      throw new Error('Trying to upload to a MLTensor while shouldTransferToMLTensor is false');\n    }\n    LOG_DEBUG('verbose', () => `[WebNN] uploadTensor {tensorId: ${tensorId}, data: ${data.byteLength}}`);\n    this.tensorManager.upload(tensorId, data);\n  }\n\n  public async downloadTensor(tensorId: TensorId, dstBuffer: ArrayBufferView | ArrayBuffer): Promise<undefined> {\n    return this.tensorManager.download(tensorId, dstBuffer);\n  }\n\n  public createMLTensorDownloader(tensorId: TensorId, type: Tensor.MLTensorDataTypes): () => Promise<Tensor.DataType> {\n    return async () => {\n      const data = await this.tensorManager.download(tensorId);\n      return createView(data, type);\n    };\n  }\n\n  public registerMLTensor(sessionId: number, tensor: MLTensor, onnxDataType: DataType, dimensions: number[]): TensorId {\n    const webnnDataType = onnxDataTypeToWebnnDataType.get(onnxDataType);\n    if (!webnnDataType) {\n      throw new Error(`Unsupported ONNX data type: ${onnxDataType}`);\n    }\n\n    const id = this.tensorManager.registerTensor(sessionId, tensor, webnnDataType, dimensions);\n    LOG_DEBUG(\n      'verbose',\n      () =>\n        `[WebNN] registerMLTensor {tensor: ${tensor}, dataType: ${webnnDataType}, dimensions: ${\n          dimensions\n        }} -> {tensorId: ${id}}`,\n    );\n    return id;\n  }\n\n  // Register a WebNN Constant operand from external data.\n  public registerMLConstant(\n    externalFilePath: string,\n    dataOffset: number,\n    dataLength: number,\n    builder: MLGraphBuilder,\n    desc: MLOperandDescriptor,\n    mountedFiles: Map<string, Uint8Array> | undefined,\n    shouldConvertInt64ToInt32 = false,\n  ): MLOperand {\n    // If available, \"Module.MountedFiles\" is a Map for all preloaded files.\n    if (!mountedFiles) {\n      throw new Error('External mounted files are not available.');\n    }\n\n    let filePath = externalFilePath;\n    if (externalFilePath.startsWith('./')) {\n      filePath = externalFilePath.substring(2);\n    }\n    const fileData = mountedFiles.get(filePath);\n    if (!fileData) {\n      throw new Error(`File with name ${filePath} not found in preloaded files.`);\n    }\n\n    if (dataOffset + dataLength > fileData.byteLength) {\n      throw new Error('Out of bounds: data offset and length exceed the external file data size.');\n    }\n\n    const buffer = fileData.slice(dataOffset, dataOffset + dataLength).buffer;\n    let bufferView: ArrayBufferView;\n    switch (desc.dataType) {\n      case 'float32':\n        bufferView = new Float32Array(buffer);\n        break;\n      case 'float16':\n        bufferView =\n          typeof Float16Array !== 'undefined' && Float16Array.from ? new Float16Array(buffer) : new Uint16Array(buffer);\n        break;\n      case 'int32':\n        bufferView = new Int32Array(buffer);\n        break;\n      case 'uint32':\n        bufferView = new Uint32Array(buffer);\n        break;\n      case 'int64':\n        if (shouldConvertInt64ToInt32) {\n          // Int64 is not supported by current context, use int32 instead.\n          const int32Buffer = convertDataToInt32(new Uint8Array(buffer), 'int64');\n          bufferView = new Int32Array(int32Buffer.buffer);\n          desc.dataType = 'int32';\n        } else {\n          bufferView = new BigInt64Array(buffer);\n        }\n        break;\n      case 'uint64':\n        bufferView = new BigUint64Array(buffer);\n        break;\n      case 'int8':\n        bufferView = new Int8Array(buffer);\n        break;\n      case 'int4':\n      case 'uint4':\n      case 'uint8':\n        bufferView = new Uint8Array(buffer);\n        break;\n      default:\n        throw new Error(`Unsupported data type: ${desc.dataType} in creating WebNN Constant from external data.`);\n    }\n\n    LOG_DEBUG(\n      'verbose',\n      () =>\n        `[WebNN] registerMLConstant {dataType: ${desc.dataType}, shape: ${desc.shape}}} ${\n          shouldConvertInt64ToInt32 ? '(Note: it was int64 data type and registered to int32 as workaround)' : ''\n        }`,\n    );\n\n    return builder.constant(desc, bufferView);\n  }\n\n  public registerGraphInput(inputName: string): void {\n    this.temporaryGraphInputs.push(inputName);\n  }\n\n  public registerGraphOutput(outputName: string): void {\n    this.temporaryGraphOutputs.push(outputName);\n  }\n\n  public isGraphInput(sessionId: number, inputName: string): boolean {\n    const inputNames = this.sessionGraphInputs.get(sessionId);\n    if (!inputNames) {\n      return false;\n    }\n    return inputNames.includes(inputName);\n  }\n\n  public isGraphOutput(sessionId: number, outputName: string): boolean {\n    const outputNames = this.sessionGraphOutputs.get(sessionId);\n    if (!outputNames) {\n      return false;\n    }\n    return outputNames.includes(outputName);\n  }\n\n  public isGraphInputOutputTypeSupported(sessionId: number, type: Tensor.Type, isInput = true): boolean {\n    const context = this.mlContextBySessionId.get(sessionId);\n    const dataType = onnxDataTypeToWebnnDataType.get(tensorDataTypeStringToEnum(type));\n\n    if (typeof dataType === 'undefined') {\n      return false;\n    }\n\n    if (isInput) {\n      return !!context?.opSupportLimits().input.dataTypes.includes(dataType);\n    } else {\n      return !!context?.opSupportLimits().output.dataTypes.includes(dataType);\n    }\n  }\n\n  public flush(): void {\n    // Unlike the WebGPU backend, the WebNN backend does not need to flush any pending operations.\n  }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n// WebNN API currently does not have a TypeScript definition file. This file is a workaround with types generated from\n// WebNN API specification.\n// https://github.com/webmachinelearning/webnn/issues/677\n/// <reference path=\"jsep/webnn/webnn.d.ts\" />\n\nimport { Env, InferenceSession, Tensor, TRACE_EVENT_BEGIN, TRACE_EVENT_END } from 'onnxruntime-common';\n\nimport {\n  SerializableInternalBuffer,\n  SerializableSessionMetadata,\n  SerializableTensorMetadata,\n  TensorMetadata,\n} from './proxy-messages';\nimport { setRunOptions } from './run-options';\nimport { setSessionOptions } from './session-options';\nimport {\n  calculateTensorSizeInBytes,\n  dataLocationStringToEnum,\n  isGpuBufferSupportedType,\n  isMLTensorSupportedType,\n  logLevelStringToEnum,\n  tensorDataTypeEnumToString,\n  tensorDataTypeStringToEnum,\n  tensorTypeToTypedArrayConstructor,\n} from './wasm-common';\nimport { getInstance } from './wasm-factory';\nimport { allocWasmString, checkLastError } from './wasm-utils';\nimport { loadFile } from './wasm-utils-load-file';\n\n// #region Initializations\n\n/**\n * There are 4 different \"initialization\" steps for ORT. They happen in different places and different time.\n *\n * 1. JavaScript initialization for onnxruntime-common and onnxruntime-web.\n *    This is the first initialization step. In this step, onnxruntime-web calls onnxruntime-common's registerBackend()\n * function multiple times to register all the available backends. The backend registration is very fast. It only\n * registers the backend name with the uninitialized backend object. No heavy initialization is done in this step.\n *    Refer to web/lib/index.ts for the backend registration.\n *\n * 2. WebAssembly artifact initialization.\n *    This happens when any registered wasm backend is used for the first time (ie. `ort.InferenceSession.create()` is\n * called). In this step, onnxruntime-web does the followings:\n *     - create a proxy worker and make sure the proxy worker is ready to receive messages, if proxy is enabled.\n *     - perform feature detection, locate correct WebAssembly artifact path and call the Emscripten generated\n * JavaScript code to initialize the WebAssembly runtime.\n *         - if proxy is enabled, this step happens in the proxy worker using message 'init-wasm'.\n *         - downloading the 'ort-wasm{...}.wasm' file is done in this step.\n *         - if multi-thread is enabled, one or more webworker will be created to initialize the PThread threadpool.\n *\n * 3. ORT environment initialization.\n *    This happens after step 2. In this step, onnxruntime-web performs ONNX Runtime environment initialization.\n * Function `_OrtInit()` is called in this step.\n *     - if proxy is enabled, this step happens in the proxy worker using message 'init-ort'.\n *     - logging level (ort.env.logLevel) and thread number (ort.env.wasm.numThreads) are set in this step.\n *\n * 4. Session initialization.\n *    This happens when `ort.InferenceSession.create()` is called. Unlike the first 3 steps (they only called once),\n * this step will be done for each session. In this step, onnxruntime-web does the followings:\n *    If the parameter is a URL:\n *    - download the model data from the URL.\n *    - copy the model data to the WASM heap. (proxy: 'copy-from')\n *    - dereference the model buffer. This step allows the original ArrayBuffer to be garbage collected.\n *    - call `_OrtCreateSession()` to create the session. (proxy: 'create')\n *\n *    If the parameter is a Uint8Array object:\n *    - copy the model data to the WASM heap. (proxy: 'copy-from')\n *    - call `_OrtCreateSession()` to create the session. (proxy: 'create')\n *\n *\n */\n\n/**\n * initialize ORT environment.\n *\n * @param numThreads SetGlobalIntraOpNumThreads(numThreads)\n * @param loggingLevel CreateEnv(static_cast<OrtLoggingLevel>(logging_level))\n */\nconst initOrt = (numThreads: number, loggingLevel: number): void => {\n  const errorCode = getInstance()._OrtInit(numThreads, loggingLevel);\n  if (errorCode !== 0) {\n    checkLastError(\"Can't initialize onnxruntime.\");\n  }\n};\n\n/**\n * initialize runtime environment.\n * @param env passed in the environment config object.\n */\nexport const initRuntime = async (env: Env): Promise<void> => {\n  // init ORT\n  initOrt(env.wasm.numThreads!, logLevelStringToEnum(env.logLevel));\n};\n\n/**\n * perform EP specific initialization.\n *\n * @param env\n * @param epName\n */\nexport const initEp = async (env: Env, epName: string): Promise<void> => {\n  // initialize ASYNCIFY support\n  getInstance().asyncInit?.();\n\n  // perform WebGPU availability check ( either JSEP or WebGPU EP )\n  let webgpuAdapter = env.webgpu.adapter as GPUAdapter | null;\n  if (epName === 'webgpu') {\n    if (typeof navigator === 'undefined' || !navigator.gpu) {\n      throw new Error('WebGPU is not supported in current environment');\n    }\n    if (!webgpuAdapter) {\n      // if adapter is not set, request a new adapter.\n      const powerPreference = env.webgpu.powerPreference;\n      if (powerPreference !== undefined && powerPreference !== 'low-power' && powerPreference !== 'high-performance') {\n        throw new Error(`Invalid powerPreference setting: \"${powerPreference}\"`);\n      }\n      const forceFallbackAdapter = env.webgpu.forceFallbackAdapter;\n      if (forceFallbackAdapter !== undefined && typeof forceFallbackAdapter !== 'boolean') {\n        throw new Error(`Invalid forceFallbackAdapter setting: \"${forceFallbackAdapter}\"`);\n      }\n      webgpuAdapter = await navigator.gpu.requestAdapter({ powerPreference, forceFallbackAdapter });\n      if (!webgpuAdapter) {\n        throw new Error(\n          'Failed to get GPU adapter. ' +\n            'You may need to enable flag \"--enable-unsafe-webgpu\" if you are using Chrome.',\n        );\n      }\n    } else {\n      // if adapter is set, validate it.\n      if (\n        typeof webgpuAdapter.limits !== 'object' ||\n        typeof webgpuAdapter.features !== 'object' ||\n        typeof webgpuAdapter.requestDevice !== 'function'\n      ) {\n        throw new Error('Invalid GPU adapter set in `env.webgpu.adapter`. It must be a GPUAdapter object.');\n      }\n    }\n  }\n\n  // perform WebNN availability check ( either JSEP or WebNN EP )\n  if (epName === 'webnn') {\n    if (typeof navigator === 'undefined' || !(navigator as unknown as { ml: unknown }).ml) {\n      throw new Error('WebNN is not supported in current environment');\n    }\n  }\n\n  if (!BUILD_DEFS.DISABLE_JSEP) {\n    // eslint-disable-next-line @typescript-eslint/no-require-imports, @typescript-eslint/no-var-requires\n    const initJsep = require('./jsep/init').init;\n\n    if (epName === 'webgpu') {\n      await initJsep('webgpu', getInstance(), env, webgpuAdapter);\n    }\n    if (epName === 'webnn') {\n      await initJsep('webnn', getInstance(), env);\n    }\n  } else {\n    if (!BUILD_DEFS.DISABLE_WEBGPU && epName === 'webgpu') {\n      getInstance().webgpuInit!((device) => {\n        env.webgpu.device = device;\n      });\n    }\n    if (!BUILD_DEFS.DISABLE_WEBNN && epName === 'webnn') {\n      // eslint-disable-next-line @typescript-eslint/no-require-imports, @typescript-eslint/no-var-requires\n      const backend = new (require('./jsep/backend-webnn').WebNNBackend)(env);\n      getInstance().webnnInit!([\n        backend,\n        // webnnReserveTensorId\n        () => backend.reserveTensorId(),\n        // webnnReleaseTensorId,\n        (tensorId: number) => backend.releaseTensorId(tensorId),\n        // webnnEnsureTensor\n        async (sessionId: number | undefined, tensorId: number, onnxDataType: number, shape: number[], copyOld) =>\n          backend.ensureTensor(sessionId, tensorId, onnxDataType, shape, copyOld),\n        // webnnUploadTensor\n        (tensorId: number, data: Uint8Array) => {\n          backend.uploadTensor(tensorId, data);\n        },\n        // webnnDownloadTensor\n        async (tensorId: number, dstBuffer: ArrayBufferView | ArrayBuffer) =>\n          backend.downloadTensor(tensorId, dstBuffer),\n        // webnnRegisterMLContext\n        (sessionId: number, mlContext: MLContext) => backend.registerMLContext(sessionId, mlContext),\n        // webnnEnableTraceEvent\n        !!env.trace,\n      ]);\n    }\n  }\n};\n\n// #endregion Initializations\n\n/**\n * valid data locations for input/output tensors.\n */\ntype SupportedTensorDataLocationForInputOutput =\n  | 'cpu'\n  | 'cpu-pinned'\n  | 'gpu-buffer'\n  | 'ml-tensor'\n  // Use 'ml-tensor' during inference, but output a tensor located on the CPU.\n  | 'ml-tensor-cpu-output';\n\ntype IOBindingState = {\n  /**\n   * the handle of IO binding.\n   */\n  readonly handle: number;\n\n  /**\n   * the preferred location for each output tensor.\n   *\n   * value is one of 'cpu', 'cpu-pinned', 'gpu-buffer', 'ml-tensor'.\n   */\n  readonly outputPreferredLocations: readonly SupportedTensorDataLocationForInputOutput[];\n\n  /**\n   * enum value of the preferred location for each output tensor.\n   */\n  readonly outputPreferredLocationsEncoded: readonly number[];\n};\n\n/**\n *  tuple elements are: InferenceSession ID; inputNamesUTF8Encoded; outputNamesUTF8Encoded; bindingState\n */\ntype SessionMetadata = [\n  inferenceSessionId: number,\n  inputNamesUTF8Encoded: number[],\n  outputNamesUTF8Encoded: number[],\n  bindingState: IOBindingState | null,\n  enableGraphCapture: boolean,\n  inputOutputBound: boolean,\n];\n\nconst activeSessions = new Map<number, SessionMetadata>();\n\n/**\n * get the input/output count of the session.\n * @param sessionHandle the handle representing the session. should be non-zero.\n * @returns a tuple including 2 numbers, representing the input count and output count.\n */\nconst getSessionInputOutputCount = (sessionHandle: number): [number, number] => {\n  const wasm = getInstance();\n  const stack = wasm.stackSave();\n  try {\n    const ptrSize = wasm.PTR_SIZE;\n    const dataOffset = wasm.stackAlloc(2 * ptrSize);\n    const errorCode = wasm._OrtGetInputOutputCount(sessionHandle, dataOffset, dataOffset + ptrSize);\n    if (errorCode !== 0) {\n      checkLastError(\"Can't get session input/output count.\");\n    }\n    const type = ptrSize === 4 ? 'i32' : 'i64';\n    return [Number(wasm.getValue(dataOffset, type)), Number(wasm.getValue(dataOffset + ptrSize, type))];\n  } finally {\n    wasm.stackRestore(stack);\n  }\n};\n\nconst getSessionInputOutputMetadata = (\n  sessionHandle: number,\n  index: number,\n): [nameOffset: number, elementType: number, dims?: Array<number | string>] => {\n  const wasm = getInstance();\n  const stack = wasm.stackSave();\n  let metadataOffset = 0;\n  try {\n    const ptrSize = wasm.PTR_SIZE;\n    const dataOffset = wasm.stackAlloc(2 * ptrSize);\n    const errorCode = wasm._OrtGetInputOutputMetadata(sessionHandle, index, dataOffset, dataOffset + ptrSize);\n    if (errorCode !== 0) {\n      checkLastError(\"Can't get session input/output metadata.\");\n    }\n    const nameOffset = Number(wasm.getValue(dataOffset, '*'));\n    metadataOffset = Number(wasm.getValue(dataOffset + ptrSize, '*'));\n    // get element type\n    const elementType = wasm.HEAP32[metadataOffset / 4];\n    if (elementType === 0) {\n      return [nameOffset, 0]; // non-tensor\n    }\n\n    // get dims count\n    const dimsCount = wasm.HEAPU32[metadataOffset / 4 + 1];\n    // get dims\n    const dims: Array<number | string> = [];\n    for (let i = 0; i < dimsCount; i++) {\n      const symbolicDimNameOffset = Number(wasm.getValue(metadataOffset + 8 + i * ptrSize, '*'));\n      dims.push(\n        symbolicDimNameOffset !== 0\n          ? wasm.UTF8ToString(symbolicDimNameOffset)\n          : Number(wasm.getValue(metadataOffset + 8 + (i + dimsCount) * ptrSize, '*')),\n      );\n    }\n    return [nameOffset, elementType, dims];\n  } finally {\n    wasm.stackRestore(stack);\n    if (metadataOffset !== 0) {\n      wasm._OrtFree(metadataOffset);\n    }\n  }\n};\n\n/**\n * allocate the memory and memcpy the external buffer.\n *\n * @param model - the external buffer containing the model data. Must not be the same buffer as the WASM heap.\n * @returns a 2-elements tuple - the pointer and size of the allocated buffer\n */\nexport const copyFromExternalBuffer = (model: Uint8Array): [number, number] => {\n  const wasm = getInstance();\n  const modelDataOffset = wasm._malloc(model.byteLength);\n  if (modelDataOffset === 0) {\n    throw new Error(`Can't create a session. failed to allocate a buffer of size ${model.byteLength}.`);\n  }\n  wasm.HEAPU8.set(model, modelDataOffset);\n  return [modelDataOffset, model.byteLength];\n};\n\n/**\n * create an inference session from a model data buffer.\n *\n * @param modelData - either a Uint8Array object representing the model data, or a 2-elements tuple containing the\n *     pointer and size of the model data buffer.\n * @param options an optional session options object.\n * @returns a 3-elements tuple containing [session handle, input names, output names]\n */\nexport const createSession = async (\n  modelData: Uint8Array | SerializableInternalBuffer,\n  options?: InferenceSession.SessionOptions,\n): Promise<SerializableSessionMetadata> => {\n  let modelDataOffset: number, modelDataLength: number;\n  const wasm = getInstance();\n\n  if (Array.isArray(modelData)) {\n    // if model data is an array, it must be a 2-elements tuple containing the pointer and size of the model data\n    [modelDataOffset, modelDataLength] = modelData;\n  } else if (modelData.buffer === wasm.HEAPU8.buffer) {\n    // if model data uses the same buffer as the WASM heap, we don't need to copy it.\n    [modelDataOffset, modelDataLength] = [modelData.byteOffset, modelData.byteLength];\n  } else {\n    // otherwise, copy the model data to the WASM heap.\n    [modelDataOffset, modelDataLength] = copyFromExternalBuffer(modelData);\n  }\n\n  let sessionHandle = 0;\n  let sessionOptionsHandle = 0;\n  let ioBindingHandle = 0;\n  let allocs: number[] = [];\n  const inputNamesUTF8Encoded = [];\n  const outputNamesUTF8Encoded = [];\n\n  try {\n    [sessionOptionsHandle, allocs] = await setSessionOptions(options);\n\n    if (options?.externalData && wasm.mountExternalData) {\n      const loadingPromises = [];\n      for (const file of options.externalData) {\n        const path = typeof file === 'string' ? file : file.path;\n        loadingPromises.push(\n          loadFile(typeof file === 'string' ? file : file.data).then((data) => {\n            wasm.mountExternalData(path, data);\n          }),\n        );\n      }\n\n      // wait for all external data files to be loaded\n      await Promise.all(loadingPromises);\n    }\n\n    for (const provider of options?.executionProviders ?? []) {\n      const providerName = typeof provider === 'string' ? provider : provider.name;\n      if (providerName === 'webnn') {\n        wasm.shouldTransferToMLTensor = false;\n        if (typeof provider !== 'string') {\n          const webnnOptions = provider as InferenceSession.WebNNExecutionProviderOption;\n          const context = (webnnOptions as InferenceSession.WebNNOptionsWithMLContext)?.context;\n          const gpuDevice = (webnnOptions as InferenceSession.WebNNOptionsWebGpu)?.gpuDevice;\n          const deviceType = (webnnOptions as InferenceSession.WebNNContextOptions)?.deviceType;\n          const powerPreference = (webnnOptions as InferenceSession.WebNNContextOptions)?.powerPreference;\n          if (context) {\n            wasm.currentContext = context as MLContext;\n          } else if (gpuDevice) {\n            wasm.currentContext = await wasm.webnnCreateMLContext!(gpuDevice);\n          } else {\n            wasm.currentContext = await wasm.webnnCreateMLContext!({ deviceType, powerPreference });\n          }\n        } else {\n          wasm.currentContext = await wasm.webnnCreateMLContext!();\n        }\n        break;\n      }\n    }\n\n    sessionHandle = await wasm._OrtCreateSession(modelDataOffset, modelDataLength, sessionOptionsHandle);\n    wasm.webgpuOnCreateSession?.(sessionHandle);\n    if (sessionHandle === 0) {\n      checkLastError(\"Can't create a session.\");\n    }\n\n    wasm.jsepOnCreateSession?.();\n\n    // clear current MLContext after session creation\n    if (wasm.currentContext) {\n      wasm.webnnRegisterMLContext!(sessionHandle, wasm.currentContext);\n      wasm.currentContext = undefined;\n      wasm.shouldTransferToMLTensor = true;\n    }\n\n    const [inputCount, outputCount] = getSessionInputOutputCount(sessionHandle);\n\n    const enableGraphCapture = !!options?.enableGraphCapture;\n\n    const inputNames = [];\n    const outputNames = [];\n    const inputMetadata: InferenceSession.ValueMetadata[] = [];\n    const outputMetadata: InferenceSession.ValueMetadata[] = [];\n    const outputPreferredLocations: SupportedTensorDataLocationForInputOutput[] = [];\n    for (let i = 0; i < inputCount; i++) {\n      const [nameOffset, elementType, shape] = getSessionInputOutputMetadata(sessionHandle, i);\n      if (nameOffset === 0) {\n        checkLastError(\"Can't get an input name.\");\n      }\n      inputNamesUTF8Encoded.push(nameOffset);\n      const name = wasm.UTF8ToString(nameOffset);\n      inputNames.push(name);\n      inputMetadata.push(\n        elementType === 0\n          ? { name, isTensor: false }\n          : { name, isTensor: true, type: tensorDataTypeEnumToString(elementType), shape: shape! },\n      );\n    }\n    for (let i = 0; i < outputCount; i++) {\n      const [nameOffset, elementType, shape] = getSessionInputOutputMetadata(sessionHandle, i + inputCount);\n      if (nameOffset === 0) {\n        checkLastError(\"Can't get an output name.\");\n      }\n      outputNamesUTF8Encoded.push(nameOffset);\n      const nameString = wasm.UTF8ToString(nameOffset);\n      outputNames.push(nameString);\n      outputMetadata.push(\n        elementType === 0\n          ? { name: nameString, isTensor: false }\n          : { name: nameString, isTensor: true, type: tensorDataTypeEnumToString(elementType), shape: shape! },\n      );\n\n      if (!BUILD_DEFS.DISABLE_JSEP || !BUILD_DEFS.DISABLE_WEBGPU) {\n        if (enableGraphCapture && options?.preferredOutputLocation === undefined) {\n          outputPreferredLocations.push('gpu-buffer');\n          continue;\n        }\n        const location =\n          typeof options?.preferredOutputLocation === 'string'\n            ? options.preferredOutputLocation\n            : (options?.preferredOutputLocation?.[nameString] ?? 'cpu');\n        const isGraphOutput = wasm.webnnIsGraphOutput;\n        if (location === 'cpu' && isGraphOutput && isGraphOutput(sessionHandle, nameString)) {\n          outputPreferredLocations.push('ml-tensor-cpu-output');\n          continue;\n        }\n        if (location !== 'cpu' && location !== 'cpu-pinned' && location !== 'gpu-buffer' && location !== 'ml-tensor') {\n          throw new Error(`Not supported preferred output location: ${location}.`);\n        }\n        if (enableGraphCapture && location !== 'gpu-buffer') {\n          throw new Error(\n            `Not supported preferred output location: ${location}. Only 'gpu-buffer' location is supported when enableGraphCapture is true.`,\n          );\n        }\n        outputPreferredLocations.push(location);\n      }\n    }\n\n    // use IO binding only when at least one output is preferred to be on GPU.\n    let bindingState: IOBindingState | null = null;\n    if (\n      (!BUILD_DEFS.DISABLE_JSEP || !BUILD_DEFS.DISABLE_WEBGPU) &&\n      outputPreferredLocations.some((l) => l === 'gpu-buffer' || l === 'ml-tensor' || l === 'ml-tensor-cpu-output')\n    ) {\n      ioBindingHandle = wasm._OrtCreateBinding(sessionHandle);\n      if (ioBindingHandle === 0) {\n        checkLastError(\"Can't create IO binding.\");\n      }\n\n      bindingState = {\n        handle: ioBindingHandle,\n        outputPreferredLocations,\n        outputPreferredLocationsEncoded: outputPreferredLocations\n          // 'ml-tensor-cpu-output' is treated as 'ml-tensor' for the purpose of IO binding.\n          .map((l) => (l === 'ml-tensor-cpu-output' ? 'ml-tensor' : l))\n          .map((l) => dataLocationStringToEnum(l)),\n      };\n    }\n\n    activeSessions.set(sessionHandle, [\n      sessionHandle,\n      inputNamesUTF8Encoded,\n      outputNamesUTF8Encoded,\n      bindingState,\n      enableGraphCapture,\n      false,\n    ]);\n    return [sessionHandle, inputNames, outputNames, inputMetadata, outputMetadata];\n  } catch (e) {\n    inputNamesUTF8Encoded.forEach((buf) => wasm._OrtFree(buf));\n    outputNamesUTF8Encoded.forEach((buf) => wasm._OrtFree(buf));\n\n    if (ioBindingHandle !== 0) {\n      if (wasm._OrtReleaseBinding(ioBindingHandle) !== 0) {\n        checkLastError(\"Can't release IO binding.\");\n      }\n    }\n\n    if (sessionHandle !== 0) {\n      if (wasm._OrtReleaseSession(sessionHandle) !== 0) {\n        checkLastError(\"Can't release session.\");\n      }\n    }\n    throw e;\n  } finally {\n    wasm._free(modelDataOffset);\n    if (sessionOptionsHandle !== 0) {\n      if (wasm._OrtReleaseSessionOptions(sessionOptionsHandle) !== 0) {\n        checkLastError(\"Can't release session options.\");\n      }\n    }\n    allocs.forEach((alloc) => wasm._free(alloc));\n\n    // unmount external data if necessary\n    wasm.unmountExternalData?.();\n  }\n};\n\nexport const releaseSession = (sessionId: number): void => {\n  const wasm = getInstance();\n  const session = activeSessions.get(sessionId);\n  if (!session) {\n    throw new Error(`cannot release session. invalid session id: ${sessionId}`);\n  }\n  const [sessionHandle, inputNamesUTF8Encoded, outputNamesUTF8Encoded, ioBindingState, enableGraphCapture] = session;\n\n  if (ioBindingState) {\n    if (enableGraphCapture) {\n      if (wasm._OrtClearBoundOutputs(ioBindingState.handle) !== 0) {\n        checkLastError(\"Can't clear bound outputs.\");\n      }\n    }\n    if (wasm._OrtReleaseBinding(ioBindingState.handle) !== 0) {\n      checkLastError(\"Can't release IO binding.\");\n    }\n  }\n\n  wasm.jsepOnReleaseSession?.(sessionId);\n  wasm.webnnOnReleaseSession?.(sessionId);\n  wasm.webgpuOnReleaseSession?.(sessionId);\n\n  inputNamesUTF8Encoded.forEach((buf) => wasm._OrtFree(buf));\n  outputNamesUTF8Encoded.forEach((buf) => wasm._OrtFree(buf));\n  if (wasm._OrtReleaseSession(sessionHandle) !== 0) {\n    checkLastError(\"Can't release session.\");\n  }\n  activeSessions.delete(sessionId);\n};\n\nexport const prepareInputOutputTensor = async (\n  tensor: TensorMetadata | null,\n  tensorHandles: number[],\n  allocs: number[],\n  sessionId: number,\n  tensorNameUTF8Encoded: number,\n  index: number,\n  enableGraphCapture = false,\n): Promise<void> => {\n  if (!tensor) {\n    tensorHandles.push(0);\n    return;\n  }\n\n  const wasm = getInstance();\n  const ptrSize = wasm.PTR_SIZE;\n\n  const dataType = tensor[0];\n  const dims = tensor[1];\n  const location = tensor[3];\n  let actualLocation = location;\n\n  let rawData: number;\n  let dataByteLength: number;\n\n  if (dataType === 'string' && (location === 'gpu-buffer' || location === 'ml-tensor')) {\n    throw new Error('String tensor is not supported on GPU.');\n  }\n\n  if (enableGraphCapture && location !== 'gpu-buffer') {\n    throw new Error(\n      `External buffer must be provided for input/output index ${index} when enableGraphCapture is true.`,\n    );\n  }\n\n  if (location === 'gpu-buffer') {\n    const gpuBuffer = tensor[2].gpuBuffer;\n    dataByteLength = calculateTensorSizeInBytes(tensorDataTypeStringToEnum(dataType), dims)!;\n\n    if (!BUILD_DEFS.DISABLE_WEBGPU) {\n      const registerBuffer = wasm.webgpuRegisterBuffer;\n      if (!registerBuffer) {\n        throw new Error('Tensor location \"gpu-buffer\" is not supported without using WebGPU.');\n      }\n\n      rawData = registerBuffer(gpuBuffer, sessionId);\n    } else {\n      const registerBuffer = wasm.jsepRegisterBuffer;\n      if (!registerBuffer) {\n        throw new Error('Tensor location \"gpu-buffer\" is not supported without using WebGPU.');\n      }\n      rawData = registerBuffer(sessionId, index, gpuBuffer, dataByteLength);\n    }\n  } else if (location === 'ml-tensor') {\n    const mlTensor = tensor[2].mlTensor as MLTensor;\n    dataByteLength = calculateTensorSizeInBytes(tensorDataTypeStringToEnum(dataType), dims)!;\n\n    const registerMLTensor = wasm.webnnRegisterMLTensor;\n    if (!registerMLTensor) {\n      throw new Error('Tensor location \"ml-tensor\" is not supported without using WebNN.');\n    }\n    rawData = registerMLTensor(sessionId, mlTensor, tensorDataTypeStringToEnum(dataType), dims);\n  } else {\n    const data = tensor[2];\n\n    if (Array.isArray(data)) {\n      // string tensor\n      dataByteLength = ptrSize * data.length;\n      rawData = wasm._malloc(dataByteLength);\n      allocs.push(rawData);\n      for (let i = 0; i < data.length; i++) {\n        if (typeof data[i] !== 'string') {\n          throw new TypeError(`tensor data at index ${i} is not a string`);\n        }\n        wasm.setValue(rawData + i * ptrSize, allocWasmString(data[i], allocs), '*');\n      }\n    } else {\n      const isGraphInput = wasm.webnnIsGraphInput;\n      const isGraphOutput = wasm.webnnIsGraphOutput;\n      if (dataType !== 'string' && isGraphInput && isGraphOutput) {\n        const tensorName = wasm.UTF8ToString(tensorNameUTF8Encoded);\n        // Promote the tensor to 'ml-tensor' if it is a graph input.\n        if (isGraphInput(sessionId, tensorName) || isGraphOutput(sessionId, tensorName)) {\n          const dataTypeEnum = tensorDataTypeStringToEnum(dataType);\n          dataByteLength = calculateTensorSizeInBytes(dataTypeEnum, dims)!;\n          actualLocation = 'ml-tensor';\n          const createTemporaryTensor = wasm.webnnCreateTemporaryTensor;\n          const uploadTensor = wasm.webnnUploadTensor;\n          if (!createTemporaryTensor || !uploadTensor) {\n            throw new Error('Tensor location \"ml-tensor\" is not supported without using WebNN.');\n          }\n          const tensorId = await createTemporaryTensor(sessionId, dataTypeEnum, dims as number[]);\n          uploadTensor(tensorId, new Uint8Array(data.buffer, data.byteOffset, data.byteLength));\n          rawData = tensorId;\n        } else {\n          dataByteLength = data.byteLength;\n          rawData = wasm._malloc(dataByteLength);\n          allocs.push(rawData);\n          wasm.HEAPU8.set(new Uint8Array(data.buffer, data.byteOffset, dataByteLength), rawData);\n        }\n      } else {\n        dataByteLength = data.byteLength;\n        rawData = wasm._malloc(dataByteLength);\n        allocs.push(rawData);\n        wasm.HEAPU8.set(new Uint8Array(data.buffer, data.byteOffset, dataByteLength), rawData);\n      }\n    }\n  }\n\n  const stack = wasm.stackSave();\n  const dimsOffset = wasm.stackAlloc(4 * dims.length);\n  try {\n    dims.forEach((d, index) => wasm.setValue(dimsOffset + index * ptrSize, d, ptrSize === 4 ? 'i32' : 'i64'));\n    const tensor = wasm._OrtCreateTensor(\n      tensorDataTypeStringToEnum(dataType),\n      rawData,\n      dataByteLength,\n      dimsOffset,\n      dims.length,\n      dataLocationStringToEnum(actualLocation),\n    );\n    if (tensor === 0) {\n      checkLastError(`Can't create tensor for input/output. session=${sessionId}, index=${index}.`);\n    }\n    tensorHandles.push(tensor);\n  } finally {\n    wasm.stackRestore(stack);\n  }\n};\n\n/**\n * perform inference run\n */\nexport const run = async (\n  sessionId: number,\n  inputIndices: number[],\n  inputTensors: TensorMetadata[],\n  outputIndices: number[],\n  outputTensors: Array<TensorMetadata | null>,\n  options: InferenceSession.RunOptions,\n): Promise<TensorMetadata[]> => {\n  const wasm = getInstance();\n  const ptrSize = wasm.PTR_SIZE;\n  const session = activeSessions.get(sessionId);\n  if (!session) {\n    throw new Error(`cannot run inference. invalid session id: ${sessionId}`);\n  }\n  const sessionHandle = session[0];\n  const inputNamesUTF8Encoded = session[1];\n  const outputNamesUTF8Encoded = session[2];\n  const ioBindingState = session[3];\n  const enableGraphCapture = session[4];\n  const inputOutputBound = session[5];\n\n  const inputCount = inputIndices.length;\n  const outputCount = outputIndices.length;\n\n  let runOptionsHandle = 0;\n  let runOptionsAllocs: number[] = [];\n\n  const inputTensorHandles: number[] = [];\n  const outputTensorHandles: number[] = [];\n  const inputOutputAllocs: number[] = [];\n\n  const beforeRunStack = wasm.stackSave();\n  const inputValuesOffset = wasm.stackAlloc(inputCount * ptrSize);\n  const inputNamesOffset = wasm.stackAlloc(inputCount * ptrSize);\n  const outputValuesOffset = wasm.stackAlloc(outputCount * ptrSize);\n  const outputNamesOffset = wasm.stackAlloc(outputCount * ptrSize);\n\n  try {\n    [runOptionsHandle, runOptionsAllocs] = setRunOptions(options);\n\n    TRACE_EVENT_BEGIN('wasm prepareInputOutputTensor');\n    // create input tensors\n    for (let i = 0; i < inputCount; i++) {\n      await prepareInputOutputTensor(\n        inputTensors[i],\n        inputTensorHandles,\n        inputOutputAllocs,\n        sessionId,\n        inputNamesUTF8Encoded[inputIndices[i]],\n        inputIndices[i],\n        enableGraphCapture,\n      );\n    }\n\n    // create output tensors\n    for (let i = 0; i < outputCount; i++) {\n      await prepareInputOutputTensor(\n        outputTensors[i],\n        outputTensorHandles,\n        inputOutputAllocs,\n        sessionId,\n        outputNamesUTF8Encoded[outputIndices[i]],\n        inputCount + outputIndices[i],\n        enableGraphCapture,\n      );\n    }\n    TRACE_EVENT_END('wasm prepareInputOutputTensor');\n\n    for (let i = 0; i < inputCount; i++) {\n      wasm.setValue(inputValuesOffset + i * ptrSize, inputTensorHandles[i], '*');\n      wasm.setValue(inputNamesOffset + i * ptrSize, inputNamesUTF8Encoded[inputIndices[i]], '*');\n    }\n    for (let i = 0; i < outputCount; i++) {\n      wasm.setValue(outputValuesOffset + i * ptrSize, outputTensorHandles[i], '*');\n      wasm.setValue(outputNamesOffset + i * ptrSize, outputNamesUTF8Encoded[outputIndices[i]], '*');\n    }\n\n    if ((!BUILD_DEFS.DISABLE_JSEP || !BUILD_DEFS.DISABLE_WEBGPU) && ioBindingState && !inputOutputBound) {\n      const { handle, outputPreferredLocations, outputPreferredLocationsEncoded } = ioBindingState;\n\n      if (inputNamesUTF8Encoded.length !== inputCount) {\n        throw new Error(\n          `input count from feeds (${inputCount}) is expected to be always equal to model's input count (${inputNamesUTF8Encoded.length}).`,\n        );\n      }\n\n      TRACE_EVENT_BEGIN('wasm bindInputsOutputs');\n      // process inputs\n      for (let i = 0; i < inputCount; i++) {\n        const index = inputIndices[i];\n        const errorCode = await wasm._OrtBindInput(handle, inputNamesUTF8Encoded[index], inputTensorHandles[i]);\n        if (errorCode !== 0) {\n          checkLastError(`Can't bind input[${i}] for session=${sessionId}.`);\n        }\n      }\n\n      // process pre-allocated outputs\n      for (let i = 0; i < outputCount; i++) {\n        const index = outputIndices[i];\n        const location = outputTensors[i]?.[3]; // undefined means output is not pre-allocated.\n\n        if (location) {\n          // output is pre-allocated. bind the tensor.\n          const errorCode = wasm._OrtBindOutput(handle, outputNamesUTF8Encoded[index], outputTensorHandles[i], 0);\n          if (errorCode !== 0) {\n            checkLastError(`Can't bind pre-allocated output[${i}] for session=${sessionId}.`);\n          }\n        } else {\n          // output is not pre-allocated. reset preferred location.\n          const errorCode = wasm._OrtBindOutput(\n            handle,\n            outputNamesUTF8Encoded[index],\n            0,\n            outputPreferredLocationsEncoded[index],\n          );\n          if (errorCode !== 0) {\n            checkLastError(`Can't bind output[${i}] to ${outputPreferredLocations[i]} for session=${sessionId}.`);\n          }\n        }\n      }\n      TRACE_EVENT_END('wasm bindInputsOutputs');\n      activeSessions.set(sessionId, [\n        sessionHandle,\n        inputNamesUTF8Encoded,\n        outputNamesUTF8Encoded,\n        ioBindingState,\n        enableGraphCapture,\n        true,\n      ]);\n    }\n\n    wasm.jsepOnRunStart?.(sessionHandle);\n    wasm.webnnOnRunStart?.(sessionHandle);\n\n    let errorCode: number;\n    if ((!BUILD_DEFS.DISABLE_JSEP || !BUILD_DEFS.DISABLE_WEBGPU) && ioBindingState) {\n      errorCode = await wasm._OrtRunWithBinding(\n        sessionHandle,\n        ioBindingState.handle,\n        outputCount,\n        outputValuesOffset,\n        runOptionsHandle,\n      );\n    } else {\n      errorCode = await wasm._OrtRun(\n        sessionHandle,\n        inputNamesOffset,\n        inputValuesOffset,\n        inputCount,\n        outputNamesOffset,\n        outputCount,\n        outputValuesOffset,\n        runOptionsHandle,\n      );\n    }\n\n    if (errorCode !== 0) {\n      checkLastError('failed to call OrtRun().');\n    }\n\n    const output: TensorMetadata[] = [];\n    const outputPromises: Array<Promise<[number, Tensor.DataType]>> = [];\n\n    TRACE_EVENT_BEGIN('wasm ProcessOutputTensor');\n    for (let i = 0; i < outputCount; i++) {\n      const tensor = Number(wasm.getValue(outputValuesOffset + i * ptrSize, '*'));\n      if (tensor === outputTensorHandles[i]) {\n        // output tensor is pre-allocated. no need to copy data.\n        output.push(outputTensors[i]!);\n        continue;\n      }\n\n      const beforeGetTensorDataStack = wasm.stackSave();\n      // stack allocate 4 pointer value\n      const tensorDataOffset = wasm.stackAlloc(4 * ptrSize);\n\n      let keepOutputTensor = false;\n      let type: Tensor.Type | undefined,\n        dataOffset = 0;\n      try {\n        const errorCode = wasm._OrtGetTensorData(\n          tensor,\n          tensorDataOffset,\n          tensorDataOffset + ptrSize,\n          tensorDataOffset + 2 * ptrSize,\n\n          tensorDataOffset + 3 * ptrSize,\n        );\n        if (errorCode !== 0) {\n          checkLastError(`Can't access output tensor data on index ${i}.`);\n        }\n        const valueType = ptrSize === 4 ? 'i32' : 'i64';\n        const dataType = Number(wasm.getValue(tensorDataOffset, valueType));\n        dataOffset = wasm.getValue(tensorDataOffset + ptrSize, '*');\n        const dimsOffset = wasm.getValue(tensorDataOffset + ptrSize * 2, '*');\n        const dimsLength = Number(wasm.getValue(tensorDataOffset + ptrSize * 3, valueType));\n        const dims = [];\n        for (let i = 0; i < dimsLength; i++) {\n          dims.push(Number(wasm.getValue(dimsOffset + i * ptrSize, valueType)));\n        }\n        if (wasm._OrtFree(dimsOffset) !== 0) {\n          checkLastError(\"Can't free memory for tensor dims.\");\n        }\n        const size = dims.reduce((a, b) => a * b, 1);\n        type = tensorDataTypeEnumToString(dataType);\n\n        const preferredLocation = ioBindingState?.outputPreferredLocations[outputIndices[i]];\n\n        if (type === 'string') {\n          if (preferredLocation === 'gpu-buffer' || preferredLocation === 'ml-tensor') {\n            throw new Error('String tensor is not supported on GPU.');\n          }\n          const stringData: string[] = [];\n          for (let i = 0; i < size; i++) {\n            const offset = wasm.getValue(dataOffset + i * ptrSize, '*');\n            const nextOffset = wasm.getValue(dataOffset + (i + 1) * ptrSize, '*');\n            const maxBytesToRead = i === size - 1 ? undefined : nextOffset - offset;\n            stringData.push(wasm.UTF8ToString(offset, maxBytesToRead));\n          }\n          output.push([type, dims, stringData, 'cpu']);\n        } else {\n          // If a certain output's preferred location is GPU but the tensor is empty, we still need to create a CPU\n          // tensor for it. There is no mapping GPU buffer for an empty tensor.\n          if (preferredLocation === 'gpu-buffer' && size > 0) {\n            const getBuffer = !BUILD_DEFS.DISABLE_WEBGPU ? wasm.webgpuGetBuffer : wasm.jsepGetBuffer;\n            if (!getBuffer) {\n              throw new Error('preferredLocation \"gpu-buffer\" is not supported without using WebGPU.');\n            }\n            const gpuBuffer = getBuffer(dataOffset);\n            const bufferSize = calculateTensorSizeInBytes(dataType, size);\n            if (bufferSize === undefined || !isGpuBufferSupportedType(type)) {\n              throw new Error(`Unsupported data type: ${type}`);\n            }\n\n            // do not release the tensor right now. it will be released when user calls tensor.dispose().\n            keepOutputTensor = true;\n\n            if (!BUILD_DEFS.DISABLE_WEBGPU) {\n              wasm.webgpuRegisterBuffer!(gpuBuffer, sessionId, dataOffset);\n              const downloadDataFunction = wasm.webgpuCreateDownloader!(gpuBuffer, bufferSize, sessionId);\n              output.push([\n                type,\n                dims,\n                {\n                  gpuBuffer,\n                  download: async () => {\n                    const arrayBuffer = await downloadDataFunction();\n                    const data = new (tensorTypeToTypedArrayConstructor(type!))(arrayBuffer);\n                    return data as Tensor.DataTypeMap[Tensor.GpuBufferDataTypes];\n                  },\n                  dispose: () => {\n                    if (wasm._OrtReleaseTensor(tensor) !== 0) {\n                      checkLastError(\"Can't release tensor.\");\n                    }\n                  },\n                },\n                'gpu-buffer',\n              ]);\n            } else {\n              output.push([\n                type,\n                dims,\n                {\n                  gpuBuffer,\n                  download: wasm.jsepCreateDownloader!(gpuBuffer, bufferSize, type),\n                  dispose: () => {\n                    if (wasm._OrtReleaseTensor(tensor) !== 0) {\n                      checkLastError(\"Can't release tensor.\");\n                    }\n                  },\n                },\n                'gpu-buffer',\n              ]);\n            }\n          } else if (preferredLocation === 'ml-tensor' && size > 0) {\n            const ensureTensor = wasm.webnnEnsureTensor;\n            const isGraphInputOutputTypeSupported = wasm.webnnIsGraphInputOutputTypeSupported;\n            if (!ensureTensor || !isGraphInputOutputTypeSupported) {\n              throw new Error('preferredLocation \"ml-tensor\" is not supported without using WebNN.');\n            }\n            const tensorSize = calculateTensorSizeInBytes(dataType, size);\n            if (tensorSize === undefined || !isMLTensorSupportedType(type)) {\n              throw new Error(`Unsupported data type: ${type}`);\n            }\n            if (!isGraphInputOutputTypeSupported(sessionId, type, false)) {\n              throw new Error(\n                `preferredLocation \"ml-tensor\" for ${type} output is not supported by current WebNN Context.`,\n              );\n            }\n\n            // If the graph has been partitioned, the output tensor may have not been created. For this reason, we use\n            // ensureTensor to get/create the MLTensor. In which case, we don't need to copy the data if a new tensor\n            // has been created.\n            const mlTensor = await ensureTensor(sessionId, dataOffset, dataType, dims, false);\n\n            // do not release the tensor right now. it will be released when user calls tensor.dispose().\n            keepOutputTensor = true;\n\n            output.push([\n              type,\n              dims,\n              {\n                mlTensor,\n                download: wasm.webnnCreateMLTensorDownloader!(dataOffset, type),\n                dispose: () => {\n                  wasm.webnnReleaseTensorId!(dataOffset);\n                  wasm._OrtReleaseTensor(tensor);\n                },\n              },\n              'ml-tensor',\n            ]);\n          } else if (preferredLocation === 'ml-tensor-cpu-output' && size > 0) {\n            const data = wasm.webnnCreateMLTensorDownloader!(dataOffset, type as Tensor.MLTensorDataTypes)();\n            const index = output.length;\n            // Delay the data download and releasing the tensor until we can wait for all output tensors to be downloaded.\n            keepOutputTensor = true;\n            outputPromises.push(\n              (async () => {\n                const result: [number, Tensor.DataType] = [index, await data];\n                wasm.webnnReleaseTensorId!(dataOffset);\n                wasm._OrtReleaseTensor(tensor);\n                return result;\n              })(),\n            );\n            output.push([type, dims, [], 'cpu']);\n          } else {\n            const typedArrayConstructor = tensorTypeToTypedArrayConstructor(type);\n            const data = new typedArrayConstructor(size);\n            new Uint8Array(data.buffer, data.byteOffset, data.byteLength).set(\n              wasm.HEAPU8.subarray(dataOffset, dataOffset + data.byteLength),\n            );\n            output.push([type, dims, data, 'cpu']);\n          }\n        }\n      } finally {\n        wasm.stackRestore(beforeGetTensorDataStack);\n        if (type === 'string' && dataOffset) {\n          wasm._free(dataOffset);\n        }\n        if (!keepOutputTensor) {\n          wasm._OrtReleaseTensor(tensor);\n        }\n      }\n    }\n\n    if (ioBindingState && !enableGraphCapture) {\n      if (wasm._OrtClearBoundOutputs(ioBindingState.handle) !== 0) {\n        checkLastError(\"Can't clear bound outputs.\");\n      }\n      activeSessions.set(sessionId, [\n        sessionHandle,\n        inputNamesUTF8Encoded,\n        outputNamesUTF8Encoded,\n        ioBindingState,\n        enableGraphCapture,\n        false,\n      ]);\n    }\n    // Wait for all output tensor data to be downloaded.\n    for (const [index, data] of await Promise.all(outputPromises)) {\n      output[index][2] = data;\n    }\n    TRACE_EVENT_END('wasm ProcessOutputTensor');\n    return output;\n  } finally {\n    wasm.webnnOnRunEnd?.(sessionHandle);\n\n    wasm.stackRestore(beforeRunStack);\n\n    if (!BUILD_DEFS.DISABLE_WEBGPU) {\n      inputTensors.forEach((t) => {\n        if (t && t[3] === 'gpu-buffer') {\n          wasm.webgpuUnregisterBuffer!(t[2].gpuBuffer);\n        }\n      });\n      outputTensors.forEach((t) => {\n        if (t && t[3] === 'gpu-buffer') {\n          wasm.webgpuUnregisterBuffer!(t[2].gpuBuffer);\n        }\n      });\n    }\n    inputTensorHandles.forEach((v) => wasm._OrtReleaseTensor(v));\n    outputTensorHandles.forEach((v) => wasm._OrtReleaseTensor(v));\n    inputOutputAllocs.forEach((p) => wasm._free(p));\n\n    if (runOptionsHandle !== 0) {\n      wasm._OrtReleaseRunOptions(runOptionsHandle);\n    }\n    runOptionsAllocs.forEach((p) => wasm._free(p));\n  }\n};\n\n/**\n * end profiling\n */\nexport const endProfiling = (sessionId: number): void => {\n  const wasm = getInstance();\n  const session = activeSessions.get(sessionId);\n  if (!session) {\n    throw new Error('invalid session id');\n  }\n  const sessionHandle = session[0];\n\n  // profile file name is not used yet, but it must be freed.\n  const profileFileName = wasm._OrtEndProfiling(sessionHandle);\n  if (profileFileName === 0) {\n    checkLastError(\"Can't get an profile file name.\");\n  }\n  wasm._OrtFree(profileFileName);\n};\n\nexport const extractTransferableBuffers = (tensors: readonly SerializableTensorMetadata[]): ArrayBufferLike[] => {\n  const buffers: ArrayBufferLike[] = [];\n  for (const tensor of tensors) {\n    const data = tensor[2];\n    if (!Array.isArray(data) && 'buffer' in data) {\n      buffers.push(data.buffer);\n    }\n  }\n  return buffers;\n};\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { env, InferenceSession } from 'onnxruntime-common';\n\nimport {\n  OrtWasmMessage,\n  SerializableInternalBuffer,\n  SerializableSessionMetadata,\n  SerializableTensorMetadata,\n  TensorMetadata,\n} from './proxy-messages';\nimport * as core from './wasm-core-impl';\nimport { initializeWebAssembly } from './wasm-factory';\nimport {\n  importProxyWorker,\n  inferWasmPathPrefixFromScriptSrc,\n  isEsmImportMetaUrlHardcodedAsFileUri,\n} from './wasm-utils-import';\n\nconst isProxy = (): boolean => !!env.wasm.proxy && typeof document !== 'undefined';\nlet proxyWorker: Worker | undefined;\nlet initializing = false;\nlet initialized = false;\nlet aborted = false;\nlet temporaryObjectUrl: string | undefined;\n\ntype PromiseCallbacks<T = void> = [resolve: (result: T) => void, reject: (reason: unknown) => void];\nlet initWasmCallbacks: PromiseCallbacks;\nconst queuedCallbacks: Map<OrtWasmMessage['type'], Array<PromiseCallbacks<unknown>>> = new Map();\n\nconst enqueueCallbacks = (type: OrtWasmMessage['type'], callbacks: PromiseCallbacks<unknown>): void => {\n  const queue = queuedCallbacks.get(type);\n  if (queue) {\n    queue.push(callbacks);\n  } else {\n    queuedCallbacks.set(type, [callbacks]);\n  }\n};\n\nconst ensureWorker = (): void => {\n  if (initializing || !initialized || aborted || !proxyWorker) {\n    throw new Error('worker not ready');\n  }\n};\n\nconst onProxyWorkerMessage = (ev: MessageEvent<OrtWasmMessage>): void => {\n  switch (ev.data.type) {\n    case 'init-wasm':\n      initializing = false;\n      if (ev.data.err) {\n        aborted = true;\n        initWasmCallbacks[1](ev.data.err);\n      } else {\n        initialized = true;\n        initWasmCallbacks[0]();\n      }\n      if (temporaryObjectUrl) {\n        URL.revokeObjectURL(temporaryObjectUrl);\n        temporaryObjectUrl = undefined;\n      }\n      break;\n    case 'init-ep':\n    case 'copy-from':\n    case 'create':\n    case 'release':\n    case 'run':\n    case 'end-profiling': {\n      const callbacks = queuedCallbacks.get(ev.data.type)!;\n      if (ev.data.err) {\n        callbacks.shift()![1](ev.data.err);\n      } else {\n        callbacks.shift()![0](ev.data.out!);\n      }\n      break;\n    }\n    default:\n  }\n};\n\nexport const initializeWebAssemblyAndOrtRuntime = async (): Promise<void> => {\n  if (initialized) {\n    return;\n  }\n  if (initializing) {\n    throw new Error(\"multiple calls to 'initWasm()' detected.\");\n  }\n  if (aborted) {\n    throw new Error(\"previous call to 'initWasm()' failed.\");\n  }\n\n  initializing = true;\n\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\n    return new Promise<void>((resolve, reject) => {\n      proxyWorker?.terminate();\n\n      void importProxyWorker().then(([objectUrl, worker]) => {\n        try {\n          proxyWorker = worker;\n          proxyWorker.onerror = (ev: ErrorEvent) => reject(ev);\n          proxyWorker.onmessage = onProxyWorkerMessage;\n          initWasmCallbacks = [resolve, reject];\n          const message: OrtWasmMessage = { type: 'init-wasm', in: env };\n\n          // if the proxy worker is loaded from a blob URL, we need to make sure the path information is not lost.\n          //\n          // when `env.wasm.wasmPaths` is not set, we need to pass the path information to the worker.\n          //\n          if (!BUILD_DEFS.ENABLE_BUNDLE_WASM_JS && !message.in!.wasm.wasmPaths && objectUrl) {\n            // for a build not bundled the wasm JS, we need to pass the path prefix to the worker.\n            // the path prefix will be used to resolve the path to both the wasm JS and the wasm file.\n            const inferredWasmPathPrefix = inferWasmPathPrefixFromScriptSrc();\n            if (inferredWasmPathPrefix) {\n              message.in!.wasm.wasmPaths = inferredWasmPathPrefix;\n            }\n          }\n\n          if (\n            BUILD_DEFS.IS_ESM &&\n            BUILD_DEFS.ENABLE_BUNDLE_WASM_JS &&\n            !message.in!.wasm.wasmPaths &&\n            (objectUrl || isEsmImportMetaUrlHardcodedAsFileUri)\n          ) {\n            // for a build bundled the wasm JS, if either of the following conditions is met:\n            // - the proxy worker is loaded from a blob URL\n            // - `import.meta.url` is a file URL, it means it is overwritten by the bundler.\n            //\n            // in either case, the path information is lost, we need to pass the path of the .wasm file to the worker.\n            // we need to use the bundler preferred URL format:\n            // new URL('filename', import.meta.url)\n            // so that the bundler can handle the file using corresponding loaders.\n            message.in!.wasm.wasmPaths = {\n              wasm: !BUILD_DEFS.DISABLE_JSEP\n                ? new URL('ort-wasm-simd-threaded.jsep.wasm', BUILD_DEFS.ESM_IMPORT_META_URL).href\n                : !BUILD_DEFS.DISABLE_WEBGPU\n                  ? new URL('ort-wasm-simd-threaded.asyncify.wasm', BUILD_DEFS.ESM_IMPORT_META_URL).href\n                  : new URL('ort-wasm-simd-threaded.wasm', BUILD_DEFS.ESM_IMPORT_META_URL).href,\n            };\n          }\n          proxyWorker.postMessage(message);\n          temporaryObjectUrl = objectUrl;\n        } catch (e) {\n          reject(e);\n        }\n      }, reject);\n    });\n  } else {\n    try {\n      await initializeWebAssembly(env.wasm);\n      await core.initRuntime(env);\n      initialized = true;\n    } catch (e) {\n      aborted = true;\n      throw e;\n    } finally {\n      initializing = false;\n    }\n  }\n};\n\nexport const initializeOrtEp = async (epName: string): Promise<void> => {\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\n    ensureWorker();\n    return new Promise<void>((resolve, reject) => {\n      enqueueCallbacks('init-ep', [resolve, reject]);\n      const message: OrtWasmMessage = { type: 'init-ep', in: { epName, env } };\n      proxyWorker!.postMessage(message);\n    });\n  } else {\n    await core.initEp(env, epName);\n  }\n};\n\nexport const copyFromExternalBuffer = async (buffer: Uint8Array): Promise<SerializableInternalBuffer> => {\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\n    ensureWorker();\n    return new Promise<SerializableInternalBuffer>((resolve, reject) => {\n      enqueueCallbacks('copy-from', [resolve, reject]);\n      const message: OrtWasmMessage = { type: 'copy-from', in: { buffer } };\n      proxyWorker!.postMessage(message, [buffer.buffer]);\n    });\n  } else {\n    return core.copyFromExternalBuffer(buffer);\n  }\n};\n\nexport const createSession = async (\n  model: SerializableInternalBuffer | Uint8Array,\n  options?: InferenceSession.SessionOptions,\n): Promise<SerializableSessionMetadata> => {\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\n    // check unsupported options\n    if (options?.preferredOutputLocation) {\n      throw new Error('session option \"preferredOutputLocation\" is not supported for proxy.');\n    }\n    ensureWorker();\n    return new Promise<SerializableSessionMetadata>((resolve, reject) => {\n      enqueueCallbacks('create', [resolve, reject]);\n      const message: OrtWasmMessage = { type: 'create', in: { model, options: { ...options } } };\n      const transferable: Transferable[] = [];\n      if (model instanceof Uint8Array) {\n        transferable.push(model.buffer);\n      }\n      proxyWorker!.postMessage(message, transferable);\n    });\n  } else {\n    return core.createSession(model, options);\n  }\n};\n\nexport const releaseSession = async (sessionId: number): Promise<void> => {\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\n    ensureWorker();\n    return new Promise<void>((resolve, reject) => {\n      enqueueCallbacks('release', [resolve, reject]);\n      const message: OrtWasmMessage = { type: 'release', in: sessionId };\n      proxyWorker!.postMessage(message);\n    });\n  } else {\n    core.releaseSession(sessionId);\n  }\n};\n\nexport const run = async (\n  sessionId: number,\n  inputIndices: number[],\n  inputs: TensorMetadata[],\n  outputIndices: number[],\n  outputs: Array<TensorMetadata | null>,\n  options: InferenceSession.RunOptions,\n): Promise<TensorMetadata[]> => {\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\n    // check inputs location\n    if (inputs.some((t) => t[3] !== 'cpu')) {\n      throw new Error('input tensor on GPU is not supported for proxy.');\n    }\n    // check outputs location\n    if (outputs.some((t) => t)) {\n      throw new Error('pre-allocated output tensor is not supported for proxy.');\n    }\n    ensureWorker();\n    return new Promise<SerializableTensorMetadata[]>((resolve, reject) => {\n      enqueueCallbacks('run', [resolve, reject]);\n      const serializableInputs = inputs as SerializableTensorMetadata[]; // every input is on CPU.\n      const message: OrtWasmMessage = {\n        type: 'run',\n        in: { sessionId, inputIndices, inputs: serializableInputs, outputIndices, options },\n      };\n      proxyWorker!.postMessage(message, core.extractTransferableBuffers(serializableInputs));\n    });\n  } else {\n    return core.run(sessionId, inputIndices, inputs, outputIndices, outputs, options);\n  }\n};\n\nexport const endProfiling = async (sessionId: number): Promise<void> => {\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\n    ensureWorker();\n    return new Promise<void>((resolve, reject) => {\n      enqueueCallbacks('end-profiling', [resolve, reject]);\n      const message: OrtWasmMessage = { type: 'end-profiling', in: sessionId };\n      proxyWorker!.postMessage(message);\n    });\n  } else {\n    core.endProfiling(sessionId);\n  }\n};\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport {\n  InferenceSession,\n  InferenceSessionHandler,\n  SessionHandler,\n  Tensor,\n  TRACE_FUNC_BEGIN,\n  TRACE_FUNC_END,\n} from 'onnxruntime-common';\n\nimport { SerializableInternalBuffer, TensorMetadata } from './proxy-messages';\nimport { copyFromExternalBuffer, createSession, endProfiling, releaseSession, run } from './proxy-wrapper';\nimport { isGpuBufferSupportedType, isMLTensorSupportedType } from './wasm-common';\nimport { isNode } from './wasm-utils-env';\nimport { loadFile } from './wasm-utils-load-file';\n\nexport const encodeTensorMetadata = (tensor: Tensor, getName: () => string): TensorMetadata => {\n  switch (tensor.location) {\n    case 'cpu':\n      return [tensor.type, tensor.dims, tensor.data, 'cpu'];\n    case 'gpu-buffer':\n      return [tensor.type, tensor.dims, { gpuBuffer: tensor.gpuBuffer }, 'gpu-buffer'];\n    case 'ml-tensor':\n      return [tensor.type, tensor.dims, { mlTensor: tensor.mlTensor }, 'ml-tensor'];\n    default:\n      throw new Error(`invalid data location: ${tensor.location} for ${getName()}`);\n  }\n};\n\nexport const decodeTensorMetadata = (tensor: TensorMetadata): Tensor => {\n  switch (tensor[3]) {\n    case 'cpu':\n      return new Tensor(tensor[0], tensor[2], tensor[1]);\n    case 'gpu-buffer': {\n      const dataType = tensor[0];\n      if (!isGpuBufferSupportedType(dataType)) {\n        throw new Error(`not supported data type: ${dataType} for deserializing GPU tensor`);\n      }\n      const { gpuBuffer, download, dispose } = tensor[2];\n      return Tensor.fromGpuBuffer(gpuBuffer, { dataType, dims: tensor[1], download, dispose });\n    }\n    case 'ml-tensor': {\n      const dataType = tensor[0];\n      if (!isMLTensorSupportedType(dataType)) {\n        throw new Error(`not supported data type: ${dataType} for deserializing MLTensor tensor`);\n      }\n      const { mlTensor, download, dispose } = tensor[2];\n      return Tensor.fromMLTensor(mlTensor, { dataType, dims: tensor[1], download, dispose });\n    }\n    default:\n      throw new Error(`invalid data location: ${tensor[3]}`);\n  }\n};\n\nexport class OnnxruntimeWebAssemblySessionHandler implements InferenceSessionHandler {\n  private sessionId: number;\n\n  inputNames: readonly string[];\n  outputNames: readonly string[];\n  inputMetadata: readonly InferenceSession.ValueMetadata[];\n  outputMetadata: readonly InferenceSession.ValueMetadata[];\n\n  async fetchModelAndCopyToWasmMemory(path: string): Promise<SerializableInternalBuffer> {\n    // fetch model from url and move to wasm heap.\n    return copyFromExternalBuffer(await loadFile(path));\n  }\n\n  async loadModel(pathOrBuffer: string | Uint8Array, options?: InferenceSession.SessionOptions): Promise<void> {\n    TRACE_FUNC_BEGIN();\n    let model: Parameters<typeof createSession>[0];\n\n    if (typeof pathOrBuffer === 'string') {\n      if (isNode) {\n        // node\n        model = await loadFile(pathOrBuffer);\n      } else {\n        // browser\n        // fetch model and copy to wasm heap.\n        model = await this.fetchModelAndCopyToWasmMemory(pathOrBuffer);\n      }\n    } else {\n      model = pathOrBuffer;\n    }\n\n    [this.sessionId, this.inputNames, this.outputNames, this.inputMetadata, this.outputMetadata] = await createSession(\n      model,\n      options,\n    );\n    TRACE_FUNC_END();\n  }\n\n  async dispose(): Promise<void> {\n    return releaseSession(this.sessionId);\n  }\n\n  async run(\n    feeds: SessionHandler.FeedsType,\n    fetches: SessionHandler.FetchesType,\n    options: InferenceSession.RunOptions,\n  ): Promise<SessionHandler.ReturnType> {\n    TRACE_FUNC_BEGIN();\n    const inputArray: Tensor[] = [];\n    const inputIndices: number[] = [];\n    Object.entries(feeds).forEach((kvp) => {\n      const name = kvp[0];\n      const tensor = kvp[1];\n      const index = this.inputNames.indexOf(name);\n      if (index === -1) {\n        throw new Error(`invalid input '${name}'`);\n      }\n      inputArray.push(tensor);\n      inputIndices.push(index);\n    });\n\n    const outputArray: Array<Tensor | null> = [];\n    const outputIndices: number[] = [];\n    Object.entries(fetches).forEach((kvp) => {\n      const name = kvp[0];\n      const tensor = kvp[1];\n      const index = this.outputNames.indexOf(name);\n      if (index === -1) {\n        throw new Error(`invalid output '${name}'`);\n      }\n      outputArray.push(tensor);\n      outputIndices.push(index);\n    });\n\n    const inputs = inputArray.map((t, i) =>\n      encodeTensorMetadata(t, () => `input \"${this.inputNames[inputIndices[i]]}\"`),\n    );\n    const outputs = outputArray.map((t, i) =>\n      t ? encodeTensorMetadata(t, () => `output \"${this.outputNames[outputIndices[i]]}\"`) : null,\n    );\n\n    const results = await run(this.sessionId, inputIndices, inputs, outputIndices, outputs, options);\n\n    const resultMap: SessionHandler.ReturnType = {};\n    for (let i = 0; i < results.length; i++) {\n      resultMap[this.outputNames[outputIndices[i]]] = outputArray[i] ?? decodeTensorMetadata(results[i]);\n    }\n    TRACE_FUNC_END();\n    return resultMap;\n  }\n\n  startProfiling(): void {\n    // TODO: implement profiling\n  }\n\n  endProfiling(): void {\n    void endProfiling(this.sessionId);\n  }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { Backend, env, InferenceSession, InferenceSessionHandler } from 'onnxruntime-common';\n\nimport { initializeOrtEp, initializeWebAssemblyAndOrtRuntime } from './wasm/proxy-wrapper';\nimport { OnnxruntimeWebAssemblySessionHandler } from './wasm/session-handler-inference';\n\n/**\n * This function initializes all flags for WebAssembly.\n *\n * Those flags are accessible from `ort.env.wasm`. Users are allow to set those flags before the first inference session\n * being created, to override default value.\n */\nexport const initializeFlags = (): void => {\n  if (typeof env.wasm.initTimeout !== 'number' || env.wasm.initTimeout < 0) {\n    env.wasm.initTimeout = 0;\n  }\n\n  const simd = env.wasm.simd;\n  if (typeof simd !== 'boolean' && simd !== undefined && simd !== 'fixed' && simd !== 'relaxed') {\n    // eslint-disable-next-line no-console\n    console.warn(\n      `Property \"env.wasm.simd\" is set to unknown value \"${simd}\". Reset it to \\`false\\` and ignore SIMD feature checking.`,\n    );\n    env.wasm.simd = false;\n  }\n\n  if (typeof env.wasm.proxy !== 'boolean') {\n    env.wasm.proxy = false;\n  }\n\n  if (typeof env.wasm.trace !== 'boolean') {\n    env.wasm.trace = false;\n  }\n\n  if (typeof env.wasm.numThreads !== 'number' || !Number.isInteger(env.wasm.numThreads) || env.wasm.numThreads <= 0) {\n    // The following logic only applies when `ort.env.wasm.numThreads` is not set by user. We will always honor user's\n    // setting if it is provided.\n\n    // Browser: when crossOriginIsolated is false, SharedArrayBuffer is not available so WebAssembly threads will not\n    // work. In this case, we will set numThreads to 1.\n    //\n    // There is an exception: when the browser is configured to force-enable SharedArrayBuffer (e.g. Chromuim with\n    // --enable-features=SharedArrayBuffer), it is possible that `self.crossOriginIsolated` is false and\n    // SharedArrayBuffer is available at the same time. This is usually for testing. In this case,  we will still set\n    // numThreads to 1 here. If we want to enable multi-threading in test, we should set `ort.env.wasm.numThreads` to a\n    // value greater than 1.\n    if (typeof self !== 'undefined' && !self.crossOriginIsolated) {\n      env.wasm.numThreads = 1;\n    } else {\n      const numCpuLogicalCores =\n        typeof navigator === 'undefined' ? require('node:os').cpus().length : navigator.hardwareConcurrency;\n      env.wasm.numThreads = Math.min(4, Math.ceil((numCpuLogicalCores || 1) / 2));\n    }\n  }\n};\n\nexport class OnnxruntimeWebAssemblyBackend implements Backend {\n  /**\n   * This function initializes the WebAssembly backend.\n   *\n   * This function will be called only once for each backend name. It will be called the first time when\n   * `ort.InferenceSession.create()` is called with a registered backend name.\n   *\n   * @param backendName - the registered backend name.\n   */\n  async init(backendName: string): Promise<void> {\n    // populate wasm flags\n    initializeFlags();\n\n    // init wasm\n    await initializeWebAssemblyAndOrtRuntime();\n\n    // performe EP specific initialization\n    await initializeOrtEp(backendName);\n  }\n  createInferenceSessionHandler(\n    path: string,\n    options?: InferenceSession.SessionOptions,\n  ): Promise<InferenceSessionHandler>;\n  createInferenceSessionHandler(\n    buffer: Uint8Array,\n    options?: InferenceSession.SessionOptions,\n  ): Promise<InferenceSessionHandler>;\n  async createInferenceSessionHandler(\n    pathOrBuffer: string | Uint8Array,\n    options?: InferenceSession.SessionOptions,\n  ): Promise<InferenceSessionHandler> {\n    const handler = new OnnxruntimeWebAssemblySessionHandler();\n    await handler.loadModel(pathOrBuffer, options);\n    return handler;\n  }\n}\n\nexport const wasmBackend = new OnnxruntimeWebAssemblyBackend();\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n/* eslint-disable @typescript-eslint/no-var-requires, @typescript-eslint/no-require-imports */\n\n// We use \"require\" instead of \"import\" here because import statement must be put in top level. Our current code does\n// not allow bundler to tree-shaking code as expected because some codes are treated as having side effects.\n// So we import code inside the if-clause to allow bundler remove the code safely.\n\nexport * from 'onnxruntime-common';\nimport * as ort from 'onnxruntime-common';\nexport default ort;\n\nimport { registerBackend, env } from 'onnxruntime-common';\nimport { version } from './version';\n\nif (!BUILD_DEFS.DISABLE_WEBGL) {\n  const onnxjsBackend = require('./backend-onnxjs').onnxjsBackend;\n  registerBackend('webgl', onnxjsBackend, -10);\n}\n\nif (!BUILD_DEFS.DISABLE_JSEP && !BUILD_DEFS.DISABLE_WEBGPU) {\n  throw new Error(\n    'The current build is specified to enable both JSEP and WebGPU EP. This is not a valid configuration. ' +\n      'JSEP and WebGPU EPs cannot be enabled at the same time.',\n  );\n}\n\nif (!BUILD_DEFS.DISABLE_WEBNN && BUILD_DEFS.DISABLE_JSEP && BUILD_DEFS.DISABLE_WEBGPU) {\n  throw new Error(\n    'The current build is specified to enable WebNN EP without JSEP or WebGPU EP. This is not a valid configuration. ' +\n      'WebNN EP requires either JSEP or WebGPU EP to be enabled.',\n  );\n}\n\nif (!BUILD_DEFS.DISABLE_WASM) {\n  const wasmBackend = require('./backend-wasm').wasmBackend;\n  if (!BUILD_DEFS.DISABLE_JSEP || !BUILD_DEFS.DISABLE_WEBGPU) {\n    registerBackend('webgpu', wasmBackend, 5);\n  }\n  if (!BUILD_DEFS.DISABLE_WEBNN) {\n    registerBackend('webnn', wasmBackend, 5);\n  }\n  registerBackend('cpu', wasmBackend, 10);\n  registerBackend('wasm', wasmBackend, 10);\n}\n\nObject.defineProperty(env.versions, 'web', { value: version, enumerable: true });\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n// This file is generated by /js/scripts/update-version.ts\n// Do not modify file content manually.\n\nexport const version = '1.23.2';\n"],"names":["backends","backendsSortedByPriority","registerBackend","tryResolveAndInitializeBackend","resolveBackendAndExecutionProviders","init_backend_impl","__esmMin","name","backend","priority","currentBackend","i","backendName","backendInfo","isInitializing","e","options","eps","backendHints","backendNames","errors","availableBackendNames","resolveResult","err","filteredEps","target","prop","init_backend","version","init_version","logLevelValue","env","init_env_impl","value","init_env","tensorToDataURL","tensorToImageData","init_tensor_conversion_impl","tensor","canvas","pixels2DContext","width","height","inputformat","norm","normMean","normBias","stride","rTensorPointer","gTensorPointer","bTensorPointer","aTensorPointer","j","R","G","B","A","image","channels","step","rImagePointer","gImagePointer","bImagePointer","aImagePointer","bufferToTensor","tensorFromImage","tensorFromTexture","tensorFromGpuBuffer","tensorFromMLTensor","tensorFromPinnedBuffer","init_tensor_factory_impl","init_tensor_impl","buffer","outputformat","float32Data","Tensor","isHTMLImageEle","isImageDataEle","isImageBitmap","isString","data","bufferToTensorOptions","createCanvas","createCanvasContext","tempCanvas","resolve","reject","context","newImage","img","texture","download","dispose","dims","gpuBuffer","dataType","mlTensor","type","NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP","NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP","isTypedArrayChecked","checkTypedArray","init_tensor_impl_type_mapping","isBigInt64ArrayAvailable","isBigUint64ArrayAvailable","Float16Array","isFloat16ArrayAvailable","calculateSize","tensorReshape","init_tensor_utils_impl","size","dim","arg0","arg1","arg2","expectedTypedArrayConstructor","maybeDims","typedArrayConstructor","firstElementType","mappedType","releaseData","init_tensor","TRACE","TRACE_FUNC","TRACE_FUNC_BEGIN","TRACE_FUNC_END","TRACE_EVENT_BEGIN","TRACE_EVENT_END","init_trace","deviceType","label","msg","extraMsg","stack","hasTraceFunc","InferenceSession","init_inference_session_impl","_InferenceSession","handler","feeds","fetches","isFetchesEmpty","isFetches","arg1Keys","v","results","returnValue","key","result","arg3","filePathOrUint8Array","byteOffset","byteLength","optionsWithValidatedEPs","init_inference_session","init_tensor_conversion","init_tensor_factory","init_onnx_model","init_onnx_value","esm_exports","__export","init_esm","init_wasm_utils_env","main_exports","main_default","WORKER_NAME","isProxyWorker","init_main","init_wasm_core_impl","init_wasm_factory","init_wasm_utils_import","ev","message","initializeWebAssembly","initRuntime","epName","initEp","bufferData","copyFromExternalBuffer","model","createSession","sessionMetadata","releaseSession","sessionId","inputIndices","inputs","outputIndices","run","outputs","o","extractTransferableBuffers","endProfiling","urlOverride","scriptSrc","ort_wasm_simd_threaded_asyncify_exports","ort_wasm_simd_threaded_asyncify_default","init_ort_wasm_simd_threaded_asyncify","r","t","n","a","l","u","f","ke","ze","s","c","d","y","m","D","p","g","_","C","h","b","w","x","O","S","T","P","E","M","W","U","N","k","I","F","L","$","z","Kt","pi","Ut","yi","je","V","yt","gi","xe","kt","H","ct","q","Y","Q","X","Z","J","st","hi","wi","Si","Ti","Ai","Bi","Pi","Ei","Mi","Ri","Wi","Di","Ui","ki","Ii","Fi","Yi","Xi","te","oe","le","ue","ce","Ce","he","be","Oe","Te","Ae","Be","Pe","Re","We","He","Ye","Ze","Ki","Je","ir","nr","tr","ar","or","lr","ur","fr","sr","cr","dr","yr","mr","_r","Cr","hr","br","xr","Or","Ar","Er","Mr","Rr","Sr","Wr","Dr","Ur","jr","kr","Ir","Gr","Fr","Vr","Nr","cn","dn","mn","vn","pn","gn","_n","Cn","hn","bn","wn","jn","xn","An","Bn","li","Pn","En","Mn","Wn","ai","Dn","Un","kn","In","Gn","Fn","Ln","$n","zn","Vn","Nn","Hn","qn","Yn","Qn","Xn","Zn","Jn","Kn","it","et","rt","nt","tt","at","K","ii","ei","ri","ui","vi","mi","fi","ci","ni","ti","qt","Ht","It","Nt","oi","si","di","Gt","vt","Vt","Yt","Ft","_i","Ci","bi","ji","xi","Oi","Gi","Li","$i","zi","Vi","Ni","Hi","qi","Qi","Zi","Ji","ie","ee","re","ne","ae","fe","se","pt","gt","de","ye","me","ve","pe","ge","_e","we","$t","Se","ft","ut","Ee","dt","Me","De","Ue","Ie","Ge","Fe","Le","$e","Ve","Ne","Zt","Qt","Jt","qe","Qe","Xe","Ke","er","rr","vr","pr","gr","wr","Lt","Tr","Br","Pr","Lr","$r","zr","Hr","qr","Yr","Qr","Xr","Zr","Jr","Kr","en","rn","nn","tn","an","on","ln","un","fn","sn","Pt","Dt","Wt","yn","zt","Et","Mt","Rt","On","Sn","Tn","Rn","xt","wt","bt","ht","jt","Ot","St","ot","lt","Xt","mt","_t","Ct","Tt","At","Bt","origin","isEsmImportMetaUrlHardcodedAsFileUri","getScriptSrc","inferWasmPathPrefixFromScriptSrc","isSameOrigin","normalizeUrl","fallbackUrl","preload","dynamicImportDefault","createProxyWorker","importProxyWorker","embeddedWasmModule","importWasmModule","URL2","filename","prefixOverride","baseUrl","absoluteUrl","blob","url","isMultiThreaded","isWasmOverridden","useEmbeddedModule","wasmModuleFilename","wasmModuleUrl","needPreload","wasm","initialized","initializing","aborted","isMultiThreadSupported","isSimdSupported","isRelaxedSimdSupported","getInstance","flags","timeout","numThreads","multiThreadSupported","wasmPaths","wasmPrefixOverride","mjsPathOverrideFlag","mjsPathOverride","wasmPathOverrideFlag","wasmPathOverride","wasmBinaryOverride","objectUrl","ortWasmFactory","isTimeout","tasks","config","fileName","inferredWasmPathPrefix","module","what","allocWasmString","iterateExtraOptions","checkLastError","init_wasm_utils","allocs","dataLength","dataOffset","prefix","seen","ptrSize","paramsOffset","errorCode","errorMessagePointer","errorMessage","setRunOptions","init_run_options","runOptionsHandle","runOptions","tagDataOffset","keyDataOffset","valueDataOffset","alloc","getGraphOptimzationLevel","getExecutionMode","appendDefaultOptions","appendSessionConfig","appendEpOption","setExecutionProviders","setSessionOptions","init_session_options","graphOptimizationLevel","executionMode","session","ep","sessionOptionsHandle","epOptions","executionProviders","customDevice","customOptions","info","deviceId","instanceHandle","deviceHandle","epNameDataOffset","epOptionsCount","keysOffset","valuesOffset","sessionOptions","logIdDataOffset","logSeverityLevel","logVerbosityLevel","optimizedModelFilePathOffset","nameOffset","tensorDataTypeStringToEnum","tensorDataTypeEnumToString","calculateTensorSizeInBytes","tensorTypeToTypedArrayConstructor","logLevelStringToEnum","isGpuBufferSupportedType","isMLTensorSupportedType","dataLocationStringToEnum","init_wasm_common","typeProto","dateType","dimsOrSize","elementSize","logLevel","location","loadFile","init_wasm_utils_load_file","file","readFile","createReadStream","stream","chunks","chunk","response","contentLengthHeader","fileSize","reader","pages","offset","done","chunkSize","createView","init_tensor_view","dataBuffer","logLevelPrefix","doLog","configLogLevel","debug","configureLogger","LOG","LOG_DEBUG","init_log","level","$configLogLevel","$debug","messageLevel","configLevel","args","webnnDataTypeToSize","convertDataToInt32","convertInt32ToData","tensorGuid","createNewTensorId","webnnDataTypeToFallback","calculateByteLength","TensorWrapper","TensorIdTracker","TensorManagerImpl","createTensorManager","init_tensor_manager","dataTypeSize","bytesPerElement","numElements","originalArray","int32Array","bigInt64Array","bigUint64Array","int8Array","uint32Array","shape","descriptor","fallbackDataType","dstBuffer","originalData","isConverted","tensorManager","wrapper","copyOld","usage","newData","dstData","tensorId","tensorTracker","writable","readable","index","tensorWrapper","backend_webnn_exports","WebNNBackend","onnxDataTypeToWebnnDataType","compareMLContextOptions","init_backend_webnn","aKeys","bKeys","tensorIds","optionsOrDevice","mlContextIndex","entry","mlContext","sessionIds","onnxDataType","dimensions","webnnDataType","id","externalFilePath","builder","desc","mountedFiles","shouldConvertInt64ToInt32","filePath","fileData","bufferView","int32Buffer","inputName","outputName","inputNames","outputNames","isInput","initOrt","activeSessions","getSessionInputOutputCount","getSessionInputOutputMetadata","prepareInputOutputTensor","loggingLevel","webgpuAdapter","powerPreference","forceFallbackAdapter","device","sessionHandle","metadataOffset","elementType","dimsCount","symbolicDimNameOffset","modelDataOffset","modelData","modelDataLength","ioBindingHandle","inputNamesUTF8Encoded","outputNamesUTF8Encoded","loadingPromises","path","provider","webnnOptions","gpuDevice","inputCount","outputCount","enableGraphCapture","inputMetadata","outputMetadata","outputPreferredLocations","nameString","isGraphOutput","bindingState","buf","ioBindingState","tensorHandles","tensorNameUTF8Encoded","actualLocation","rawData","dataByteLength","registerBuffer","registerMLTensor","isGraphInput","tensorName","dataTypeEnum","createTemporaryTensor","uploadTensor","dimsOffset","inputTensors","outputTensors","inputOutputBound","runOptionsAllocs","inputTensorHandles","outputTensorHandles","inputOutputAllocs","beforeRunStack","inputValuesOffset","inputNamesOffset","outputValuesOffset","outputNamesOffset","handle","outputPreferredLocationsEncoded","output","outputPromises","beforeGetTensorDataStack","tensorDataOffset","keepOutputTensor","valueType","dimsLength","preferredLocation","stringData","nextOffset","maxBytesToRead","getBuffer","bufferSize","downloadDataFunction","arrayBuffer","ensureTensor","isGraphInputOutputTypeSupported","profileFileName","tensors","buffers","isProxy","proxyWorker","temporaryObjectUrl","initWasmCallbacks","queuedCallbacks","enqueueCallbacks","ensureWorker","onProxyWorkerMessage","initializeWebAssemblyAndOrtRuntime","initializeOrtEp","init_proxy_wrapper","callbacks","queue","worker","transferable","serializableInputs","encodeTensorMetadata","decodeTensorMetadata","OnnxruntimeWebAssemblySessionHandler","init_session_handler_inference","getName","pathOrBuffer","inputArray","kvp","outputArray","resultMap","backend_wasm_exports","OnnxruntimeWebAssemblyBackend","initializeFlags","wasmBackend","init_backend_wasm","simd","numCpuLogicalCores","index_default"],"mappings":"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"}}]
}