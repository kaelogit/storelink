{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/context/CartContext.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, useContext, useState, useEffect, ReactNode, Dispatch, SetStateAction } from \"react\";\r\nimport { Product, Store } from \"@/types\";\r\n\r\nexport type CartItem = { \r\n  product: Product; \r\n  store: Store; \r\n  qty: number \r\n};\r\n\r\ninterface CartContextType {\r\n  cart: CartItem[];\r\n  cartCount: number;\r\n  cartTotal: number; \r\n  finalTotal: number; \r\n  addToCart: (product: Product, store: Store) => void;\r\n  removeFromCart: (productId: string) => void;\r\n  updateQuantity: (productId: string, quantity: number) => void;\r\n  clearCart: () => void;\r\n  isCartOpen: boolean;\r\n  setIsCartOpen: (isOpen: boolean) => void;\r\n  openCart: () => void;\r\n  closeCart: () => void;\r\n\r\n  useCoins: boolean;\r\n  setUseCoins: (use: boolean) => void;\r\n  redeemableCoins: number;\r\n  actualBalance: number;  \r\n  setActualBalance: Dispatch<SetStateAction<number>>; \r\n}\r\n\r\nconst CartContext = createContext<CartContextType | undefined>(undefined);\r\n\r\nexport function CartProvider({ children }: { children: ReactNode }) {\r\n  const [cart, setCart] = useState<CartItem[]>([]);\r\n  const [isCartOpen, setIsCartOpen] = useState(false);\r\n  const [isInitialized, setIsInitialized] = useState(false);\r\n  \r\n  const [useCoins, setUseCoins] = useState(false);\r\n  const [userCoinBalance, setUserCoinBalance] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const savedCart = localStorage.getItem(\"storelink_cart\");\r\n    \r\n    if (savedCart) {\r\n      try { \r\n        const parsed = JSON.parse(savedCart);\r\n        if (Array.isArray(parsed)) setCart(parsed); \r\n      } catch (e) { console.error(\"Cart parse error\", e); }\r\n    }\r\n    \r\n    setIsInitialized(true);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isInitialized) {\r\n      localStorage.setItem(\"storelink_cart\", JSON.stringify(cart));\r\n    }\r\n  }, [cart, isInitialized]);\r\n\r\n  useEffect(() => {\r\n    setUseCoins(false);\r\n  }, []);\r\n\r\n  const addToCart = (product: Product, store: Store) => {\r\n    setCart((prev) => {\r\n      const existing = prev.find((item) => item.product.id === product.id);\r\n      if (existing) {\r\n        return prev.map((item) =>\r\n          item.product.id === product.id ? { ...item, qty: item.qty + 1 } : item\r\n        );\r\n      }\r\n      return [...prev, { product, store, qty: 1 }];\r\n    });\r\n  };\r\n\r\n  const removeFromCart = (productId: string) => {\r\n    setCart((prev) => prev.filter((item) => item.product.id !== productId));\r\n  };\r\n\r\n  const updateQuantity = (productId: string, quantity: number) => {\r\n    setCart((prev) => \r\n      prev.map((item) => \r\n        item.product.id === productId \r\n          ? { ...item, qty: Math.max(1, quantity) } \r\n          : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const clearCart = () => {\r\n    setCart([]);\r\n    setUseCoins(false);\r\n  };\r\n\r\n  const openCart = () => setIsCartOpen(true);\r\n  const closeCart = () => setIsCartOpen(false);\r\n\r\n  const cartCount = cart.reduce((acc, item) => acc + item.qty, 0);\r\n  const cartTotal = cart.reduce((total, item) => total + (item.product.price * item.qty), 0);\r\n\r\n  const MAX_DISCOUNT_PERCENTAGE = 0.05;\r\n  const maxAllowedDiscount = Math.floor(cartTotal * MAX_DISCOUNT_PERCENTAGE);\r\n\r\n  const coinsToRedeem = (useCoins && cart.length > 0) \r\n    ? Math.min(userCoinBalance, maxAllowedDiscount) \r\n    : 0;\r\n\r\n  const finalTotal = cartTotal - coinsToRedeem;\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        cart,\r\n        cartCount,\r\n        cartTotal,\r\n        finalTotal,\r\n        isCartOpen,\r\n        setIsCartOpen,\r\n        addToCart,\r\n        removeFromCart,\r\n        updateQuantity,\r\n        clearCart,\r\n        openCart,\r\n        closeCart,\r\n        useCoins,\r\n        setUseCoins,\r\n        redeemableCoins: coinsToRedeem,\r\n        actualBalance: userCoinBalance,\r\n        setActualBalance: setUserCoinBalance, \r\n      }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n}\r\n\r\nexport const useCart = () => {\r\n  const context = useContext(CartContext);\r\n  if (!context) throw new Error(\"useCart must be used within a CartProvider\");\r\n  return context;\r\n};"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAgCA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAa,EAAE;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IAEnD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IAEvD,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY,aAAa,OAAO,CAAC;QAEvC,IAAI,WAAW;YACb,IAAI;gBACF,MAAM,SAAS,KAAK,KAAK,CAAC;gBAC1B,IAAI,MAAM,OAAO,CAAC,SAAS,QAAQ;YACrC,EAAE,OAAO,GAAG;gBAAE,QAAQ,KAAK,CAAC,oBAAoB;YAAI;QACtD;QAEA,iBAAiB;IACnB,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,IAAI,eAAe;YACjB,aAAa,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;QACxD;IACF,GAAG;QAAC;QAAM;KAAc;IAExB,IAAA,kNAAS,EAAC;QACR,YAAY;IACd,GAAG,EAAE;IAEL,MAAM,YAAY,CAAC,SAAkB;QACnC,QAAQ,CAAC;YACP,MAAM,WAAW,KAAK,IAAI,CAAC,CAAC,OAAS,KAAK,OAAO,CAAC,EAAE,KAAK,QAAQ,EAAE;YACnE,IAAI,UAAU;gBACZ,OAAO,KAAK,GAAG,CAAC,CAAC,OACf,KAAK,OAAO,CAAC,EAAE,KAAK,QAAQ,EAAE,GAAG;wBAAE,GAAG,IAAI;wBAAE,KAAK,KAAK,GAAG,GAAG;oBAAE,IAAI;YAEtE;YACA,OAAO;mBAAI;gBAAM;oBAAE;oBAAS;oBAAO,KAAK;gBAAE;aAAE;QAC9C;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,QAAQ,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,OAAS,KAAK,OAAO,CAAC,EAAE,KAAK;IAC9D;IAEA,MAAM,iBAAiB,CAAC,WAAmB;QACzC,QAAQ,CAAC,OACP,KAAK,GAAG,CAAC,CAAC,OACR,KAAK,OAAO,CAAC,EAAE,KAAK,YAChB;oBAAE,GAAG,IAAI;oBAAE,KAAK,KAAK,GAAG,CAAC,GAAG;gBAAU,IACtC;IAGV;IAEA,MAAM,YAAY;QAChB,QAAQ,EAAE;QACV,YAAY;IACd;IAEA,MAAM,WAAW,IAAM,cAAc;IACrC,MAAM,YAAY,IAAM,cAAc;IAEtC,MAAM,YAAY,KAAK,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,GAAG,EAAE;IAC7D,MAAM,YAAY,KAAK,MAAM,CAAC,CAAC,OAAO,OAAS,QAAS,KAAK,OAAO,CAAC,KAAK,GAAG,KAAK,GAAG,EAAG;IAExF,MAAM,0BAA0B;IAChC,MAAM,qBAAqB,KAAK,KAAK,CAAC,YAAY;IAElD,MAAM,gBAAgB,AAAC,YAAY,KAAK,MAAM,GAAG,IAC7C,KAAK,GAAG,CAAC,iBAAiB,sBAC1B;IAEJ,MAAM,aAAa,YAAY;IAE/B,qBACE,8OAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA,iBAAiB;YACjB,eAAe;YACf,kBAAkB;QACpB;kBAEC;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACT"}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/lib/supabase.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\r\n\r\n\r\nexport const supabase = createBrowserClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n)"],"names":[],"mappings":";;;;AAAA;AAAA;;AAGO,MAAM,WAAW,IAAA,iMAAmB"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/components/shared/GlobalCartSidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useCart } from \"@/context/CartContext\";\r\nimport { \r\n  X, ShoppingBag, MessageCircle, User, Trash2, Loader2, \r\n  Coins, Zap, CheckCircle2, Info, HelpCircle, History,\r\n  ArrowUpRight, ArrowDownLeft, ChevronRight, RefreshCw\r\n} from \"lucide-react\";\r\nimport Image from \"next/image\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport { sendGAEvent } from '@next/third-parties/google';\r\n\r\nexport default function GlobalCartSidebar() {\r\n  const context = useCart();\r\n  if (!context) return null;\r\n\r\n  const { \r\n    cart, isCartOpen, setIsCartOpen, removeFromCart, \r\n    useCoins, setUseCoins, actualBalance, setActualBalance \r\n  } = context;\r\n\r\n  const pathname = usePathname();\r\n  const [formData, setFormData] = useState({ name: \"\", phone: \"\", address: \"\" });\r\n  const [loadingStoreId, setLoadingStoreId] = useState<string | null>(null);\r\n  const [isSyncingWallet, setIsSyncingWallet] = useState(false);\r\n  const [history, setHistory] = useState<any[]>([]);\r\n  const [liveStoreSettings, setLiveStoreSettings] = useState<Record<string, any>>({});\r\n\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem(\"storelink_billing\");\r\n    if (saved) {\r\n      try {\r\n        const parsed = JSON.parse(saved);\r\n        setFormData(parsed);\r\n        if (parsed.phone && parsed.phone.replace(/\\D/g, '').length >= 10) {\r\n          syncEmpireWallet(parsed.phone);\r\n        }\r\n      } catch (e) { console.error(\"Billing parse error\", e); }\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchEverything = async () => {\r\n      const savedBilling = localStorage.getItem(\"storelink_billing\");\r\n      let cleanPhone = \"\";\r\n\r\n      if (savedBilling) {\r\n        try {\r\n          const parsed = JSON.parse(savedBilling);\r\n          cleanPhone = parsed.phone?.replace(/\\D/g, '').slice(-10);\r\n        } catch (e) { console.error(e); }\r\n      }\r\n\r\n      if (cleanPhone && cleanPhone.length >= 10) {\r\n        const { data: wallet } = await supabase\r\n          .from('user_wallets')\r\n          .select('coin_balance')\r\n          .eq('phone_number', cleanPhone)\r\n          .single();\r\n        \r\n        if (wallet) {\r\n          setActualBalance(wallet.coin_balance);\r\n          fetchHistory(cleanPhone);\r\n        } else {\r\n          setActualBalance(0); \r\n        }\r\n      }\r\n\r\n      const storeIds = Array.from(new Set(cart.map(item => item.store.id)));\r\n      if (storeIds.length > 0) {\r\n        const { data: stores } = await supabase\r\n          .from('stores')\r\n          .select('id, name, self_earning, loyalty_enabled, loyalty_percentage, whatsapp_number')\r\n          .in('id', storeIds);\r\n        \r\n        if (stores) {\r\n          const settingsMap = stores.reduce((acc, s) => ({ ...acc, [s.id]: s }), {});\r\n          setLiveStoreSettings(settingsMap);\r\n        }\r\n      }\r\n    };\r\n\r\n    if (isCartOpen) {\r\n      fetchEverything();\r\n\r\n      const savedBilling = localStorage.getItem(\"storelink_billing\");\r\n      const parsed = savedBilling ? JSON.parse(savedBilling) : null;\r\n      const cleanPhone = parsed?.phone?.replace(/\\D/g, '').slice(-10);\r\n\r\n      if (cleanPhone) {\r\n        const channel = supabase\r\n          .channel(`wallet-sync-${cleanPhone}`)\r\n          .on('postgres_changes', { \r\n            event: 'UPDATE', \r\n            schema: 'public', \r\n            table: 'user_wallets', \r\n            filter: `phone_number=eq.${cleanPhone}` \r\n          }, (payload) => {\r\n            setActualBalance(payload.new.coin_balance);\r\n          })\r\n          .subscribe();\r\n\r\n        return () => { supabase.removeChannel(channel); };\r\n      }\r\n    }\r\n  }, [isCartOpen, cart.length, setActualBalance]);\r\n\r\n  const fetchHistory = async (phone: string) => {\r\n    const cleanPhone = phone.replace(/\\D/g, '').slice(-10);\r\n    if (cleanPhone.length < 10) return;\r\n\r\n    const { data } = await supabase\r\n      .from('coin_transactions')\r\n      .select('*, stores(name)')\r\n      .eq('phone_number', cleanPhone)\r\n      .order('created_at', { ascending: false })\r\n      .limit(5);\r\n\r\n    setHistory(data || []);\r\n  };\r\n\r\n  const syncEmpireWallet = async (phone: string) => {\r\n    const cleanPhone = phone.replace(/\\D/g, '').slice(-10); \r\n    if (cleanPhone.length < 10) return;\r\n\r\n    setIsSyncingWallet(true);\r\n    try {\r\n      const { data, error } = await supabase.rpc('sync_or_create_wallet', { \r\n        phone: cleanPhone \r\n      });\r\n\r\n      if (error) throw error;\r\n\r\n      if (data && data.length > 0) {\r\n        setActualBalance(data[0].coin_balance); \r\n        fetchHistory(cleanPhone); \r\n        if (data[0].customer_name && !formData.name) {\r\n          setFormData(prev => ({ ...prev, name: data[0].customer_name }));\r\n        }\r\n      }\r\n    } catch (err: any) {\r\n      console.error(\"Wallet Sync Error:\", err.message);\r\n    } finally {\r\n      setIsSyncingWallet(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (field: string, value: string) => {\r\n    const newData = { ...formData, [field]: value };\r\n    setFormData(newData);\r\n    localStorage.setItem(\"storelink_billing\", JSON.stringify(newData));\r\n    \r\n    if (field === \"phone\" && value.replace(/\\D/g, '').length >= 10) {\r\n      syncEmpireWallet(value);\r\n    }\r\n  };\r\n\r\n  const handleCheckout = async (storeId: string, storeData: any, items: any[]) => {\r\n    setLoadingStoreId(storeId); \r\n    const cleanPhone = formData.phone.replace(/\\D/g, '').slice(-10);\r\n\r\n    try {\r\n        const storeTotal = items.reduce((sum: number, i: any) => sum + (i.product.price * i.qty), 0);\r\n        const coinsToApply = useCoins ? Math.min(actualBalance, Math.floor(storeTotal * 0.05)) : 0;\r\n        const finalPayable = storeTotal - coinsToApply;\r\n        \r\n        const { data: newOrderId, error: orderError } = await supabase.rpc('create_new_order', {\r\n            store_uuid: storeId,\r\n            customer_name: formData.name,\r\n            customer_phone: cleanPhone,\r\n            customer_address: formData.address,\r\n            total_amount_paid: finalPayable,\r\n            coins_used: coinsToApply,\r\n            order_items_array: items.map((item: any) => ({\r\n                product_id: item.product.id,\r\n                product_name: item.product.name,\r\n                quantity: item.qty,\r\n                price: item.product.price\r\n            })),\r\n        });\r\n\r\n        if (orderError) throw orderError;\r\n\r\n        if (coinsToApply > 0) {\r\n          await supabase.rpc('decrement_wallet', { \r\n            arg_phone: cleanPhone, \r\n            arg_amount: Number(coinsToApply), \r\n            arg_store: String(storeData.name)\r\n          });\r\n          setUseCoins(false); \r\n        }\r\n\r\n        let wa = storeData.whatsapp_number?.replace(/\\D/g, '') || \"\";\r\n        if (wa.startsWith('0')) wa = '234' + wa.substring(1);\r\n        \r\n        const itemLines = items.map((i: any) => {\r\n          const lineTotal = i.qty * i.product.price;\r\n          return `â€¢ *${i.qty}x ${i.product.name}* (â‚¦${i.product.price.toLocaleString()} each) â†’ â‚¦${lineTotal.toLocaleString()}`;\r\n        }).join('\\n');\r\n\r\n        const msg = `*ORDER INVOICE #${newOrderId.slice(0, 8).toUpperCase()}* ðŸ“¦\\n\\n` +\r\n                    `Hello *${storeData.name}*,\\n` +\r\n                    `I would like to place an order for the following items:\\n\\n` +\r\n                    `${itemLines}\\n\\n` +\r\n                    `--- *BILLING DETAILS* ---\\n` +\r\n                    `ðŸ‘¤ *Name:* ${formData.name}\\n` +\r\n                    `ðŸ“ž *Phone:* ${formData.phone}\\n` +\r\n                    `ðŸ“ *Address:* ${formData.address}\\n\\n` +\r\n                    `--- *ORDER SUMMARY* ---\\n` +\r\n                    `*Subtotal:* â‚¦${storeTotal.toLocaleString()}\\n` +\r\n                    (coinsToApply > 0 ? `*Empire Coins Discount:* -â‚¦${coinsToApply.toLocaleString()}\\n` : \"\") +\r\n                    `*TOTAL PAYABLE:* â‚¦${finalPayable.toLocaleString()}\\n\\n` +\r\n                    `--- *NEXT STEPS* ---\\n` +\r\n                    `âœ… Please confirm item availability.\\n` +\r\n                    `ðŸ’³ Provide your *account details* for payment.\\n` +\r\n                    `ðŸšš Please let me know the *estimated delivery time*.\\n\\n` +\r\n                    `ðŸš€ _Order generated via StoreLink Ecosystem._`;\r\n\r\n        window.open(`https://wa.me/${wa}?text=${encodeURIComponent(msg)}`, \"_blank\");\r\n\r\n        sendGAEvent('event', 'purchase', { store: storeData.name, value: finalPayable });\r\n\r\n        items.forEach((item: any) => removeFromCart(item.product.id));\r\n        if (cart.length === items.length) setIsCartOpen(false);\r\n\r\n    } catch (err: any) {\r\n        alert(`Order Failed: ${err.message}`);\r\n    } finally {\r\n        setLoadingStoreId(null); \r\n    }\r\n  };\r\n\r\n  const isInternalPage = pathname?.startsWith('/dashboard') || pathname?.startsWith('/admin');\r\n  if (isInternalPage || !isCartOpen) return null;\r\n\r\n  const cartByVendor = cart.reduce((acc, item) => {\r\n    const storeId = item.store.id;\r\n    if (!acc[storeId]) acc[storeId] = { store: item.store, items: [] };\r\n    acc[storeId].items.push(item);\r\n    return acc;\r\n  }, {} as Record<string, { store: any, items: any[] }>);\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex justify-end animate-in fade-in duration-200\">\r\n      <div className=\"absolute inset-0\" onClick={() => setIsCartOpen(false)}></div>\r\n\r\n      <div className=\"relative w-full max-w-md bg-white h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-300\">\r\n        <div className=\"p-5 border-b border-gray-100 flex justify-between items-center bg-white z-10 shadow-sm\">\r\n           <h2 className=\"font-black text-xl flex items-center gap-2 uppercase tracking-tighter\"><ShoppingBag className=\"text-emerald-600\" /> My Bag ({cart.length})</h2>\r\n           <button onClick={() => setIsCartOpen(false)} className=\"p-2 bg-gray-50 rounded-full hover:bg-gray-100 transition\"><X size={20} /></button>\r\n        </div>\r\n\r\n        <div className=\"flex-1 overflow-y-auto p-5 bg-gray-50 no-scrollbar pb-24\">\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-white p-6 rounded-[2.5rem] shadow-sm border border-gray-100\">\r\n              <h3 className=\"font-black text-gray-900 mb-4 text-[10px] uppercase tracking-widest flex items-center gap-2\"><User size={14} className=\"text-emerald-500\" /> Delivery Details</h3>\r\n              <div className=\"space-y-3\">\r\n                <input placeholder=\"Full Name\" className=\"w-full p-4 bg-gray-50 border-none rounded-2xl text-sm font-bold focus:ring-2 focus:ring-emerald-500 outline-none\" value={formData.name} onChange={e => handleChange(\"name\", e.target.value)} />\r\n                <input placeholder=\"WhatsApp Number\" className=\"w-full p-4 bg-gray-50 border-none rounded-2xl text-sm font-bold focus:ring-2 focus:ring-emerald-500 outline-none\" value={formData.phone} onChange={e => handleChange(\"phone\", e.target.value)} />\r\n                <textarea placeholder=\"Full Delivery Address\" className=\"w-full p-4 bg-gray-50 border-none rounded-2xl text-sm font-bold focus:ring-2 focus:ring-emerald-500 outline-none h-20 resize-none\" value={formData.address} onChange={e => handleChange(\"address\", e.target.value)} />\r\n              </div>\r\n            </div>\r\n\r\n            {actualBalance > 0 && (\r\n              <div className=\"space-y-3 animate-in zoom-in duration-300\">\r\n                <div className={`p-5 rounded-[2.5rem] border-2 transition-all duration-500 flex items-center justify-between ${useCoins ? 'bg-amber-500 border-amber-400 shadow-xl' : 'bg-white border-gray-100'}`}>\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <div className={`${useCoins ? 'bg-white text-amber-500' : 'bg-amber-500 text-white'} p-2.5 rounded-2xl shadow-sm`}><Coins size={20} fill=\"currentColor\"/></div>\r\n                      <div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <p className={`text-[9px] font-black uppercase tracking-widest ${useCoins ? 'text-white' : 'text-amber-600'}`}>Global Balance</p>\r\n                          <button onClick={() => syncEmpireWallet(formData.phone)} disabled={isSyncingWallet} className={`transition-all hover:scale-110 ${useCoins ? 'text-white/60' : 'text-amber-400'}`}><RefreshCw size={10} className={isSyncingWallet ? \"animate-spin\" : \"\"} /></button>\r\n                        </div>\r\n                        <p className={`text-lg font-black ${useCoins ? 'text-white' : 'text-gray-900'}`}>â‚¦{actualBalance.toLocaleString()}</p>\r\n                      </div>\r\n                    </div>\r\n                    <button onClick={() => setUseCoins(!useCoins)} className={`px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${useCoins ? 'bg-white text-amber-600' : 'bg-amber-500 text-white'}`}>\r\n                      {useCoins ? \"Applied\" : \"Apply Coins\"}\r\n                    </button>\r\n                </div>\r\n                \r\n              \r\n              </div>\r\n            )}\r\n\r\n            {Object.values(cartByVendor).map(({ store, items }) => {\r\n              // ðŸ”¥ Use Live Settings from DB for the Banner calculation\r\n              const settings = liveStoreSettings[store.id] || store;\r\n              const storeTotal = items.reduce((sum, i) => sum + (i.product.price * i.qty), 0);\r\n              const discount = useCoins ? Math.min(actualBalance, Math.floor(storeTotal * 0.05)) : 0;\r\n              const finalTotal = storeTotal - discount;\r\n              const earned = settings.loyalty_enabled ? Math.floor(finalTotal * (settings.loyalty_percentage / 100)) : 0;\r\n\r\n              const cPhone = (formData.phone || \"\").replace(/\\D/g, '').slice(-10);\r\n              const vPhone = (settings.whatsapp_number || \"\").replace(/\\D/g, '').slice(-10);\r\n              const blockOwner = cPhone.length >= 10 && vPhone.length >= 10 && cPhone === vPhone && settings.self_earning === false;\r\n\r\n              return (\r\n                <div key={store.id} className=\"bg-white p-6 rounded-[2.5rem] shadow-sm border border-gray-100 overflow-hidden relative mb-4\">\r\n                   <div className=\"flex justify-between items-start border-b border-gray-50 pb-4 mb-4\">\r\n                      <h3 className=\"font-black text-[11px] uppercase tracking-tighter text-gray-400\">{store.name}</h3>\r\n                      <div className=\"text-right\">\r\n                        {discount > 0 && <p className=\"text-[10px] text-gray-300 line-through font-bold\">â‚¦{storeTotal.toLocaleString()}</p>}\r\n                        <span className=\"text-emerald-600 font-black text-xl tracking-tighter\">â‚¦{finalTotal.toLocaleString()}</span>\r\n                      </div>\r\n                   </div>\r\n\r\n                   <div className=\"space-y-4 mb-6\">\r\n                      {items.map(item => (\r\n                        <div key={item.product.id} className=\"flex gap-4 items-center group text-left min-w-0\">\r\n                          \r\n                          <div className=\"relative w-12 h-12 bg-gray-50 rounded-xl overflow-hidden border shrink-0\">\r\n                            {item.product.image_urls?.[0] && (\r\n                              <Image src={item.product.image_urls[0]} alt=\"\" fill className=\"object-cover\" />\r\n                            )}\r\n                          </div>\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            <p className=\"font-bold text-[13px] text-gray-900 uppercase truncate\">\r\n                              {item.product.name}\r\n                            </p>\r\n                            <p className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">\r\n                              {item.qty} x â‚¦{item.product.price.toLocaleString()}\r\n                            </p>\r\n                          </div>\r\n\r\n                          <button \r\n                            onClick={() => removeFromCart(item.product.id)} \r\n                            className=\"text-gray-300 hover:text-red-500 p-2 transition-colors shrink-0\"\r\n                          >\r\n                            <Trash2 size={16} />\r\n                          </button>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n\r\n                   {settings.loyalty_enabled && (\r\n                     <div className={`text-[9px] font-black p-4 rounded-2xl mb-6 flex flex-col gap-1 border transition-all ${blockOwner ? 'bg-gray-50 text-gray-400' : 'bg-emerald-50 text-emerald-700 border-emerald-100 animate-in slide-in-from-bottom-2'}`}>\r\n                        <div className=\"flex items-center justify-between uppercase\">\r\n                           <span className=\"flex items-center gap-2\">\r\n                             <Zap size={14} fill={blockOwner ? \"none\" : \"currentColor\"} /> \r\n                             {blockOwner ? \"Earning Blocked (Owner)\" : \"You are earning\"}\r\n                           </span>\r\n                           <span className=\"text-xs\">{blockOwner ? \"â‚¦0\" : `+â‚¦${earned.toLocaleString()}`}</span>\r\n                        </div>\r\n                        <p className=\"text-[7px] opacity-60 uppercase tracking-widest text-left\">\r\n                          {blockOwner ? \"Owner cannot earn from self-orders\" : `Calculated as ${settings.loyalty_percentage}% of your â‚¦${finalTotal.toLocaleString()} total`}\r\n                        </p>\r\n                     </div>\r\n                   )}\r\n\r\n                   <button onClick={() => handleCheckout(store.id, store, items)} disabled={!formData.name || !formData.phone || !formData.address || loadingStoreId === store.id} className=\"w-full bg-gray-900 text-white py-5 rounded-[2rem] font-black text-[11px] uppercase tracking-widest hover:bg-emerald-600 transition-all disabled:bg-gray-100 disabled:text-gray-300 flex items-center justify-center gap-2\">\r\n                     {loadingStoreId === store.id ? <Loader2 className=\"animate-spin\" size={18} /> : <><MessageCircle size={18} /> Complete Checkout</>}\r\n                   </button>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}