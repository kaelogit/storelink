{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\r\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseKey)"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,uLAAY,EAAC,aAAa"}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/app/%5Bslug%5D/page.tsx"],"sourcesContent":["import { supabase } from \"@/lib/supabase\";\r\nimport { notFound } from \"next/navigation\";\r\nimport { Store, Product } from \"@/types\";\r\nimport Image from \"next/image\";\r\nimport { BadgeCheck, MapPin, ShoppingBag, MessageCircle } from \"lucide-react\"; // Import Icons\r\n\r\n// 1. Force dynamic rendering so it updates instantly\r\nexport const revalidate = 0;\r\n\r\nexport default async function StorePage({ params }: { params: Promise<{ slug: string }> }) {\r\n  const resolvedParams = await params;\r\n  const { slug } = resolvedParams;\r\n\r\n  // Fetch Store\r\n  const { data: store, error } = await supabase\r\n    .from(\"stores\")\r\n    .select(\"*\")\r\n    .eq(\"slug\", slug)\r\n    .single();\r\n\r\n  if (error || !store) return notFound();\r\n\r\n  // Fetch Products\r\n  const { data: products } = await supabase\r\n    .from(\"storefront_products\")\r\n    .select(\"*\")\r\n    .eq(\"store_id\", store.id);\r\n\r\n  const activeProducts = products || [];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 pb-20 font-sans\">\r\n      {/* --- PRO HEADER SECTION --- */}\r\n      <div className=\"bg-white pb-6 shadow-sm border-b border-gray-100\">\r\n        \r\n        {/* Cover Area (Gray for now, we can make this an image later) */}\r\n        <div className=\"h-24 bg-gradient-to-r from-green-50 to-emerald-50 w-full relative\">\r\n           {/* You could put a cover image here later */}\r\n        </div>\r\n\r\n        <div className=\"px-4 -mt-10 flex flex-col items-center text-center\">\r\n          {/* Big Profile Logo with White Ring */}\r\n          <div className=\"w-24 h-24 bg-white rounded-full p-1 shadow-md z-10\">\r\n            <div className=\"w-full h-full bg-gray-100 rounded-full overflow-hidden relative\">\r\n              {store.logo_url ? (\r\n                <Image src={store.logo_url} alt={store.name} fill className=\"object-cover\" />\r\n              ) : (\r\n                <div className=\"flex items-center justify-center h-full text-2xl font-bold text-gray-400\">\r\n                  {store.name.charAt(0)}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Store Name + Verified Badge */}\r\n          <div className=\"mt-3 flex items-center gap-1.5\">\r\n            <h1 className=\"text-2xl font-bold text-gray-900 tracking-tight\">{store.name}</h1>\r\n            <BadgeCheck className=\"w-5 h-5 text-blue-500 fill-blue-50\" />\r\n          </div>\r\n\r\n          {/* Location & Category */}\r\n          <div className=\"flex items-center gap-2 mt-1 text-sm text-gray-500\">\r\n            <span className=\"flex items-center gap-1\">\r\n              <MapPin className=\"w-3 h-3\" /> {store.location}\r\n            </span>\r\n            <span>•</span>\r\n            <span className=\"bg-gray-100 px-2 py-0.5 rounded-full text-xs font-medium text-gray-600\">\r\n              {store.category}\r\n            </span>\r\n          </div>\r\n\r\n          {/* Description */}\r\n          {store.description && (\r\n            <p className=\"mt-3 text-sm text-gray-600 max-w-xs leading-relaxed\">\r\n              {store.description}\r\n            </p>\r\n          )}\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex gap-3 mt-5 w-full max-w-sm\">\r\n            <a \r\n              href={`https://wa.me/${store.whatsapp_number}`} \r\n              target=\"_blank\"\r\n              className=\"flex-1 flex items-center justify-center gap-2 bg-gray-900 text-white py-2.5 rounded-xl text-sm font-semibold shadow-sm hover:bg-gray-800 transition active:scale-95\"\r\n            >\r\n              <MessageCircle className=\"w-4 h-4\" />\r\n              Chat\r\n            </a>\r\n            <button className=\"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-200 text-gray-700 py-2.5 rounded-xl text-sm font-semibold shadow-sm hover:bg-gray-50 transition active:scale-95\">\r\n              Share Shop\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* --- PRODUCT GRID --- */}\r\n      <main className=\"max-w-md mx-auto px-4 py-8\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h2 className=\"font-bold text-gray-900 text-lg\">Products</h2>\r\n          <span className=\"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-md\">{activeProducts.length} Items</span>\r\n        </div>\r\n\r\n        {activeProducts.length > 0 ? (\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            {activeProducts.map((product: Product) => (\r\n              <div key={product.id} className=\"bg-white p-3 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition\">\r\n                <div className=\"aspect-square bg-gray-100 rounded-xl mb-3 relative overflow-hidden\">\r\n                  {product.image_url ? (\r\n                    <Image src={product.image_url} alt={product.name} fill className=\"object-cover\" />\r\n                  ) : (\r\n                    <div className=\"w-full h-full flex items-center justify-center text-gray-300\">\r\n                      <ShoppingBag className=\"w-8 h-8 opacity-20\" />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <h3 className=\"font-medium text-gray-900 text-sm truncate\">{product.name}</h3>\r\n                <p className=\"text-emerald-600 font-bold text-sm mt-1\">₦{product.price.toLocaleString()}</p>\r\n                <button className=\"w-full mt-3 bg-emerald-50 text-emerald-700 text-xs font-bold py-2.5 rounded-lg hover:bg-emerald-100 transition\">\r\n                  ADD +\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          /* Empty State Design */\r\n          <div className=\"flex flex-col items-center justify-center py-16 text-center border-2 border-dashed border-gray-100 rounded-2xl bg-white\">\r\n            <div className=\"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mb-4\">\r\n              <ShoppingBag className=\"w-8 h-8 text-gray-300\" />\r\n            </div>\r\n            <h3 className=\"text-gray-900 font-medium\">No products yet</h3>\r\n            <p className=\"text-gray-400 text-sm mt-1 max-w-[200px]\">\r\n              This store hasn't added any items to their shelf.\r\n            </p>\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}