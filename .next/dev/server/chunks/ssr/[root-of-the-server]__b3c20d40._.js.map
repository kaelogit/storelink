{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/context/CartContext.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, useContext, useState, useEffect, ReactNode } from \"react\";\r\nimport { Product, Store } from \"@/types\";\r\n\r\nexport type CartItem = { \r\n  product: Product; \r\n  store: Store; \r\n  qty: number \r\n};\r\n\r\ninterface CartContextType {\r\n  cart: CartItem[];\r\n  cartCount: number;\r\n  cartTotal: number;\r\n  addToCart: (product: Product, store: Store) => void;\r\n  removeFromCart: (productId: string) => void;\r\n  updateQuantity: (productId: string, quantity: number) => void;\r\n  clearCart: () => void;\r\n  isCartOpen: boolean;\r\n  setIsCartOpen: (isOpen: boolean) => void;\r\n  openCart: () => void;\r\n  closeCart: () => void;\r\n}\r\n\r\nconst CartContext = createContext<CartContextType | undefined>(undefined);\r\n\r\nexport function CartProvider({ children }: { children: ReactNode }) {\r\n  const [cart, setCart] = useState<CartItem[]>([]);\r\n  const [isCartOpen, setIsCartOpen] = useState(false);\r\n  const [isInitialized, setIsInitialized] = useState(false); // <--- PREVENTS WIPING DATA\r\n\r\n  useEffect(() => {\r\n    const savedCart = localStorage.getItem(\"storelink_cart\");\r\n    if (savedCart) {\r\n      try {\r\n        setCart(JSON.parse(savedCart));\r\n      } catch (e) {\r\n        console.error(\"Failed to parse cart\", e);\r\n      }\r\n    }\r\n    setIsInitialized(true); // Mark as loaded\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isInitialized) {\r\n      localStorage.setItem(\"storelink_cart\", JSON.stringify(cart));\r\n    }\r\n  }, [cart, isInitialized]);\r\n\r\n\r\n  const addToCart = (product: Product, store: Store) => {\r\n    setCart((prev) => {\r\n      const existing = prev.find((item) => item.product.id === product.id);\r\n      if (existing) {\r\n        return prev.map((item) =>\r\n          item.product.id === product.id ? { ...item, qty: item.qty + 1 } : item\r\n        );\r\n      }\r\n      return [...prev, { product, store, qty: 1 }];\r\n    });\r\n  };\r\n\r\n  const removeFromCart = (productId: string) => {\r\n    setCart((prev) => prev.filter((item) => item.product.id !== productId));\r\n  };\r\n\r\n  const updateQuantity = (productId: string, quantity: number) => {\r\n    setCart((prev) => \r\n      prev.map((item) => \r\n        item.product.id === productId \r\n          ? { ...item, qty: Math.max(1, quantity) } // Prevent going below 1\r\n          : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const clearCart = () => setCart([]);\r\n\r\n  const openCart = () => setIsCartOpen(true);\r\n  const closeCart = () => setIsCartOpen(false);\r\n\r\n\r\n  const cartCount = cart.reduce((acc, item) => acc + item.qty, 0);\r\n\r\n  const cartTotal = cart.reduce((total, item) => {\r\n    return total + (item.product.price * item.qty);\r\n  }, 0);\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        cart,\r\n        cartCount,\r\n        cartTotal,\r\n        isCartOpen,\r\n        setIsCartOpen,\r\n        addToCart,\r\n        removeFromCart,\r\n        updateQuantity,\r\n        clearCart,\r\n        openCart,\r\n        closeCart,\r\n      }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n}\r\n\r\nexport const useCart = () => {\r\n  const context = useContext(CartContext);\r\n  if (!context) throw new Error(\"useCart must be used within a CartProvider\");\r\n  return context;\r\n};"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAyBA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAa,EAAE;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC,QAAQ,4BAA4B;IAEvF,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY,aAAa,OAAO,CAAC;QACvC,IAAI,WAAW;YACb,IAAI;gBACF,QAAQ,KAAK,KAAK,CAAC;YACrB,EAAE,OAAO,GAAG;gBACV,QAAQ,KAAK,CAAC,wBAAwB;YACxC;QACF;QACA,iBAAiB,OAAO,iBAAiB;IAC3C,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,IAAI,eAAe;YACjB,aAAa,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;QACxD;IACF,GAAG;QAAC;QAAM;KAAc;IAGxB,MAAM,YAAY,CAAC,SAAkB;QACnC,QAAQ,CAAC;YACP,MAAM,WAAW,KAAK,IAAI,CAAC,CAAC,OAAS,KAAK,OAAO,CAAC,EAAE,KAAK,QAAQ,EAAE;YACnE,IAAI,UAAU;gBACZ,OAAO,KAAK,GAAG,CAAC,CAAC,OACf,KAAK,OAAO,CAAC,EAAE,KAAK,QAAQ,EAAE,GAAG;wBAAE,GAAG,IAAI;wBAAE,KAAK,KAAK,GAAG,GAAG;oBAAE,IAAI;YAEtE;YACA,OAAO;mBAAI;gBAAM;oBAAE;oBAAS;oBAAO,KAAK;gBAAE;aAAE;QAC9C;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,QAAQ,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,OAAS,KAAK,OAAO,CAAC,EAAE,KAAK;IAC9D;IAEA,MAAM,iBAAiB,CAAC,WAAmB;QACzC,QAAQ,CAAC,OACP,KAAK,GAAG,CAAC,CAAC,OACR,KAAK,OAAO,CAAC,EAAE,KAAK,YAChB;oBAAE,GAAG,IAAI;oBAAE,KAAK,KAAK,GAAG,CAAC,GAAG;gBAAU,EAAE,wBAAwB;mBAChE;IAGV;IAEA,MAAM,YAAY,IAAM,QAAQ,EAAE;IAElC,MAAM,WAAW,IAAM,cAAc;IACrC,MAAM,YAAY,IAAM,cAAc;IAGtC,MAAM,YAAY,KAAK,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,GAAG,EAAE;IAE7D,MAAM,YAAY,KAAK,MAAM,CAAC,CAAC,OAAO;QACpC,OAAO,QAAS,KAAK,OAAO,CAAC,KAAK,GAAG,KAAK,GAAG;IAC/C,GAAG;IAEH,qBACE,8OAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACT"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/lib/supabase.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\r\n\r\n\r\nexport const supabase = createBrowserClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n)"],"names":[],"mappings":";;;;AAAA;AAAA;;AAGO,MAAM,WAAW,IAAA,iMAAmB"}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/components/shared/GlobalCartSidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useCart } from \"@/context/CartContext\";\r\nimport { \r\n  X, ShoppingBag, MessageCircle, User, Trash2, Loader2, \r\n  AlertTriangle, Coins, Zap, CheckCircle2 \r\n} from \"lucide-react\";\r\nimport Image from \"next/image\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { usePathname } from \"next/navigation\";\r\n\r\nexport default function GlobalCartSidebar() {\r\n  const { cart, isCartOpen, setIsCartOpen, removeFromCart, clearCart } = useCart();\r\n  \r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    phone: \"\",\r\n    address: \"\"\r\n  });\r\n\r\n  const [loadingStoreId, setLoadingStoreId] = useState<string | null>(null);\r\n\r\n  const [walletBalance, setWalletBalance] = useState<number>(0);\r\n  const [useCoins, setUseCoins] = useState(false);\r\n  const [isSyncingWallet, setIsSyncingWallet] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem(\"storelink_billing\");\r\n    if (saved) {\r\n      const parsed = JSON.parse(saved);\r\n      setFormData(parsed);\r\n      if (parsed.phone) fetchWalletBalance(parsed.phone);\r\n    }\r\n  }, []);\r\n\r\n  const fetchWalletBalance = async (phone: string) => {\r\n    if (phone.length < 10) return;\r\n    setIsSyncingWallet(true);\r\n    \r\n    try {\r\n      const { data } = await supabase\r\n        .from(\"user_wallets\")\r\n        .select(\"coin_balance, customer_name\") \r\n        .eq(\"phone_number\", phone)\r\n        .single();\r\n      \r\n      if (data) {\r\n        setWalletBalance(data.coin_balance);\r\n        if (data.customer_name && !formData.name) {\r\n          setFormData(prev => ({ ...prev, name: data.customer_name }));\r\n        }\r\n      } else {\r\n        setWalletBalance(0);\r\n      }\r\n    } catch (err) {\r\n      setWalletBalance(0);\r\n    } finally {\r\n      setIsSyncingWallet(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (field: string, value: string) => {\r\n    const newData = { ...formData, [field]: value };\r\n    setFormData(newData);\r\n    localStorage.setItem(\"storelink_billing\", JSON.stringify(newData));\r\n    \r\n    if (field === \"phone\") fetchWalletBalance(value);\r\n  };\r\n\r\n  const cartByVendor = cart.reduce((acc, item) => {\r\n    const storeId = item.store.id;\r\n    if (!acc[storeId]) acc[storeId] = { store: item.store, items: [] };\r\n    acc[storeId].items.push(item);\r\n    return acc;\r\n  }, {} as Record<string, { store: any, items: any[] }>);\r\n\r\n  const handleCheckout = async (storeId: string, storeData: any, items: any[]) => {\r\n    setLoadingStoreId(storeId); \r\n\r\n    try {\r\n        const storeTotal = items.reduce((sum: number, i: any) => sum + (i.product.price * i.qty), 0);\r\n        \r\n        const coinsToApply = useCoins ? Math.min(walletBalance, storeTotal) : 0;\r\n        const finalPayable = storeTotal - coinsToApply;\r\n        const earnedFromThis = storeData.loyalty_enabled \r\n          ? Math.floor(finalPayable * (storeData.loyalty_percentage / 100)) \r\n          : 0;\r\n        \r\n        const orderItemsForRPC = items.map((item: any) => ({\r\n            product_id: item.product.id,\r\n            product_name: item.product.name,\r\n            quantity: item.qty,\r\n            price: item.product.price\r\n        }));\r\n\r\n        const { data: newOrderId, error } = await supabase.rpc('create_new_order', {\r\n            store_uuid: storeId,\r\n            customer_name: formData.name,\r\n            customer_phone: formData.phone,\r\n            customer_email: null, \r\n            customer_address: formData.address,\r\n            total_amount_paid: finalPayable,\r\n            coins_used: coinsToApply,\r\n            order_items_array: orderItemsForRPC,\r\n        });\r\n\r\n        if (error) throw error;\r\n\r\n        if (coinsToApply > 0) {\r\n          await supabase.rpc('decrement_wallet', { \r\n            phone: formData.phone, \r\n            amount: coinsToApply \r\n          });\r\n        }\r\n        if (earnedFromThis > 0) {\r\n          await supabase.rpc('increment_wallet', { \r\n            phone: formData.phone, \r\n            amount: earnedFromThis,\r\n            c_name: formData.name // âœ¨ Pass name as 3rd arg to keep DB updated\r\n          });\r\n        }\r\n\r\n        let cleanNumber = storeData.whatsapp_number?.replace(/\\D/g, '') || \"\";\r\n        if (cleanNumber.startsWith('0')) cleanNumber = '234' + cleanNumber.substring(1);\r\n\r\n        const itemLines = items.map((i: any) => `- ${i.qty}x ${i.product.name} (â‚¦${(i.product.price * i.qty).toLocaleString()})`).join('\\n');\r\n        \r\n        const msg = `*New Order #${newOrderId.slice(0,8)}* ðŸ“¦\\n\\nHello ${storeData.name}, I want to place an order:\\n\\n${itemLines}\\n\\n` +\r\n                    `*Subtotal: â‚¦${storeTotal.toLocaleString()}*\\n` +\r\n                    (coinsToApply > 0 ? `*Empire Coins Discount: -â‚¦${coinsToApply.toLocaleString()}*\\n` : \"\") +\r\n                    `*Total Payable: â‚¦${finalPayable.toLocaleString()}*\\n\\n` +\r\n                    `*Customer Details:*\\nName: ${formData.name}\\nPhone: ${formData.phone}\\nAddress: ${formData.address}\\n\\n` +\r\n                    `Ready to proceed, Kindly provide me with your Account Details to complete payment and let me know the expected delivery day.. (Discount handled via StoreLink)`;\r\n        \r\n        const whatsappLink = `https://wa.me/${cleanNumber}?text=${encodeURIComponent(msg)}`;\r\n        \r\n        window.open(whatsappLink, \"_blank\");\r\n        \r\n        items.forEach((item: any) => {\r\n            removeFromCart(item.product.id);\r\n        });\r\n\r\n        if (cart.length === items.length) {\r\n            setIsCartOpen(false);\r\n        }\r\n\r\n    } catch (err: any) {\r\n        console.error(\"Checkout Failed:\", err);\r\n        alert(`Failed to save order: ${err.message}`);\r\n    } finally {\r\n        setLoadingStoreId(null); \r\n    }\r\n  };\r\n\r\n  if (!isCartOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex justify-end animate-in fade-in duration-200\">\r\n      <div className=\"absolute inset-0\" onClick={() => setIsCartOpen(false)}></div>\r\n\r\n      <div className=\"relative w-full max-w-md bg-white h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-300\">\r\n        \r\n        <div className=\"p-5 border-b border-gray-100 flex justify-between items-center bg-white z-10\">\r\n           <h2 className=\"font-bold text-xl flex items-center gap-2\">\r\n             <ShoppingBag className=\"text-emerald-600\" /> Your Bag ({cart.length})\r\n           </h2>\r\n           <button onClick={() => setIsCartOpen(false)} className=\"p-2 bg-gray-50 rounded-full hover:bg-gray-100 transition\">\r\n             <X size={20} />\r\n           </button>\r\n        </div>\r\n\r\n        <div className=\"flex-1 overflow-y-auto p-5 bg-gray-50\">\r\n          \r\n          {cart.length === 0 ? (\r\n            <div className=\"h-full flex flex-col items-center justify-center text-gray-400 opacity-60\">\r\n               <ShoppingBag size={64} className=\"mb-4\" />\r\n               <p>Your bag is empty</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n               \r\n               <div className=\"bg-white p-4 rounded-2xl shadow-sm border border-gray-100\">\r\n                  <h3 className=\"font-bold text-gray-900 mb-3 text-sm uppercase tracking-wide flex items-center gap-2\">\r\n                    <User size={16}/> Billing Details (Enter Once)\r\n                  </h3>\r\n                  <div className=\"space-y-3\">\r\n                    <input \r\n                      placeholder=\"Your Name\" \r\n                      className=\"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 font-bold\"\r\n                      value={formData.name}\r\n                      onChange={e => handleChange(\"name\", e.target.value)}\r\n                    />\r\n                    <div className=\"relative\">\r\n                      <input \r\n                        placeholder=\"Phone Number\" \r\n                        className=\"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 font-bold\"\r\n                        value={formData.phone}\r\n                        onChange={e => handleChange(\"phone\", e.target.value)}\r\n                      />\r\n                      {isSyncingWallet && <Loader2 size={14} className=\"absolute right-3 top-3.5 animate-spin text-amber-500\" />}\r\n                    </div>\r\n                    <textarea \r\n                      placeholder=\"Delivery Address\" \r\n                      className=\"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 resize-none h-20 font-bold\"\r\n                      value={formData.address}\r\n                      onChange={e => handleChange(\"address\", e.target.value)}\r\n                    />\r\n                  </div>\r\n               </div>\r\n\r\n               {walletBalance > 0 && (\r\n                 <div className=\"bg-amber-50 border border-amber-100 p-4 rounded-2xl flex items-center justify-between animate-in zoom-in duration-500\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <div className=\"bg-amber-500 p-2 rounded-xl text-white\">\r\n                        <Coins size={18} fill=\"currentColor\"/>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-[10px] font-black text-amber-600 uppercase tracking-widest leading-none mb-1\">Empire Balance</p>\r\n                        <p className=\"text-sm font-black text-gray-900\">â‚¦{walletBalance.toLocaleString()}</p>\r\n                      </div>\r\n                    </div>\r\n                    <button \r\n                      onClick={() => setUseCoins(!useCoins)}\r\n                      className={`px-4 py-2 rounded-xl text-[10px] font-black uppercase transition-all shadow-sm ${useCoins ? 'bg-amber-500 text-white' : 'bg-white text-amber-600 border border-amber-200'}`}\r\n                    >\r\n                      {useCoins ? \"Applied\" : \"Apply Coins\"}\r\n                    </button>\r\n                 </div>\r\n               )}\r\n\r\n               {Object.values(cartByVendor).map(({ store, items }) => {\r\n                 const storeTotal = items.reduce((sum, i) => sum + (i.product.price * i.qty), 0);\r\n                 \r\n                 const discount = useCoins ? Math.min(walletBalance, storeTotal) : 0;\r\n                 const finalTotal = storeTotal - discount;\r\n                 const earnedFromThis = store.loyalty_enabled \r\n                    ? Math.floor(finalTotal * (store.loyalty_percentage / 100)) \r\n                    : 0;\r\n\r\n                 const isFormValid = formData.name && formData.phone && formData.address;\r\n                 const isLoading = loadingStoreId === store.id;\r\n\r\n                 return (\r\n                   <div key={store.id} className=\"bg-white p-4 rounded-2xl shadow-sm border border-gray-100\">\r\n                      <div className=\"flex justify-between items-center border-b border-gray-100 pb-2 mb-3\">\r\n                         <h3 className=\"font-bold text-gray-900\">{store.name}</h3>\r\n                         <div className=\"text-right\">\r\n                           {discount > 0 && <p className=\"text-[10px] text-gray-400 line-through decoration-amber-500/50\">â‚¦{storeTotal.toLocaleString()}</p>}\r\n                           <span className=\"text-emerald-600 font-bold\">â‚¦{finalTotal.toLocaleString()}</span>\r\n                         </div>\r\n                      </div>\r\n\r\n                      <div className=\"space-y-4 mb-4\">\r\n                        {items.map(item => (\r\n                          <div key={item.product.id} className=\"flex gap-3\">\r\n                             <div className=\"relative w-14 h-14 bg-gray-100 rounded-lg overflow-hidden shrink-0\">\r\n                                {item.product.image_urls?.[0] && (\r\n                                  <Image src={item.product.image_urls[0]} alt=\"\" fill className=\"object-cover\" />\r\n                                )}\r\n                             </div>\r\n                             <div className=\"flex-1\">\r\n                                <p className=\"font-bold text-sm text-gray-900 line-clamp-1\">{item.product.name}</p>\r\n                                <p className=\"text-xs text-gray-500\">{item.qty} x â‚¦{item.product.price.toLocaleString()}</p>\r\n                             </div>\r\n                             <button onClick={() => removeFromCart(item.product.id)} className=\"text-gray-300 hover:text-red-500 transition\">\r\n                                <Trash2 size={16} />\r\n                             </button>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n\r\n                      {earnedFromThis > 0 && (\r\n                        <div className=\"bg-emerald-50 text-emerald-700 text-[10px] font-bold p-3 rounded-xl mb-4 flex items-center gap-2 border border-emerald-100 animate-pulse\">\r\n                           <Zap size={14} fill=\"currentColor\" /> You'll earn â‚¦{earnedFromThis.toLocaleString()} in coins\r\n                        </div>\r\n                      )}\r\n\r\n                      {isFormValid ? (\r\n                        <button \r\n                          onClick={() => handleCheckout(store.id, store, items)}\r\n                          disabled={isLoading}\r\n                          className=\"flex items-center justify-center gap-2 w-full bg-gray-900 text-white py-3.5 rounded-xl font-bold text-sm hover:bg-gray-800 transition active:scale-95 disabled:bg-gray-500 disabled:cursor-not-allowed\"\r\n                        >\r\n                          {isLoading ? (\r\n                              <Loader2 className=\"animate-spin\" size={18} /> \r\n                          ) : (\r\n                              <><MessageCircle size={18} /> Send Order to {store.name}</>\r\n                          )}\r\n                        </button>\r\n                      ) : (\r\n                        <button disabled className=\"w-full bg-gray-200 text-gray-400 py-3.5 rounded-xl font-bold text-sm cursor-not-allowed\">\r\n                          Fill Billing Details to Checkout\r\n                        </button>\r\n                      )}\r\n                   </div>\r\n                 );\r\n               })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 744, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/components/shared/EmpireWalletHUD.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Coins, X, Wallet, CheckCircle2, ChevronRight } from \"lucide-react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\n\r\nexport default function EmpireWalletHUD() {\r\n  const pathname = usePathname();\r\n  const [balance, setBalance] = useState<number | null>(null);\r\n  const [customerName, setCustomerName] = useState<string | null>(null);\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n\r\n  const isInternalPage = pathname?.startsWith('/dashboard') || pathname?.startsWith('/admin');\r\n  if (isInternalPage) return null;\r\n  \r\n  useEffect(() => {\r\n    const savedPhone = localStorage.getItem(\"empire_user_phone\");\r\n    const savedName = localStorage.getItem(\"empire_user_name\");\r\n    \r\n    if (savedName) setCustomerName(savedName);\r\n    if (savedPhone) {\r\n      setPhone(savedPhone);\r\n      fetchBalance(savedPhone);\r\n    }\r\n  }, []);\r\n\r\n  const fetchBalance = async (phoneNumber: string) => {\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await supabase\r\n        .from(\"user_wallets\")\r\n        .select(\"coin_balance, customer_name\")\r\n        .eq(\"phone_number\", phoneNumber)\r\n        .single();\r\n      \r\n      if (data) {\r\n        setBalance(data.coin_balance);\r\n        setCustomerName(data.customer_name);\r\n        localStorage.setItem(\"empire_user_phone\", phoneNumber);\r\n        if (data.customer_name) localStorage.setItem(\"empire_user_name\", data.customer_name);\r\n      } else {\r\n        setBalance(0);\r\n        setCustomerName(null);\r\n      }\r\n    } catch (error) {\r\n      setBalance(0);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCheck = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (phone.length > 8) fetchBalance(phone);\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed top-24 md:top-28 right-4 z-[45] flex flex-col items-end gap-2 pointer-events-none\">\r\n      {/* Floating Button - Small on mobile, Full on Desktop */}\r\n      <button \r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"pointer-events-auto bg-white/90 backdrop-blur-md border-2 border-amber-100 shadow-2xl rounded-2xl p-2 md:px-4 md:py-2 flex items-center gap-2 active:scale-95 transition-all group\"\r\n      >\r\n        <div className=\"bg-amber-500 p-1.5 rounded-xl text-white shadow-lg shadow-amber-200\">\r\n          <Coins size={16} fill=\"currentColor\" />\r\n        </div>\r\n        <div className=\"text-left hidden md:block\">\r\n          <p className=\"text-[8px] font-black text-amber-600 uppercase tracking-widest leading-none\">Empire Wallet</p>\r\n          <p className=\"text-sm font-black text-gray-900 leading-tight\">\r\n            {balance !== null ? `â‚¦${balance.toLocaleString()}` : \"Sync\"}\r\n          </p>\r\n        </div>\r\n        {/* Mobile-only balance peek */}\r\n        {balance !== null && balance > 0 && (\r\n          <div className=\"md:hidden pr-1\">\r\n             <p className=\"text-[10px] font-black text-gray-900\">â‚¦{balance.toLocaleString()}</p>\r\n          </div>\r\n        )}\r\n      </button>\r\n\r\n      {/* Responsive Dropdown Card */}\r\n      {isOpen && (\r\n        <div className=\"pointer-events-auto bg-white border border-gray-100 shadow-[0_20px_60px_-15px_rgba(0,0,0,0.1)] rounded-[2.5rem] p-6 w-[88vw] max-w-[320px] animate-in slide-in-from-top-4 duration-300\">\r\n          <div className=\"flex justify-between items-center mb-5\">\r\n            <h3 className=\"font-black text-gray-900 uppercase text-[10px] tracking-widest flex items-center gap-2\">\r\n              <Wallet size={14} className=\"text-amber-500\" /> My Empire Savings\r\n            </h3>\r\n            <button onClick={() => setIsOpen(false)} className=\"p-2 bg-gray-50 rounded-full text-gray-300 hover:text-gray-900 transition-colors\">\r\n              <X size={16}/>\r\n            </button>\r\n          </div>\r\n\r\n          <form onSubmit={handleCheck} className=\"space-y-4\">\r\n            <div className=\"relative\">\r\n              <input \r\n                type=\"tel\" \r\n                placeholder=\"WhatsApp Number\"\r\n                value={phone}\r\n                onChange={(e) => setPhone(e.target.value)}\r\n                className=\"w-full bg-gray-50 border-2 border-transparent rounded-2xl px-5 py-4 text-sm font-bold focus:bg-white focus:border-amber-500 transition-all outline-none\"\r\n              />\r\n            </div>\r\n            \r\n            <button \r\n              disabled={loading}\r\n              className=\"w-full bg-gray-900 text-white py-4 rounded-2xl font-black text-[11px] uppercase tracking-widest hover:bg-amber-600 transition-all shadow-xl shadow-gray-200 active:scale-95 disabled:opacity-50\"\r\n            >\r\n              {loading ? \"Syncing...\" : \"Access My Balance\"}\r\n            </button>\r\n          </form>\r\n          \r\n          {balance !== null && (\r\n            <div className=\"mt-6 p-5 bg-emerald-50 rounded-[2rem] text-center border border-emerald-100 animate-in zoom-in duration-500\">\r\n              <p className=\"text-[9px] font-black text-emerald-600/60 uppercase tracking-widest mb-1\">\r\n                {customerName ? `Welcome back, ${customerName.split(' ')[0]}` : \"Current Balance\"}\r\n              </p>\r\n              <p className=\"text-3xl font-black text-emerald-700 tracking-tighter\">â‚¦{balance.toLocaleString()}</p>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"mt-6 pt-6 border-t border-gray-100\">\r\n            <Link \r\n              href=\"/empire-coins\" \r\n              onClick={() => setIsOpen(false)}\r\n              className=\"flex items-center justify-between w-full bg-gray-50 p-4 rounded-2xl group hover:bg-amber-50 transition-colors\"\r\n            >\r\n              <div className=\"text-left\">\r\n                <p className=\"text-[10px] font-black text-gray-900 uppercase\">New to Empire Coins?</p>\r\n                <p className=\"text-[10px] text-gray-400 font-bold\">Learn how to earn & spend</p>\r\n              </div>\r\n              <ChevronRight size={16} className=\"text-gray-300 group-hover:text-amber-500 group-hover:translate-x-1 transition-all\" />\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}