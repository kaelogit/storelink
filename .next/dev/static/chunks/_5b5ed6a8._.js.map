{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\r\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseKey)"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,0LAAY,EAAC,aAAa"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { BadgeCheck, Plus, Package, Loader2 } from \"lucide-react\";\r\nimport Image from \"next/image\";\r\nimport { Store } from \"@/types\";\r\n\r\nexport default function Dashboard() {\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(true);\r\n  const [store, setStore] = useState<Store | null>(null);\r\n\r\n  useEffect(() => {\r\n    const checkUser = async () => {\r\n      // 1. Check if User is Logged In\r\n      const { data: { user } } = await supabase.auth.getUser();\r\n      \r\n      if (!user) {\r\n        router.push(\"/login\");\r\n        return;\r\n      }\r\n\r\n      // 2. Check if they have a Store\r\n      const { data: userStore, error } = await supabase\r\n        .from(\"stores\")\r\n        .select(\"*\")\r\n        .eq(\"owner_id\", user.id)\r\n        .single();\r\n\r\n      if (!userStore) {\r\n        // Logged in but no store? Go to setup\r\n        router.push(\"/onboarding\");\r\n        return;\r\n      }\r\n\r\n      // 3. Success! Show Dashboard\r\n      setStore(userStore);\r\n      setLoading(false);\r\n    };\r\n\r\n    checkUser();\r\n  }, [router]);\r\n\r\n  // Loading Screen (Prevents flashing)\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <Loader2 className=\"w-8 h-8 animate-spin text-gray-400\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!store) return null; // Safety check\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      \r\n      {/* Top Bar */}\r\n      <header className=\"bg-white border-b border-gray-200 sticky top-0 z-10\">\r\n        <div className=\"max-w-5xl mx-auto px-4 h-16 flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-2\">\r\n             <div className=\"font-bold text-xl tracking-tight\">StoreLink</div>\r\n             <span className=\"bg-gray-100 text-xs px-2 py-1 rounded-md text-gray-500\">Vendor</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-3\">\r\n             <span className=\"text-sm font-medium text-gray-700 hidden sm:block\">{store.name}</span>\r\n             <div className=\"w-8 h-8 bg-gray-200 rounded-full overflow-hidden relative border border-gray-100\">\r\n                {store.logo_url ? (\r\n                  <Image src={store.logo_url} alt=\"Logo\" fill className=\"object-cover\" />\r\n                ) : (\r\n                  <div className=\"flex items-center justify-center h-full text-xs font-bold text-gray-500\">{store.name[0]}</div>\r\n                )}\r\n             </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"max-w-5xl mx-auto px-4 py-8\">\r\n        \r\n        {/* Welcome Section */}\r\n        <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4\">\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-gray-900 flex items-center gap-2\">\r\n              Good afternoon, Vendor! \r\n              {store.subscription_plan === 'premium' && <BadgeCheck className=\"text-blue-500 w-6 h-6\" />}\r\n            </h1>\r\n            <p className=\"text-gray-500 text-sm mt-1\">Here is what's happening at <span className=\"font-medium text-gray-900\">{store.name}</span> today.</p>\r\n          </div>\r\n          \r\n          <div className=\"flex gap-3\">\r\n             <a \r\n               href={`/${store.slug}`} \r\n               target=\"_blank\"\r\n               className=\"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-50 transition\"\r\n             >\r\n               View Shop\r\n             </a>\r\n             <button className=\"px-4 py-2 bg-gray-900 text-white rounded-lg text-sm font-medium shadow-md hover:bg-gray-800 transition flex items-center gap-2\">\r\n               <Plus size={16} /> Add Product\r\n             </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats Grid */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8\">\r\n           <div className=\"bg-white p-5 rounded-2xl shadow-sm border border-gray-100\">\r\n              <p className=\"text-xs text-gray-400 font-medium uppercase\">Total Products</p>\r\n              <p className=\"text-2xl font-bold text-gray-900 mt-1\">0</p>\r\n           </div>\r\n           <div className=\"bg-white p-5 rounded-2xl shadow-sm border border-gray-100\">\r\n              <p className=\"text-xs text-gray-400 font-medium uppercase\">Total Views</p>\r\n              <p className=\"text-2xl font-bold text-gray-900 mt-1\">0</p>\r\n           </div>\r\n           <div className=\"bg-white p-5 rounded-2xl shadow-sm border border-gray-100\">\r\n              <p className=\"text-xs text-gray-400 font-medium uppercase\">Plan</p>\r\n              <p className=\"text-2xl font-bold text-green-600 mt-1 capitalize\">{store.subscription_plan}</p>\r\n           </div>\r\n           <div className=\"bg-white p-5 rounded-2xl shadow-sm border border-gray-100\">\r\n              <p className=\"text-xs text-gray-400 font-medium uppercase\">Status</p>\r\n              <p className=\"text-2xl font-bold text-gray-900 mt-1\">Active</p>\r\n           </div>\r\n        </div>\r\n\r\n        {/* Empty State */}\r\n        <div className=\"bg-white rounded-3xl border border-dashed border-gray-200 p-12 text-center flex flex-col items-center\">\r\n           <div className=\"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mb-4\">\r\n             <Package className=\"text-gray-300 w-8 h-8\" />\r\n           </div>\r\n           <h3 className=\"text-lg font-bold text-gray-900\">Your shelf is empty</h3>\r\n           <p className=\"text-gray-500 text-sm max-w-xs mx-auto mt-2\">\r\n             You haven't added any products yet. Upload your first item to start selling.\r\n           </p>\r\n           <button className=\"mt-6 px-6 py-3 bg-gray-900 text-white rounded-xl text-sm font-bold shadow-lg hover:bg-gray-800 transition\">\r\n             Upload First Product\r\n           </button>\r\n        </div>\r\n\r\n      </main>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}