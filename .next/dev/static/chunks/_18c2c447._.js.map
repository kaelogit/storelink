{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/app/onboarding/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { Loader2, Store, MapPin, Phone } from \"lucide-react\";\r\n\r\nexport default function OnboardingPage() {\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(false);\r\n  const [user, setUser] = useState<any>(null);\r\n  \r\n  // Form State\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    slug: \"\",\r\n    category: \"Fashion\", // Default\r\n    location: \"Lagos\",\r\n    whatsapp: \"\",\r\n    description: \"\"\r\n  });\r\n\r\n  // Check if user is logged in\r\n  useEffect(() => {\r\n    const checkUser = async () => {\r\n      const { data: { user } } = await supabase.auth.getUser();\r\n      if (!user) router.push(\"/login\");\r\n      setUser(user);\r\n    };\r\n    checkUser();\r\n  }, [router]);\r\n\r\n  // Auto-generate Slug from Name (e.g. \"Mira's Perfume\" -> \"miras-perfume\")\r\n  const handleNameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const name = e.target.value;\r\n    const slug = name.toLowerCase().replace(/[^a-z0-9]/g, '-').replace(/-+/g, '-').replace(/^-|-$/g, '');\r\n    setFormData({ ...formData, name, slug });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    if (!user) return;\r\n\r\n    // Insert the new store into Database\r\n    const { error } = await supabase.from(\"stores\").insert({\r\n      owner_id: user.id,\r\n      name: formData.name,\r\n      slug: formData.slug,\r\n      category: formData.category,\r\n      location: formData.location,\r\n      whatsapp_number: formData.whatsapp,\r\n      description: formData.description,\r\n      subscription_plan: 'free'\r\n    });\r\n\r\n    if (error) {\r\n      alert(\"Error: \" + error.message + \" (Maybe that Store URL is taken?)\");\r\n      setLoading(false);\r\n    } else {\r\n      // Success! Go to Dashboard\r\n      router.push(\"/dashboard\");\r\n      router.refresh();\r\n    }\r\n  };\r\n\r\n  if (!user) return null;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\r\n      <div className=\"w-full max-w-lg bg-white rounded-3xl shadow-xl overflow-hidden\">\r\n        \r\n        <div className=\"bg-gray-900 p-6 text-white text-center\">\r\n          <Store className=\"w-12 h-12 mx-auto mb-3 opacity-80\" />\r\n          <h1 className=\"text-2xl font-bold\">Setup Your Store</h1>\r\n          <p className=\"text-gray-400 text-sm\">One last step to start selling.</p>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"p-8 space-y-5\">\r\n          \r\n          {/* Store Name & Slug */}\r\n          <div>\r\n            <label className=\"block text-sm font-bold text-gray-700 mb-1\">Store Name</label>\r\n            <input \r\n              required\r\n              className=\"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-900\"\r\n              placeholder=\"e.g. Mira's Perfume\"\r\n              value={formData.name}\r\n              onChange={handleNameChange}\r\n            />\r\n            <p className=\"text-xs text-gray-400 mt-1\">\r\n              Your link: storelink.com/<span className=\"font-bold text-gray-600\">{formData.slug || \"your-store\"}</span>\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n             {/* Category */}\r\n             <div>\r\n               <label className=\"block text-sm font-bold text-gray-700 mb-1\">Category</label>\r\n               <select \r\n                 className=\"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-900\"\r\n                 value={formData.category}\r\n                 onChange={e => setFormData({...formData, category: e.target.value})}\r\n               >\r\n                 <option>Fashion</option>\r\n                 <option>Food</option>\r\n                 <option>Electronics</option>\r\n                 <option>Beauty</option>\r\n                 <option>Services</option>\r\n               </select>\r\n             </div>\r\n             \r\n             {/* Location */}\r\n             <div>\r\n               <label className=\"block text-sm font-bold text-gray-700 mb-1\">Location</label>\r\n               <div className=\"relative\">\r\n                 <MapPin className=\"absolute left-3 top-3.5 text-gray-400 w-4 h-4\" />\r\n                 <input \r\n                   required\r\n                   className=\"w-full p-3 pl-9 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-900\"\r\n                   placeholder=\"Lagos\"\r\n                   value={formData.location}\r\n                   onChange={e => setFormData({...formData, location: e.target.value})}\r\n                 />\r\n               </div>\r\n             </div>\r\n          </div>\r\n\r\n          {/* WhatsApp */}\r\n          <div>\r\n            <label className=\"block text-sm font-bold text-gray-700 mb-1\">WhatsApp Number</label>\r\n            <div className=\"relative\">\r\n              <Phone className=\"absolute left-3 top-3.5 text-gray-400 w-4 h-4\" />\r\n              <input \r\n                required\r\n                type=\"tel\"\r\n                className=\"w-full p-3 pl-9 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-900\"\r\n                placeholder=\"08012345678\"\r\n                value={formData.whatsapp}\r\n                onChange={e => setFormData({...formData, whatsapp: e.target.value})}\r\n              />\r\n            </div>\r\n            <p className=\"text-xs text-gray-400 mt-1\">Orders will be sent here.</p>\r\n          </div>\r\n\r\n          {/* Description */}\r\n          <div>\r\n            <label className=\"block text-sm font-bold text-gray-700 mb-1\">Short Bio</label>\r\n            <textarea \r\n              className=\"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-900 h-24 resize-none\"\r\n              placeholder=\"Tell customers what you sell...\"\r\n              value={formData.description}\r\n              onChange={e => setFormData({...formData, description: e.target.value})}\r\n            />\r\n          </div>\r\n\r\n          <button \r\n            type=\"submit\" \r\n            disabled={loading}\r\n            className=\"w-full bg-gray-900 text-white py-4 rounded-xl font-bold shadow-lg hover:bg-gray-800 active:scale-95 transition flex items-center justify-center gap-2\"\r\n          >\r\n            {loading ? <Loader2 className=\"animate-spin\" /> : \"Launch Store ðŸš€\"}\r\n          </button>\r\n\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 425, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}},
    {"offset": {"line": 430, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/store.js","sources":["file:///C:/Users/Kaelo/store-link/node_modules/lucide-react/src/icons/store.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5', key: 'slp6dd' }],\n  [\n    'path',\n    {\n      d: 'M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244',\n      key: 'o0xfot',\n    },\n  ],\n  ['path', { d: 'M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05', key: 'wn3emo' }],\n];\n\n/**\n * @component @name Store\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMjF2LTVhMSAxIDAgMCAwLTEtMWgtNGExIDEgMCAwIDAtMSAxdjUiIC8+CiAgPHBhdGggZD0iTTE3Ljc3NCAxMC4zMWExLjEyIDEuMTIgMCAwIDAtMS41NDkgMCAyLjUgMi41IDAgMCAxLTMuNDUxIDAgMS4xMiAxLjEyIDAgMCAwLTEuNTQ4IDAgMi41IDIuNSAwIDAgMS0zLjQ1MiAwIDEuMTIgMS4xMiAwIDAgMC0xLjU0OSAwIDIuNSAyLjUgMCAwIDEtMy43Ny0zLjI0OGwyLjg4OS00LjE4NEEyIDIgMCAwIDEgNyAyaDEwYTIgMiAwIDAgMSAxLjY1My44NzNsMi44OTUgNC4xOTJhMi41IDIuNSAwIDAgMS0zLjc3NCAzLjI0NCIgLz4KICA8cGF0aCBkPSJNNCAxMC45NVYxOWEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJ2LTguMDUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/store\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Store = createLucideIcon('store', __iconNode);\n\nexport default Store;\n"],"names":[],"mappings":"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"}}]
}