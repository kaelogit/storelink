{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/app/admin/messages/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { Mail, Clock, Check } from \"lucide-react\";\r\n\r\nexport default function InboxPage() {\r\n  const [messages, setMessages] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchMessages();\r\n  }, []);\r\n\r\n  async function fetchMessages() {\r\n    const { data } = await supabase\r\n      .from('contact_messages')\r\n      .select('*')\r\n      .order('created_at', { ascending: false });\r\n    if (data) setMessages(data);\r\n    setLoading(false);\r\n  }\r\n\r\n  async function markAsRead(id: string) {\r\n    setMessages(msgs => msgs.map(m => m.id === id ? {...m, is_read: true} : m));\r\n    await supabase.from('contact_messages').update({ is_read: true }).eq('id', id);\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n            <h2 className=\"text-3xl font-black text-white\">Inbox</h2>\r\n            <p className=\"text-gray-400\">Support tickets and inquiries from the main site.</p>\r\n        </div>\r\n        <div className=\"bg-gray-800 px-4 py-2 rounded-xl text-sm font-bold text-gray-300\">\r\n            {messages.filter(m => !m.is_read).length} Unread\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid gap-4\">\r\n        {messages.length === 0 && !loading && (\r\n            <div className=\"text-center py-20 text-gray-500\">No messages yet.</div>\r\n        )}\r\n\r\n        {messages.map((msg) => (\r\n          <div \r\n            key={msg.id} \r\n            onClick={() => markAsRead(msg.id)}\r\n            className={`cursor-pointer p-6 rounded-2xl border transition-all ${\r\n              msg.is_read \r\n                ? \"bg-gray-900/30 border-gray-800 text-gray-500\" \r\n                : \"bg-gray-800 border-emerald-500/30 shadow-lg shadow-emerald-900/10\"\r\n            }`}\r\n          >\r\n            <div className=\"flex justify-between items-start mb-2\">\r\n                <div className=\"flex items-center gap-3\">\r\n                    {!msg.is_read && <div className=\"w-2 h-2 rounded-full bg-emerald-500\" />}\r\n                    <h3 className={`font-bold text-lg ${msg.is_read ? 'text-gray-400' : 'text-white'}`}>\r\n                        {msg.subject || \"No Subject\"}\r\n                    </h3>\r\n                </div>\r\n                <div className=\"flex items-center gap-2 text-xs text-gray-500\">\r\n                    <Clock size={12}/>\r\n                    {new Date(msg.created_at).toLocaleDateString()}\r\n                </div>\r\n            </div>\r\n\r\n            <p className=\"text-sm mb-4 line-clamp-2\">{msg.message}</p>\r\n\r\n            <div className=\"flex items-center gap-4 text-xs font-mono bg-black/20 w-fit px-3 py-2 rounded-lg\">\r\n                <span className=\"text-emerald-500\">{msg.name}</span>\r\n                <span className=\"text-gray-600\">|</span>\r\n                <span className=\"text-blue-400\">{msg.email}</span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;AAHA;;;;AAKe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;+BAAC;YACR;QACF;8BAAG,EAAE;IAEL,eAAe;QACb,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,8HAAQ,CAC5B,IAAI,CAAC,oBACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAC1C,IAAI,MAAM,YAAY;QACtB,WAAW;IACb;IAEA,eAAe,WAAW,EAAU;QAClC,YAAY,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,KAAK;oBAAC,GAAG,CAAC;oBAAE,SAAS;gBAAI,IAAI;QACxE,MAAM,8HAAQ,CAAC,IAAI,CAAC,oBAAoB,MAAM,CAAC;YAAE,SAAS;QAAK,GAAG,EAAE,CAAC,MAAM;IAC7E;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACG,6LAAC;gCAAG,WAAU;0CAAiC;;;;;;0CAC/C,6LAAC;gCAAE,WAAU;0CAAgB;;;;;;;;;;;;kCAEjC,6LAAC;wBAAI,WAAU;;4BACV,SAAS,MAAM,CAAC,CAAA,IAAK,CAAC,EAAE,OAAO,EAAE,MAAM;4BAAC;;;;;;;;;;;;;0BAI/C,6LAAC;gBAAI,WAAU;;oBACZ,SAAS,MAAM,KAAK,KAAK,CAAC,yBACvB,6LAAC;wBAAI,WAAU;kCAAkC;;;;;;oBAGpD,SAAS,GAAG,CAAC,CAAC,oBACb,6LAAC;4BAEC,SAAS,IAAM,WAAW,IAAI,EAAE;4BAChC,WAAW,CAAC,qDAAqD,EAC/D,IAAI,OAAO,GACP,iDACA,qEACJ;;8CAEF,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAI,WAAU;;gDACV,CAAC,IAAI,OAAO,kBAAI,6LAAC;oDAAI,WAAU;;;;;;8DAChC,6LAAC;oDAAG,WAAW,CAAC,kBAAkB,EAAE,IAAI,OAAO,GAAG,kBAAkB,cAAc;8DAC7E,IAAI,OAAO,IAAI;;;;;;;;;;;;sDAGxB,6LAAC;4CAAI,WAAU;;8DACX,6LAAC,gNAAK;oDAAC,MAAM;;;;;;gDACZ,IAAI,KAAK,IAAI,UAAU,EAAE,kBAAkB;;;;;;;;;;;;;8CAIpD,6LAAC;oCAAE,WAAU;8CAA6B,IAAI,OAAO;;;;;;8CAErD,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAK,WAAU;sDAAoB,IAAI,IAAI;;;;;;sDAC5C,6LAAC;4CAAK,WAAU;sDAAgB;;;;;;sDAChC,6LAAC;4CAAK,WAAU;sDAAiB,IAAI,KAAK;;;;;;;;;;;;;2BA1BzC,IAAI,EAAE;;;;;;;;;;;;;;;;;AAiCvB;GA1EwB;KAAA"}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/clock.js","sources":["file:///C:/Users/Kaelo/store-link/node_modules/lucide-react/src/icons/clock.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 6v6l4 2', key: 'mmk7yg' }],\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n];\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgNnY2bDQgMiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('clock', __iconNode);\n\nexport default Clock;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAe,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IAC5C;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAU;YAAE,CAAA,CAAA,CAAA,CAAI,IAAA,CAAA;YAAM,CAAA,CAAA,EAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAG,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAA,CAAK,QAAA;QAAA,CAAU;KAAA;CAC3D;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,KAAA,CAAA,CAAA,KAAQ,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,iKAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAS,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA"}}]
}