{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/components/StoreFront.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { \r\n  MapPin, Info, Copy, Check, ShoppingBag, \r\n  X, Instagram, Search, Package, Phone, LayoutDashboard, ChevronRight,\r\n  BadgeCheck, Gem, Share2\r\n} from \"lucide-react\";\r\nimport { Store } from \"@/types\";\r\nimport { useCart } from \"@/context/CartContext\";\r\n\r\nconst TiktokIcon = ({ size = 20 }: { size?: number }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5\"/></svg>\r\n);\r\n\r\nconst VerificationBadge = ({ store }: { store: any }) => {\r\n  return (\r\n    <div className=\"inline-flex items-center gap-1 ml-1.5 align-middle\">\r\n      {store.verification_status === 'verified' && (\r\n        <span title=\"Verified Vendor\">\r\n          <BadgeCheck size={18} className=\"text-blue-500 fill-blue-50\" />\r\n        </span>\r\n      )}\r\n      \r\n      {store.subscription_plan === 'diamond' && (\r\n        <span title=\"Diamond Vendor\">\r\n          <Gem size={18} className=\"text-purple-600 fill-purple-50\" />\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface StoreFrontProps {\r\n  store: Store;\r\n  products: any[];\r\n  categories: { id: string; name: string }[];\r\n}\r\n\r\nexport default function StoreFront({ store, products, categories }: StoreFrontProps) {\r\n  const { addToCart, cartCount, setIsCartOpen, isCartOpen } = useCart();\r\n  \r\n  const [activeCategory, setActiveCategory] = useState(\"All\");\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [isInfoOpen, setIsInfoOpen] = useState(false);\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  const handleCopyLink = () => {\r\n    navigator.clipboard.writeText(`${window.location.origin}/${store.slug}`);\r\n    setCopied(true);\r\n    setTimeout(() => setCopied(false), 2000);\r\n  };\r\n\r\n  const handleAddToCart = (product: any) => {\r\n    addToCart(product, store);\r\n  };\r\n\r\n  const filteredProducts = products.filter(product => {\r\n    const matchesSearch = product.name.toLowerCase().includes(searchTerm.toLowerCase());\r\n    const matchesCategory = activeCategory === \"All\" || product.categories?.name === activeCategory;\r\n    return matchesSearch && matchesCategory;\r\n  });\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white font-sans flex flex-col selection:bg-emerald-100\">\r\n      \r\n      <nav className=\"sticky top-0 z-40 bg-white/70 backdrop-blur-xl border-b border-gray-100 h-16 flex items-center justify-between px-4 md:px-8 transition-all\">\r\n         <div className=\"flex items-center gap-3\">\r\n            <Link href=\"/\" className=\"flex items-center gap-1 group\">\r\n               <LayoutDashboard size={20} className=\"text-emerald-600 group-hover:rotate-12 transition-transform duration-300\"/> \r\n               <span className=\"font-black text-gray-900 tracking-tighter hidden md:block uppercase text-xs\">StoreLink</span>\r\n            </Link>\r\n            <span className=\"text-gray-200 font-thin text-2xl\">/</span>\r\n            <div className=\"flex items-center gap-2\">\r\n               <div className=\"relative w-7 h-7 rounded-full overflow-hidden bg-gray-100 border border-gray-200 shadow-inner\">\r\n                  {store.logo_url ? <Image src={store.logo_url} alt=\"\" fill className=\"object-cover\"/> : <div className=\"w-full h-full bg-gray-900\"/>}\r\n               </div>\r\n               <h1 className=\"font-bold text-gray-900 truncate max-w-[140px] md:max-w-none flex items-center tracking-tight\">\r\n                 {store.name}\r\n                 <VerificationBadge store={store} />\r\n               </h1>\r\n            </div>\r\n         </div>\r\n\r\n         <div className=\"flex items-center gap-1\">\r\n            <button onClick={() => setIsInfoOpen(true)} className=\"p-2.5 hover:bg-gray-100 rounded-full transition-colors text-gray-600 active:scale-90\">\r\n               <Info size={22} />\r\n            </button>\r\n         </div>\r\n      </nav>\r\n\r\n      {/* --- HERO SECTION --- */}\r\n      <div className=\"relative w-full bg-gray-50 border-b border-gray-100\">\r\n         <div className=\"w-full h-52 md:h-72 relative overflow-hidden bg-gray-200\">\r\n            {store.cover_image_url ? (\r\n               <Image src={store.cover_image_url} alt=\"Cover\" fill className=\"object-cover\" priority />\r\n            ) : (\r\n               <div className=\"absolute inset-0 flex items-center justify-center text-gray-300 bg-gray-100\">\r\n                  <Package size={56} className=\"opacity-10\" />\r\n               </div>\r\n            )}\r\n            <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent\"></div>\r\n         </div>\r\n\r\n         <div className=\"max-w-7xl mx-auto px-4 md:px-8 -mt-12 md:-mt-16 relative z-10 pb-8\">\r\n            <div className=\"flex flex-col md:flex-row items-start md:items-end justify-between gap-6\">\r\n               \r\n               <div className=\"flex items-end gap-5\">\r\n                  <div className=\"w-28 h-28 md:w-36 md:h-36 rounded-[2rem] border-[6px] border-white shadow-2xl bg-white relative overflow-hidden shrink-0\">\r\n                     {store.logo_url ? (\r\n                        <Image src={store.logo_url} alt=\"Logo\" fill className=\"object-cover\" />\r\n                     ) : (\r\n                        <div className=\"flex items-center justify-center h-full text-3xl font-black bg-gray-900 text-white uppercase\">{store.name.charAt(0)}</div>\r\n                     )}\r\n                  </div>\r\n                  \r\n                  <div className=\"hidden md:block mb-4\">\r\n                     <h2 className=\"text-4xl font-black text-gray-900 flex items-center gap-2 tracking-tighter uppercase\">\r\n                       {store.name}\r\n                       <VerificationBadge store={store} />\r\n                     </h2>\r\n                     <p className=\"text-gray-500 flex items-center gap-1.5 text-sm font-bold mt-1\">\r\n                        <MapPin size={16} className=\"text-emerald-600\"/> {store.location}\r\n                     </p>\r\n                  </div>\r\n               </div>\r\n\r\n               <div className=\"flex gap-3 w-full md:w-auto mt-2 md:mt-0\">\r\n                  <button onClick={handleCopyLink} className=\"flex-1 md:flex-none py-3.5 px-6 bg-white border border-gray-200 shadow-sm rounded-2xl text-sm font-black text-gray-700 hover:border-gray-900 flex items-center justify-center gap-2 transition active:scale-95\">\r\n                     {copied ? <Check size={18} className=\"text-green-600\"/> : <Share2 size={18}/>}\r\n                     {copied ? \"Copied\" : \"Share Store\"}\r\n                  </button>\r\n                  <button onClick={() => setIsInfoOpen(true)} className=\"flex-1 md:flex-none py-3.5 px-6 bg-gray-900 shadow-xl shadow-gray-200 rounded-2xl text-sm font-black text-white hover:bg-emerald-600 flex items-center justify-center gap-2 transition active:scale-95\">\r\n                     More Info <ChevronRight size={18} />\r\n                  </button>\r\n               </div>\r\n            </div>\r\n\r\n            <div className=\"mt-6 md:hidden\">\r\n               <h2 className=\"text-3xl font-black text-gray-900 flex items-center gap-2 tracking-tighter uppercase\">\r\n                 {store.name}\r\n                 <VerificationBadge store={store} />\r\n               </h2>\r\n               <p className=\"text-gray-600 text-sm mt-2 leading-relaxed font-medium line-clamp-2\">{store.description || \"Welcome to our digital storefront.\"}</p>\r\n               <div className=\"flex items-center gap-4 mt-4 text-[10px] font-black uppercase tracking-widest text-gray-400\">\r\n                  <span className=\"flex items-center gap-1 bg-white px-2.5 py-1.5 rounded-lg shadow-sm border border-gray-100\"><MapPin size={12} className=\"text-emerald-500\"/> {store.location}</span>\r\n                  <span className=\"bg-white px-2.5 py-1.5 rounded-lg shadow-sm border border-gray-100\">{products.length} Products</span>\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </div>\r\n\r\n      <div className=\"sticky top-16 z-30 bg-white/95 backdrop-blur-md border-b border-gray-100 shadow-sm\">\r\n         <div className=\"max-w-7xl mx-auto px-4 md:px-8 py-4\">\r\n            <div className=\"flex flex-col md:flex-row gap-4\">\r\n               <div className=\"relative w-full md:max-w-xs\">\r\n                  <Search className=\"absolute left-4 top-3.5 text-gray-400\" size={18} />\r\n                  <input \r\n                    className=\"w-full pl-12 pr-4 py-3 bg-gray-100 rounded-2xl text-sm font-medium outline-none focus:ring-2 focus:ring-gray-900 focus:bg-white transition-all border-transparent focus:border-transparent\"\r\n                    placeholder=\"Search collection...\"\r\n                    value={searchTerm}\r\n                    onChange={e => setSearchTerm(e.target.value)}\r\n                  />\r\n               </div>\r\n               \r\n               <div className=\"flex gap-2 overflow-x-auto no-scrollbar items-center pb-1 md:pb-0\">\r\n                  <button \r\n                    onClick={() => setActiveCategory(\"All\")}\r\n                    className={`px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest whitespace-nowrap transition-all duration-300 ${activeCategory === \"All\" ? \"bg-black text-white shadow-lg\" : \"bg-white text-gray-500 border border-gray-200\"}`}\r\n                  >\r\n                    All Items\r\n                  </button>\r\n                  {categories.map(cat => (\r\n                    <button \r\n                      key={cat.id}\r\n                      onClick={() => setActiveCategory(cat.name)}\r\n                      className={`px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest whitespace-nowrap transition-all duration-300 ${activeCategory === cat.name ? \"bg-black text-white shadow-lg\" : \"bg-white text-gray-500 border border-gray-200\"}`}\r\n                    >\r\n                      {cat.name}\r\n                    </button>\r\n                  ))}\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </div>\r\n\r\n      <div className=\"flex-1 bg-white\">\r\n         <div className=\"max-w-7xl mx-auto px-4 md:px-8 py-10\">\r\n            {filteredProducts.length === 0 ? (\r\n               <div className=\"text-center py-24 flex flex-col items-center\">\r\n                  <div className=\"w-24 h-24 bg-gray-50 rounded-[2.5rem] flex items-center justify-center mb-6 border border-gray-100\"><Package size={40} className=\"text-gray-200\"/></div>\r\n                  <h3 className=\"text-xl font-black text-gray-900 uppercase tracking-tight\">No products match</h3>\r\n                  <p className=\"text-gray-400 text-sm mt-1 font-medium\">Try adjusting your search or category.</p>\r\n               </div>\r\n            ) : (\r\n               <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-8\">\r\n                  {filteredProducts.map(product => (\r\n                    <div key={product.id} className=\"group bg-white rounded-[2rem] overflow-hidden border border-gray-100 shadow-sm hover:shadow-2xl transition-all duration-500 flex flex-col relative\">\r\n                       <Link href={`/product/${product.id}`} className=\"block relative aspect-[4/5] bg-gray-50 overflow-hidden\">\r\n                          {product.image_urls?.[0] ? (\r\n                            <Image \r\n                              src={product.image_urls[0]} \r\n                              alt={product.name} \r\n                              fill \r\n                              className=\"object-cover transition-transform duration-700 md:group-hover:scale-105\" \r\n                            />\r\n                          ) : (\r\n                            <div className=\"flex items-center justify-center h-full text-gray-200\"><Package size={48}/></div>\r\n                          )}\r\n                          \r\n                          <div className=\"absolute bottom-3 left-3 bg-white/90 backdrop-blur-md px-3.5 py-2 rounded-2xl shadow-sm border border-white/20\">\r\n                             <p className=\"text-sm font-black text-gray-900 tracking-tighter\">₦{product.price.toLocaleString()}</p>\r\n                          </div>\r\n\r\n                          {product.stock_quantity === 0 && (\r\n                             <div className=\"absolute inset-0 bg-black/40 backdrop-blur-[1px] flex items-center justify-center\">\r\n                                <span className=\"bg-white text-black text-[10px] font-black px-4 py-2 rounded-xl uppercase tracking-widest shadow-2xl\">Sold Out</span>\r\n                             </div>\r\n                          )}\r\n                       </Link>\r\n\r\n                       <div className=\"p-5 flex flex-col flex-1\">\r\n                          <div className=\"mb-4\">\r\n                             <p className=\"text-[10px] text-emerald-600 font-black uppercase tracking-widest mb-1\">{product.categories?.name || \"General\"}</p>\r\n                             <h3 className=\"font-bold text-gray-900 leading-tight line-clamp-2 text-sm md:text-base h-11\">{product.name}</h3>\r\n                          </div>\r\n                          \r\n                          <button \r\n                            disabled={product.stock_quantity === 0}\r\n                            onClick={() => handleAddToCart(product)}\r\n                            className=\"mt-auto w-full py-3.5 bg-gray-50 md:group-hover:bg-emerald-600 md:group-hover:text-white text-gray-900 rounded-2xl flex items-center justify-center gap-2 transition-all duration-300 font-black text-[10px] uppercase tracking-widest disabled:opacity-50 active:scale-95 border border-transparent group-hover:border-emerald-500\"\r\n                          >\r\n                             <ShoppingBag size={16} /> Add to Cart\r\n                          </button>\r\n                       </div>\r\n                    </div>\r\n                  ))}\r\n               </div>\r\n            )}\r\n         </div>\r\n      </div>\r\n\r\n      <footer className=\"bg-gray-50 border-t border-gray-100 py-12 text-center mt-auto\">\r\n          <Link href=\"/\" className=\"inline-flex items-center gap-2 opacity-40 hover:opacity-100 transition-opacity duration-500\">\r\n             <LayoutDashboard size={18} className=\"text-emerald-600\"/>\r\n             <span className=\"font-black text-gray-900 uppercase tracking-tighter text-sm\">StoreLink Engine</span>\r\n          </Link>\r\n          <p className=\"text-[10px] text-gray-400 font-bold uppercase tracking-[0.3em] mt-4\">Verified Social Commerce • 2025</p>\r\n      </footer>\r\n\r\n      {cartCount > 0 && !isCartOpen && (\r\n        <button \r\n          onClick={() => setIsCartOpen(true)} \r\n          className=\"fixed bottom-8 right-6 bg-gray-900 text-white p-5 rounded-[2.5rem] shadow-[0_20px_50px_rgba(0,0,0,0.3)] z-50 hover:scale-110 active:scale-90 transition-all animate-in zoom-in\"\r\n        >\r\n           <ShoppingBag size={28} />\r\n           <span className=\"absolute -top-1 -right-1 bg-emerald-500 w-7 h-7 rounded-full flex items-center justify-center text-xs font-black border-[3px] border-white shadow-lg\">\r\n             {cartCount}\r\n           </span>\r\n        </button>\r\n      )}\r\n\r\n      {/* --- ABOUT STORE SLIDE-OVER --- */}\r\n      {isInfoOpen && (\r\n         <div className=\"fixed inset-0 z-[60] bg-black/60 backdrop-blur-sm flex justify-end animate-in fade-in duration-500\">\r\n            <div className=\"absolute inset-0\" onClick={() => setIsInfoOpen(false)}></div>\r\n            \r\n            <div className=\"relative w-full max-w-md bg-white h-full shadow-2xl p-8 overflow-y-auto animate-in slide-in-from-right duration-300 flex flex-col rounded-l-[3rem]\">\r\n               <div className=\"flex justify-between items-center mb-10\">\r\n                  <h2 className=\"font-black text-2xl text-gray-900 tracking-tighter uppercase\">About Business</h2>\r\n                  <button onClick={() => setIsInfoOpen(false)} className=\"p-3 bg-gray-50 rounded-full hover:bg-gray-100 active:scale-90 transition-all\"><X size={24}/></button>\r\n               </div>\r\n\r\n               <div className=\"text-center mb-10\">\r\n                  <div className=\"w-32 h-32 bg-gray-50 rounded-[2.5rem] mx-auto mb-6 overflow-hidden border-4 border-white shadow-xl relative shadow-inner\">\r\n                      {store.logo_url ? <Image src={store.logo_url} alt=\"\" fill className=\"object-cover\" /> : null}\r\n                  </div>\r\n                  <h3 className=\"font-black text-3xl text-gray-900 tracking-tighter uppercase flex items-center justify-center gap-2\">\r\n                    {store.name}\r\n                    <VerificationBadge store={store} />\r\n                  </h3>\r\n                  <p className=\"text-emerald-600 text-xs font-black uppercase mt-2 tracking-widest\">{store.location}</p>\r\n               </div>\r\n\r\n               <div className=\"bg-gray-50 p-7 rounded-[2rem] mb-10 border border-gray-100 relative\">\r\n                  <div className=\"absolute -top-3 left-7 bg-white px-3 text-[10px] font-black uppercase tracking-widest text-gray-400 border border-gray-100 rounded-lg\">Biography</div>\r\n                  <p className=\"text-gray-600 text-sm leading-relaxed italic text-center font-medium\">\r\n                     \"{store.description || 'Welcome to our store! We sell amazing products.'}\"\r\n                  </p>\r\n               </div>\r\n\r\n               <div className=\"space-y-4 mt-auto\">\r\n                   <h4 className=\"font-black text-gray-400 text-[10px] uppercase tracking-widest mb-2 text-center\">Social Empire</h4>\r\n                   \r\n                   {store.whatsapp_number && (\r\n                       <div className=\"flex items-center gap-4 p-4 rounded-2xl bg-emerald-50/50 border border-emerald-100\">\r\n                           <div className=\"bg-emerald-500 p-2.5 rounded-xl text-white shadow-lg shadow-emerald-100\"><Phone size={20}/></div>\r\n                           <div>\r\n                               <p className=\"text-[9px] text-emerald-600 font-black uppercase tracking-widest\">WhatsApp Direct</p>\r\n                               <p className=\"text-sm font-black text-gray-900\">{store.whatsapp_number}</p>\r\n                           </div>\r\n                       </div>\r\n                   )}\r\n\r\n                   <div className=\"grid grid-cols-2 gap-3\">\r\n                     {store.instagram_handle && (\r\n                         <a href={`https://instagram.com/${store.instagram_handle}`} target=\"_blank\" className=\"flex items-center justify-center gap-2 p-4 bg-gray-50 text-gray-900 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-pink-50 hover:text-pink-600 transition-colors border border-transparent hover:border-pink-100\">\r\n                             <Instagram size={18} /> Instagram\r\n                         </a>\r\n                     )}\r\n                     {store.tiktok_url && (\r\n                         <a href={store.tiktok_url} target=\"_blank\" className=\"flex items-center justify-center gap-2 p-4 bg-gray-50 text-gray-900 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-blue-50 transition-colors border border-transparent hover:border-blue-100\">\r\n                             <TiktokIcon size={18} /> TikTok\r\n                         </a>\r\n                     )}\r\n                   </div>\r\n               </div>\r\n\r\n               <p className=\"text-center text-[9px] font-black text-gray-300 mt-10 uppercase tracking-widest\">Public Empire ID: {store.slug}</p>\r\n            </div>\r\n         </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1133, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaelo/store-link/components/ViewTracker.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useRef } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\n\r\nexport default function ViewTracker({ storeId }: { storeId: string }) {\r\n  const hasCounted = useRef(false);\r\n\r\n  useEffect(() => {\r\n    const sessionKey = `viewed_store_${storeId}`;\r\n    if (sessionStorage.getItem(sessionKey) || hasCounted.current) {\r\n      return; \r\n    }\r\n\r\n    const countView = async () => {\r\n      try {\r\n        hasCounted.current = true;\r\n        sessionStorage.setItem(sessionKey, \"true\");\r\n\r\n        await supabase.rpc('increment_store_view', { store_uuid: storeId });\r\n      } catch (error) {\r\n        console.error(error); \r\n      }\r\n    };\r\n\r\n    countView();\r\n  }, [storeId]);\r\n\r\n  return null; \r\n}"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAKe,SAAS,YAAY,EAAE,OAAO,EAAuB;;IAClE,MAAM,aAAa,IAAA,uKAAM,EAAC;IAE1B,IAAA,0KAAS;iCAAC;YACR,MAAM,aAAa,CAAC,aAAa,EAAE,SAAS;YAC5C,IAAI,eAAe,OAAO,CAAC,eAAe,WAAW,OAAO,EAAE;gBAC5D;YACF;YAEA,MAAM;mDAAY;oBAChB,IAAI;wBACF,WAAW,OAAO,GAAG;wBACrB,eAAe,OAAO,CAAC,YAAY;wBAEnC,MAAM,8HAAQ,CAAC,GAAG,CAAC,wBAAwB;4BAAE,YAAY;wBAAQ;oBACnE,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC;oBAChB;gBACF;;YAEA;QACF;gCAAG;QAAC;KAAQ;IAEZ,OAAO;AACT;GAxBwB;KAAA"}}]
}